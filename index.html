
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>UAA API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#overview-69051" class="toc-h1 toc-link" data-title="Overview">Overview</a>
          </li>
          <li>
            <a href="#authorization-98238" class="toc-h1 toc-link" data-title="Authorization">Authorization</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authorization-code-grant-99926" class="toc-h2 toc-link" data-title="Authorization">Authorization Code Grant</a>
                  </li>
                  <li>
                    <a href="#implicit-grant-74898" class="toc-h2 toc-link" data-title="Authorization">Implicit Grant</a>
                  </li>
                  <li>
                    <a href="#implicit-grant-with-prompt-19137" class="toc-h2 toc-link" data-title="Authorization">Implicit Grant with prompt</a>
                  </li>
                  <li>
                    <a href="#openid-connect-flow-98812" class="toc-h2 toc-link" data-title="Authorization">OpenID Connect flow</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#token-30037" class="toc-h1 toc-link" data-title="Token">Token</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authorization-code-grant-63003" class="toc-h2 toc-link" data-title="Token">Authorization Code Grant</a>
                  </li>
                  <li>
                    <a href="#client-credentials-grant-6471" class="toc-h2 toc-link" data-title="Token">Client Credentials Grant</a>
                  </li>
                  <li>
                    <a href="#password-grant-28330" class="toc-h2 toc-link" data-title="Token">Password Grant</a>
                  </li>
                  <li>
                    <a href="#user-token-grant-21336" class="toc-h2 toc-link" data-title="Token">User Token Grant</a>
                  </li>
                  <li>
                    <a href="#saml2-bearer-grant-52389" class="toc-h2 toc-link" data-title="Token">SAML2 Bearer Grant</a>
                  </li>
                  <li>
                    <a href="#jwt-bearer-token-grant-35618" class="toc-h2 toc-link" data-title="Token">JWT Bearer Token Grant</a>
                  </li>
                  <li>
                    <a href="#refresh-token-83274" class="toc-h2 toc-link" data-title="Token">Refresh Token</a>
                  </li>
                  <li>
                    <a href="#openid-connect-56671" class="toc-h2 toc-link" data-title="Token">OpenID Connect</a>
                  </li>
                  <li>
                    <a href="#revoke-tokens-5769" class="toc-h2 toc-link" data-title="Token">Revoke tokens</a>
                  </li>
                  <li>
                    <a href="#list-tokens-67905" class="toc-h2 toc-link" data-title="Token">List tokens</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#check-token-1152" class="toc-h1 toc-link" data-title="Check Token">Check Token</a>
          </li>
          <li>
            <a href="#token-key-s-90035" class="toc-h1 toc-link" data-title="Token Key(s)">Token Key(s)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#token-key-73854" class="toc-h2 toc-link" data-title="Token Key(s)">Token Key</a>
                  </li>
                  <li>
                    <a href="#token-keys-42488" class="toc-h2 toc-link" data-title="Token Key(s)">Token Keys</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#identity-zones-82005" class="toc-h1 toc-link" data-title="Identity Zones">Identity Zones</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#creating-an-identity-zone-8796" class="toc-h2 toc-link" data-title="Identity Zones">Creating an identity zone</a>
                  </li>
                  <li>
                    <a href="#retrieving-an-identity-zone-46998" class="toc-h2 toc-link" data-title="Identity Zones">Retrieving an identity zone</a>
                  </li>
                  <li>
                    <a href="#retrieving-all-identity-zones-8481" class="toc-h2 toc-link" data-title="Identity Zones">Retrieving all identity zones</a>
                  </li>
                  <li>
                    <a href="#updating-an-identity-zone-41621" class="toc-h2 toc-link" data-title="Identity Zones">Updating an Identity Zone</a>
                  </li>
                  <li>
                    <a href="#deleting-an-identity-zone-96716" class="toc-h2 toc-link" data-title="Identity Zones">Deleting an Identity Zone</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#identity-providers-82425" class="toc-h1 toc-link" data-title="Identity Providers">Identity Providers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-77245" class="toc-h2 toc-link" data-title="Identity Providers">Create</a>
                  </li>
                  <li>
                    <a href="#retrieve-all-27870" class="toc-h2 toc-link" data-title="Identity Providers">Retrieve All</a>
                  </li>
                  <li>
                    <a href="#retrieve-65512" class="toc-h2 toc-link" data-title="Identity Providers">Retrieve</a>
                  </li>
                  <li>
                    <a href="#update-45266" class="toc-h2 toc-link" data-title="Identity Providers">Update</a>
                  </li>
                  <li>
                    <a href="#delete-74093" class="toc-h2 toc-link" data-title="Identity Providers">Delete</a>
                  </li>
                  <li>
                    <a href="#force-password-change-for-users-81896" class="toc-h2 toc-link" data-title="Identity Providers">Force password change for Users</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#service-providers-78244" class="toc-h1 toc-link" data-title="Service Providers">Service Providers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-43757" class="toc-h2 toc-link" data-title="Service Providers">List</a>
                  </li>
                  <li>
                    <a href="#get-39801" class="toc-h2 toc-link" data-title="Service Providers">Get</a>
                  </li>
                  <li>
                    <a href="#create-62742" class="toc-h2 toc-link" data-title="Service Providers">Create</a>
                  </li>
                  <li>
                    <a href="#update-49829" class="toc-h2 toc-link" data-title="Service Providers">Update</a>
                  </li>
                  <li>
                    <a href="#delete-23749" class="toc-h2 toc-link" data-title="Service Providers">Delete</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#users-93071" class="toc-h1 toc-link" data-title="Users">Users</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-52471" class="toc-h2 toc-link" data-title="Users">Get</a>
                  </li>
                  <li>
                    <a href="#list-27171" class="toc-h2 toc-link" data-title="Users">List</a>
                  </li>
                  <li>
                    <a href="#list-with-attribute-filtering-97023" class="toc-h2 toc-link" data-title="Users">List with Attribute Filtering</a>
                  </li>
                  <li>
                    <a href="#create-32989" class="toc-h2 toc-link" data-title="Users">Create</a>
                  </li>
                  <li>
                    <a href="#update-34168" class="toc-h2 toc-link" data-title="Users">Update</a>
                  </li>
                  <li>
                    <a href="#patch-42510" class="toc-h2 toc-link" data-title="Users">Patch</a>
                  </li>
                  <li>
                    <a href="#delete-39449" class="toc-h2 toc-link" data-title="Users">Delete</a>
                  </li>
                  <li>
                    <a href="#user-info-97259" class="toc-h2 toc-link" data-title="Users">User Info</a>
                  </li>
                  <li>
                    <a href="#change-user-password-61519" class="toc-h2 toc-link" data-title="Users">Change user password</a>
                  </li>
                  <li>
                    <a href="#unlock-account-16727" class="toc-h2 toc-link" data-title="Users">Unlock Account</a>
                  </li>
                  <li>
                    <a href="#force-user-password-to-expire-47043" class="toc-h2 toc-link" data-title="Users">Force user password to expire</a>
                  </li>
                  <li>
                    <a href="#get-user-verification-link-76986" class="toc-h2 toc-link" data-title="Users">Get user verification link</a>
                  </li>
                  <li>
                    <a href="#verify-user-73397" class="toc-h2 toc-link" data-title="Users">Verify user</a>
                  </li>
                  <li>
                    <a href="#lookup-user-ids-usernames-98093" class="toc-h2 toc-link" data-title="Users">Lookup User IDs/Usernames</a>
                  </li>
                  <li>
                    <a href="#invite-users-11129" class="toc-h2 toc-link" data-title="Users">Invite users</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#groups-85216" class="toc-h1 toc-link" data-title="Groups">Groups</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-41645" class="toc-h2 toc-link" data-title="Groups">Create</a>
                  </li>
                  <li>
                    <a href="#retrieve-4411" class="toc-h2 toc-link" data-title="Groups">Retrieve</a>
                  </li>
                  <li>
                    <a href="#update-53441" class="toc-h2 toc-link" data-title="Groups">Update</a>
                  </li>
                  <li>
                    <a href="#patch-32641" class="toc-h2 toc-link" data-title="Groups">Patch</a>
                  </li>
                  <li>
                    <a href="#delete-38706" class="toc-h2 toc-link" data-title="Groups">Delete</a>
                  </li>
                  <li>
                    <a href="#list-62177" class="toc-h2 toc-link" data-title="Groups">List</a>
                  </li>
                  <li>
                    <a href="#check-membership-46479" class="toc-h2 toc-link" data-title="Groups">Check Membership</a>
                  </li>
                  <li>
                    <a href="#add-member-95225" class="toc-h2 toc-link" data-title="Groups">Add Member</a>
                  </li>
                  <li>
                    <a href="#remove-member-54142" class="toc-h2 toc-link" data-title="Groups">Remove Member</a>
                  </li>
                  <li>
                    <a href="#list-members-63154" class="toc-h2 toc-link" data-title="Groups">List Members</a>
                  </li>
                  <li>
                    <a href="#external-group-mappings-97896" class="toc-h2 toc-link" data-title="Groups">External Group Mappings</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#clients-46378" class="toc-h1 toc-link" data-title="Clients">Clients</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-7278" class="toc-h2 toc-link" data-title="Clients">Create</a>
                  </li>
                  <li>
                    <a href="#retrieve-26680" class="toc-h2 toc-link" data-title="Clients">Retrieve</a>
                  </li>
                  <li>
                    <a href="#update-66626" class="toc-h2 toc-link" data-title="Clients">Update</a>
                  </li>
                  <li>
                    <a href="#delete-5930" class="toc-h2 toc-link" data-title="Clients">Delete</a>
                  </li>
                  <li>
                    <a href="#change-secret-91045" class="toc-h2 toc-link" data-title="Clients">Change Secret</a>
                  </li>
                  <li>
                    <a href="#list-53360" class="toc-h2 toc-link" data-title="Clients">List</a>
                  </li>
                  <li>
                    <a href="#batch-create-70155" class="toc-h2 toc-link" data-title="Clients">Batch Create</a>
                  </li>
                  <li>
                    <a href="#batch-update-71165" class="toc-h2 toc-link" data-title="Clients">Batch Update</a>
                  </li>
                  <li>
                    <a href="#batch-secret-change-34188" class="toc-h2 toc-link" data-title="Clients">Batch Secret Change</a>
                  </li>
                  <li>
                    <a href="#mixed-actions-46418" class="toc-h2 toc-link" data-title="Clients">Mixed Actions</a>
                  </li>
                  <li>
                    <a href="#batch-delete-90224" class="toc-h2 toc-link" data-title="Clients">Batch Delete</a>
                  </li>
                  <li>
                    <a href="#metadata-77844" class="toc-h2 toc-link" data-title="Clients">Metadata</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#server-information-87384" class="toc-h1 toc-link" data-title="Server Information">Server Information</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#server-information-30515" class="toc-h2 toc-link" data-title="Server Information">Server Information</a>
                  </li>
                  <li>
                    <a href="#passcode-63570" class="toc-h2 toc-link" data-title="Server Information">Passcode</a>
                  </li>
                  <li>
                    <a href="#auto-login-76390" class="toc-h2 toc-link" data-title="Server Information">Auto Login</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#external-login-server-13531" class="toc-h1 toc-link" data-title="External Login Server">External Login Server</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#change-password-flow-53914" class="toc-h2 toc-link" data-title="External Login Server">Change Password Flow</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href="propMappings/">Internal Property Mappings</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='overview-69051'>Overview</h1>
<p>The User Account and Authentication Service (UAA):</p>

<ul>
<li>is an OAuth2 server that can be used for centralized identity management.</li>
<li>owns the user accounts and authentication sources (SAML, LDAP)</li>
<li>supports standard protocols such as SAML, LDAP and OpenID Connect to provide single sign-on and delegated authorization to web applications</li>
<li>can be invoked via JSON APIs</li>
<li>provides a basic login/approval UI for web client apps</li>
<li>supports APIs for user account management for an external web UI</li>
<li>most of the APIs are defined by the specs for the OAuth2, OpenID Connect, and SCIM standards.</li>
</ul>
<h1 id='authorization-98238'>Authorization</h1><h2 id='authorization-code-grant-99926'>Authorization Code Grant</h2><h3 id='browser-flow-5554'>Browser flow</h3>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/authorize?response_type=code&amp;client_id=login&amp;scope=openid+oauth.approvals&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fapp&#39; -i \
    -H &#39;Accept: application/x-www-form-urlencoded&#39;
</code></pre>

<pre><code class="http">GET /oauth/authorize?response_type=code&amp;client_id=login&amp;scope=openid+oauth.approvals&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fapp HTTP/1.1
Accept: application/x-www-form-urlencoded
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 302 Found
Strict-Transport-Security: max-age=31536000
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Location: http://localhost/app?code=HAg1MrTzAV
Set-Cookie: X-Uaa-Csrf=AVhRLmlatts6YBdSax3tTD;Max-Age=2592000;HttpOnly

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>Space-delimited list of response types. Here, <code>code</code> for requesting an authorization code for an access token, as per OAuth spec</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>Optional</td>
<td>requested scopes, space-delimited</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Optional</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied), optional if pre-registered by the client</td>
</tr>
</tbody></table>
<h3 id='api-flow-87989'>Api flow</h3>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/authorize?response_type=code&amp;client_id=login&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fredirect%2Fcf&amp;state=Awr2PF&#39; -i \
    -H &#39;Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiJkYzU1NjNjYmRlMTk0MWJhOGY1ZDZlNDljNjIzMzdmMyIsInN1YiI6IjNlYzU5OTExLWEwN2ItNDU4MC04ZDFmLWYwM2VmN2E1MmY2MiIsInNjb3BlIjpbInVhYS51c2VyIl0sImNsaWVudF9pZCI6ImNmIiwiY2lkIjoiY2YiLCJhenAiOiJjZiIsImdyYW50X3R5cGUiOiJwYXNzd29yZCIsInVzZXJfaWQiOiIzZWM1OTkxMS1hMDdiLTQ1ODAtOGQxZi1mMDNlZjdhNTJmNjIiLCJvcmlnaW4iOiJ1YWEiLCJ1c2VyX25hbWUiOiJtYXJpc3NhIiwiZW1haWwiOiJtYXJpc3NhQHRlc3Qub3JnIiwiYXV0aF90aW1lIjoxNTAxMjg2MTMzLCJyZXZfc2lnIjoiY2VhYzI3NTAiLCJpYXQiOjE1MDEyODYxMzMsImV4cCI6MTUwMTMyOTMzMywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VhYS9vYXV0aC90b2tlbiIsInppZCI6InVhYSIsImF1ZCI6WyJjZiIsInVhYSJdfQ.HwQN8A7nNZ0-gpdi9tnX6OAKg2tAiQfijYSh6q5Agd4&#39;
</code></pre>

<pre><code class="http">GET /oauth/authorize?response_type=code&amp;client_id=login&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fredirect%2Fcf&amp;state=Awr2PF HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiJkYzU1NjNjYmRlMTk0MWJhOGY1ZDZlNDljNjIzMzdmMyIsInN1YiI6IjNlYzU5OTExLWEwN2ItNDU4MC04ZDFmLWYwM2VmN2E1MmY2MiIsInNjb3BlIjpbInVhYS51c2VyIl0sImNsaWVudF9pZCI6ImNmIiwiY2lkIjoiY2YiLCJhenAiOiJjZiIsImdyYW50X3R5cGUiOiJwYXNzd29yZCIsInVzZXJfaWQiOiIzZWM1OTkxMS1hMDdiLTQ1ODAtOGQxZi1mMDNlZjdhNTJmNjIiLCJvcmlnaW4iOiJ1YWEiLCJ1c2VyX25hbWUiOiJtYXJpc3NhIiwiZW1haWwiOiJtYXJpc3NhQHRlc3Qub3JnIiwiYXV0aF90aW1lIjoxNTAxMjg2MTMzLCJyZXZfc2lnIjoiY2VhYzI3NTAiLCJpYXQiOjE1MDEyODYxMzMsImV4cCI6MTUwMTMyOTMzMywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VhYS9vYXV0aC90b2tlbiIsInppZCI6InVhYSIsImF1ZCI6WyJjZiIsInVhYSJdfQ.HwQN8A7nNZ0-gpdi9tnX6OAKg2tAiQfijYSh6q5Agd4
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 302 Found
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Location: http://localhost/redirect/cf?code=1sIWN0PMXq&amp;state=Awr2PF

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>Space-delimited list of response types. Here, <code>code</code> for requesting an authorization code for an access token, as per OAuth spec</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Optional</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied), optional if pre-registered by the client</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>Required</td>
<td>any random string to be returned in the Location header as a query parameter, used to achieve per-request customization</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing uaa.user scope - the authentication for this user</td>
</tr>
</tbody></table>

<aside class="notice">
  The client must have autoapprove=true, or you will not get a code back.<br/>
  The client must have a redirect_uri registered, it is an required parameter of the request.<br/>
  The token must have scope "uaa.user" in order to exchange a token for an authorization code.<br/>
</aside>
<h2 id='implicit-grant-74898'>Implicit Grant</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/authorize?response_type=token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F&#39; -i \
    -H &#39;Accept: application/x-www-form-urlencoded&#39;
</code></pre>

<pre><code class="http">GET /oauth/authorize?response_type=token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F HTTP/1.1
Accept: application/x-www-form-urlencoded
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 302 Found
Strict-Transport-Security: max-age=31536000
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Location: http://localhost:8080/app/#token_type=bearer&amp;access_token=eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiI5NTZmZmM3ZmQ1ZDY0MTYyOGE1ZTJiNzE3OGEwNjg2MSIsInN1YiI6IjNlYzU5OTExLWEwN2ItNDU4MC04ZDFmLWYwM2VmN2E1MmY2MiIsInNjb3BlIjpbIm9wZW5pZCJdLCJjbGllbnRfaWQiOiJhcHAiLCJjaWQiOiJhcHAiLCJhenAiOiJhcHAiLCJ1c2VyX2lkIjoiM2VjNTk5MTEtYTA3Yi00NTgwLThkMWYtZjAzZWY3YTUyZjYyIiwib3JpZ2luIjoidWFhIiwidXNlcl9uYW1lIjoibWFyaXNzYSIsImVtYWlsIjoibWFyaXNzYUB0ZXN0Lm9yZyIsInJldl9zaWciOiIzMzc3ZDgyYyIsImlhdCI6MTUwMTI4NjEzMywiZXhwIjoxNTAxMzI5MzMzLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwiYXVkIjpbImFwcCIsIm9wZW5pZCJdfQ.Mx_BlllYdAjl0DKSoHppHVR8T_XNUa9a338YTd9wnbs&amp;expires_in=43199&amp;jti=956ffc7fd5d641628a5e2b7178a06861
Set-Cookie: X-Uaa-Csrf=XI3ACP16VT80lIk3CKf6Ez;Max-Age=2592000;HttpOnly

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>Space-delimited list of response types. Here, <code>token</code>, i.e. an access token</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>Optional</td>
<td>requested scopes, space-delimited</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Optional</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied), optional if pre-registered by the client</td>
</tr>
</tbody></table>

<p><em>Response Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Location</code></td>
<td>Location as defined in the spec includes access_token in the reply fragment if successful</td>
</tr>
</tbody></table>
<h2 id='implicit-grant-with-prompt-19137'>Implicit Grant with prompt</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/authorize?response_type=token&amp;client_id=app&amp;scope=openid&amp;prompt=none&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F&#39; -i \
    -H &#39;Accept: application/x-www-form-urlencoded&#39;
</code></pre>

<pre><code class="http">GET /oauth/authorize?response_type=token&amp;client_id=app&amp;scope=openid&amp;prompt=none&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F HTTP/1.1
Accept: application/x-www-form-urlencoded
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 302 Found
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Location: http://localhost:8080/app/#error=login_required
Set-Cookie: Current-User=;Max-Age=0

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>Space-delimited list of response types. Here, <code>token</code>, i.e. an access token</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>Optional</td>
<td>requested scopes, space-delimited</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Optional</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied), optional if pre-registered by the client</td>
</tr>
<tr>
<td>prompt</td>
<td>String</td>
<td>Optional</td>
<td>specifies whether to prompt for user authentication. Only value <code>none</code> is supported.</td>
</tr>
</tbody></table>

<p><em>Response Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Location</code></td>
<td>Redirect url specified in the request parameters.</td>
</tr>
</tbody></table>
<h2 id='openid-connect-flow-98812'>OpenID Connect flow</h2><h4 id='openid-provider-configuration-request-19433'>OpenID Provider Configuration Request</h4>
<p>An OpenID Provider Configuration Document MUST be queried using an HTTP GET request at the previously specified path.</p>

<pre><code class="bash">$ curl &#39;http://localhost/.well-known/openid-configuration&#39; -i \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">GET /.well-known/openid-configuration HTTP/1.1
Accept: application/json
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 1239

{
  &quot;issuer&quot; : &quot;http://localhost:8080/uaa/oauth/token&quot;,
  &quot;authorization_endpoint&quot; : &quot;http://localhost/oauth/authorize&quot;,
  &quot;token_endpoint&quot; : &quot;http://localhost/oauth/token&quot;,
  &quot;token_endpoint_auth_methods_supported&quot; : [ &quot;client_secret_basic&quot;, &quot;client_secret_post&quot; ],
  &quot;token_endpoint_auth_signing_alg_values_supported&quot; : [ &quot;RS256&quot;, &quot;HS256&quot; ],
  &quot;userinfo_endpoint&quot; : &quot;http://localhost/userinfo&quot;,
  &quot;jwks_uri&quot; : &quot;http://localhost/token_keys&quot;,
  &quot;scopes_supported&quot; : [ &quot;openid&quot;, &quot;profile&quot;, &quot;email&quot;, &quot;phone&quot;, &quot;roles&quot;, &quot;user_attributes&quot; ],
  &quot;response_types_supported&quot; : [ &quot;code&quot;, &quot;code id_token&quot;, &quot;id_token&quot;, &quot;token id_token&quot; ],
  &quot;subject_types_supported&quot; : [ &quot;public&quot; ],
  &quot;id_token_signing_alg_values_supported&quot; : [ &quot;RS256&quot;, &quot;HS256&quot; ],
  &quot;id_token_encryption_alg_values_supported&quot; : [ &quot;none&quot; ],
  &quot;claim_types_supported&quot; : [ &quot;normal&quot; ],
  &quot;claims_supported&quot; : [ &quot;sub&quot;, &quot;user_name&quot;, &quot;origin&quot;, &quot;iss&quot;, &quot;auth_time&quot;, &quot;amr&quot;, &quot;acr&quot;, &quot;client_id&quot;, &quot;aud&quot;, &quot;zid&quot;, &quot;grant_type&quot;, &quot;user_id&quot;, &quot;azp&quot;, &quot;scope&quot;, &quot;exp&quot;, &quot;iat&quot;, &quot;jti&quot;, &quot;rev_sig&quot;, &quot;cid&quot;, &quot;given_name&quot;, &quot;family_name&quot;, &quot;phone_number&quot;, &quot;email&quot; ],
  &quot;claims_parameter_supported&quot; : false,
  &quot;service_documentation&quot; : &quot;http://docs.cloudfoundry.org/api/uaa/&quot;,
  &quot;ui_locales_supported&quot; : [ &quot;en-US&quot; ]
}
</code></pre>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>issuer</code></td>
<td><code>String</code></td>
<td>URL using the https scheme with no query or fragment component that the OP asserts as its Issuer Identifier.</td>
</tr>
<tr>
<td><code>authorization_endpoint</code></td>
<td><code>String</code></td>
<td>URL of authorization endpoint.</td>
</tr>
<tr>
<td><code>token_endpoint</code></td>
<td><code>String</code></td>
<td>URL of token endpoint.</td>
</tr>
<tr>
<td><code>userinfo_endpoint</code></td>
<td><code>String</code></td>
<td>URL of the OP&#39;s UserInfo Endpoint.</td>
</tr>
<tr>
<td><code>jwks_uri</code></td>
<td><code>String</code></td>
<td>URL of the OP&#39;s JSON Web Key Set document.</td>
</tr>
<tr>
<td><code>scopes_supported</code></td>
<td><code>Array</code></td>
<td>JSON array containing a list of the OAuth 2.0 scope values that this server supports.</td>
</tr>
<tr>
<td><code>subject_types_supported</code></td>
<td><code>Array</code></td>
<td>JSON array containing a list of the Subject Identifier types that this OP supports.</td>
</tr>
<tr>
<td><code>token_endpoint_auth_methods_supported</code></td>
<td><code>Array</code></td>
<td>JSON array containing a list of Client Authentication methods supported by this Token Endpoint.</td>
</tr>
<tr>
<td><code>token_endpoint_auth_signing_alg_values_supported</code></td>
<td><code>Array</code></td>
<td>JSON array containing a list of the JWS signing algorithms.</td>
</tr>
<tr>
<td><code>response_types_supported</code></td>
<td><code>Array</code></td>
<td>JSON array containing a list of the OAuth 2.0 response_type values that this OP supports.</td>
</tr>
<tr>
<td><code>id_token_signing_alg_values_supported</code></td>
<td><code>Array</code></td>
<td>JSON array containing a list of the JWS signing algorithms (alg values) supported by the OP for the ID Token to encode the Claims in a JWT.</td>
</tr>
<tr>
<td><code>id_token_encryption_alg_values_supported</code></td>
<td><code>Array</code></td>
<td>JSON array containing a list of the JWE encryption algorithms (alg values) supported by the OP.</td>
</tr>
<tr>
<td><code>claim_types_supported</code></td>
<td><code>Array</code></td>
<td>JSON array containing a list of the Claim Types that the OpenID Provider supports.</td>
</tr>
<tr>
<td><code>claims_supported</code></td>
<td><code>Array</code></td>
<td>JSON array containing a list of the Claim Names of the Claims that the OpenID Provider MAY be able to supply values for.</td>
</tr>
<tr>
<td><code>claims_parameter_supported</code></td>
<td><code>Boolean</code></td>
<td>Boolean value specifying whether the OP supports use of the claims parameter.</td>
</tr>
<tr>
<td><code>service_documentation</code></td>
<td><code>String</code></td>
<td>URL of a page containing human-readable information that developers might want or need to know when using the OpenID Provider.</td>
</tr>
<tr>
<td><code>ui_locales_supported</code></td>
<td><code>Array</code></td>
<td>Languages and scripts supported for the user interface.</td>
</tr>
</tbody></table>
<h4 id='id-token-78268'>ID token</h4>
<p>The authorization request may specify a response type of id_token, and an ID token as defined
  by OpenID Connect will be included in the fragment of the redirect URL.</p>

<pre><code class="bash">$ curl &#39;http://localhost/oauth/authorize?response_type=id_token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F&#39; -i \
    -H &#39;Accept: application/x-www-form-urlencoded&#39;
</code></pre>

<pre><code class="http">GET /oauth/authorize?response_type=id_token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F HTTP/1.1
Accept: application/x-www-form-urlencoded
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 302 Found
Strict-Transport-Security: max-age=31536000
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Location: http://localhost:8080/app/#token_type=bearer&amp;id_token=eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiIzZWM1OTkxMS1hMDdiLTQ1ODAtOGQxZi1mMDNlZjdhNTJmNjIiLCJwcmV2aW91c19sb2dvbl90aW1lIjpudWxsLCJ1c2VyX25hbWUiOiJtYXJpc3NhIiwib3JpZ2luIjoidWFhIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VhYS9vYXV0aC90b2tlbiIsImNsaWVudF9pZCI6ImFwcCIsImF1ZCI6WyJhcHAiXSwiemlkIjoidWFhIiwidXNlcl9pZCI6IjNlYzU5OTExLWEwN2ItNDU4MC04ZDFmLWYwM2VmN2E1MmY2MiIsImF6cCI6ImFwcCIsInNjb3BlIjpbIm9wZW5pZCJdLCJleHAiOjE1MDEzMjkzMzMsImlhdCI6MTUwMTI4NjEzMywianRpIjoiZGNjZmU3OTU5YTExNDUxZjgzZjE4NzVkOTZjNTk2OGMiLCJlbWFpbCI6Im1hcmlzc2FAdGVzdC5vcmciLCJyZXZfc2lnIjoiMzM3N2Q4MmMiLCJjaWQiOiJhcHAifQ.l0g-hZVOjFGh1Rht8tWq9C_z5-elXOG_QwNNhjPUFbI&amp;expires_in=43199&amp;jti=dccfe7959a11451f83f1875d96c5968c
Set-Cookie: X-Uaa-Csrf=Q9XcRdcGBX1vjFRmEWnzPE;Max-Age=2592000;HttpOnly

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>Space-delimited list of response types. Here, <code>id_token</code></td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>Optional</td>
<td>requested scopes, space-delimited</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Optional</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied), optional if pre-registered by the client</td>
</tr>
</tbody></table>

<p><em>Response Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Location</code></td>
<td>Location as defined in the spec includes id_token in the reply fragment if successful</td>
</tr>
</tbody></table>
<h4 id='id-token-and-access-token-46968'>ID token and Access token</h4>
<p>The request may specify that the client expects an ID token as defined by OpenID Connect, and this
  ID token will be included alongside the access token.</p>

<pre><code class="bash">$ curl &#39;http://localhost/oauth/authorize?response_type=token+id_token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F&#39; -i \
    -H &#39;Accept: application/x-www-form-urlencoded&#39;
</code></pre>

<pre><code class="http">GET /oauth/authorize?response_type=token+id_token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F HTTP/1.1
Accept: application/x-www-form-urlencoded
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 302 Found
Strict-Transport-Security: max-age=31536000
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Location: http://localhost:8080/app/#token_type=bearer&amp;access_token=eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiIxNzFlODUyYzliZjE0YTYxOGM1NTVjN2QzN2FjOGNlNyIsInN1YiI6IjNlYzU5OTExLWEwN2ItNDU4MC04ZDFmLWYwM2VmN2E1MmY2MiIsInNjb3BlIjpbIm9wZW5pZCJdLCJjbGllbnRfaWQiOiJhcHAiLCJjaWQiOiJhcHAiLCJhenAiOiJhcHAiLCJ1c2VyX2lkIjoiM2VjNTk5MTEtYTA3Yi00NTgwLThkMWYtZjAzZWY3YTUyZjYyIiwib3JpZ2luIjoidWFhIiwidXNlcl9uYW1lIjoibWFyaXNzYSIsImVtYWlsIjoibWFyaXNzYUB0ZXN0Lm9yZyIsInJldl9zaWciOiIzMzc3ZDgyYyIsImlhdCI6MTUwMTI4NjEzMywiZXhwIjoxNTAxMzI5MzMzLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwiYXVkIjpbImFwcCIsIm9wZW5pZCJdfQ.q13_l-YEmxVne510k42b3G4AVHeNojVdHxlM3M5APSY&amp;id_token=eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiIzZWM1OTkxMS1hMDdiLTQ1ODAtOGQxZi1mMDNlZjdhNTJmNjIiLCJwcmV2aW91c19sb2dvbl90aW1lIjpudWxsLCJ1c2VyX25hbWUiOiJtYXJpc3NhIiwib3JpZ2luIjoidWFhIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VhYS9vYXV0aC90b2tlbiIsImNsaWVudF9pZCI6ImFwcCIsImF1ZCI6WyJhcHAiXSwiemlkIjoidWFhIiwidXNlcl9pZCI6IjNlYzU5OTExLWEwN2ItNDU4MC04ZDFmLWYwM2VmN2E1MmY2MiIsImF6cCI6ImFwcCIsInNjb3BlIjpbIm9wZW5pZCJdLCJleHAiOjE1MDEzMjkzMzMsImlhdCI6MTUwMTI4NjEzMywianRpIjoiMTcxZTg1MmM5YmYxNGE2MThjNTU1YzdkMzdhYzhjZTciLCJlbWFpbCI6Im1hcmlzc2FAdGVzdC5vcmciLCJyZXZfc2lnIjoiMzM3N2Q4MmMiLCJjaWQiOiJhcHAifQ.dUIHY7LL9Un81SuexZnv7o2qL-NBllRvo7_UQWoTd3k&amp;expires_in=43199&amp;jti=171e852c9bf14a618c555c7d37ac8ce7
Set-Cookie: X-Uaa-Csrf=Bft6qJsUhKjdzgEDxFty4q;Max-Age=2592000;HttpOnly

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>Space-delimited list of response types. Here, <code>token id_token</code>, indicating both an access token and an ID token.</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>Optional</td>
<td>requested scopes, space-delimited</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Optional</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied), optional if pre-registered by the client</td>
</tr>
</tbody></table>

<p><em>Response Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Location</code></td>
<td>Location as defined in the spec includes access_token and id_token in the reply fragment if successful</td>
</tr>
</tbody></table>
<h3 id='hybrid-flow-15132'>Hybrid flow</h3>
<p>The request may specify that the client expects an ID token as defined by OpenID Connect, and this
  ID token will be included alongside the authorization code.</p>

<pre><code class="bash">$ curl &#39;http://localhost/oauth/authorize?response_type=code+id_token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F&#39; -i \
    -H &#39;Accept: application/x-www-form-urlencoded&#39;
</code></pre>

<pre><code class="http">GET /oauth/authorize?response_type=code+id_token&amp;client_id=app&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fapp%2F HTTP/1.1
Accept: application/x-www-form-urlencoded
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 302 Found
Strict-Transport-Security: max-age=31536000
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Location: http://localhost:8080/app/#token_type=bearer&amp;id_token=eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiIzZWM1OTkxMS1hMDdiLTQ1ODAtOGQxZi1mMDNlZjdhNTJmNjIiLCJwcmV2aW91c19sb2dvbl90aW1lIjpudWxsLCJ1c2VyX25hbWUiOiJtYXJpc3NhIiwib3JpZ2luIjoidWFhIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VhYS9vYXV0aC90b2tlbiIsImNsaWVudF9pZCI6ImFwcCIsImF1ZCI6WyJhcHAiXSwiemlkIjoidWFhIiwidXNlcl9pZCI6IjNlYzU5OTExLWEwN2ItNDU4MC04ZDFmLWYwM2VmN2E1MmY2MiIsImF6cCI6ImFwcCIsInNjb3BlIjpbIm9wZW5pZCJdLCJleHAiOjE1MDEzMjkzMzQsImlhdCI6MTUwMTI4NjEzNCwianRpIjoiMTZmODgwZjMyOTI1NDM3YmE2MWIxOWQxNzkxYzE4MzAiLCJlbWFpbCI6Im1hcmlzc2FAdGVzdC5vcmciLCJyZXZfc2lnIjoiMzM3N2Q4MmMiLCJjaWQiOiJhcHAifQ.1sSAedGnVLwJ_bthNbq4grcNsiXTHBT8LIb8AegU8Ck&amp;code=ugZXawM19p&amp;expires_in=43199&amp;jti=16f880f32925437ba61b19d1791c1830
Set-Cookie: X-Uaa-Csrf=B6rOH738dJonrMZEpo2u8Y;Max-Age=2592000;HttpOnly

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>Space-delimited list of response types. Here, <code>id_token code</code>, indicating a request for an ID token and an authorization code.</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>a unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>Optional</td>
<td>requested scopes, space-delimited</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Optional</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied), optional if pre-registered by the client</td>
</tr>
</tbody></table>

<p><em>Response Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Location</code></td>
<td>Location as defined in the spec includes code and id_token in the reply fragment if successful</td>
</tr>
</tbody></table>
<h1 id='token-30037'>Token</h1>
<p>The <code>/oauth/token</code> endpoint requires client authentication to be accessed. Client Authentication can be passed as 
as part of the request authorization header, using basic authentication, or as part of the request parameters, using the <code>client_id</code> and <code>client_secret</code> parameter
names. </p>
<h2 id='authorization-code-grant-63003'>Authorization Code Grant</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/token&#39; -i -u &#39;login:loginsecret&#39; -X POST \
    -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;client_id=login&amp;client_secret=loginsecret&amp;grant_type=authorization_code&amp;response_type=token&amp;code=yPpzfIR436&amp;token_format=opaque&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fredirect%2Fcf&#39;
</code></pre>

<pre><code class="http">POST /oauth/token HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Authorization: Basic bG9naW46bG9naW5zZWNyZXQ=
Accept: application/json
Host: localhost

client_id=login&amp;client_secret=loginsecret&amp;grant_type=authorization_code&amp;response_type=token&amp;code=yPpzfIR436&amp;token_format=opaque&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fredirect%2Fcf
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 250

{
  &quot;access_token&quot; : &quot;5bfcdfbadae84f57b5a73883df40439b&quot;,
  &quot;token_type&quot; : &quot;bearer&quot;,
  &quot;refresh_token&quot; : &quot;4c073dc080c345f99c68c24a643a0794-r&quot;,
  &quot;expires_in&quot; : 43199,
  &quot;scope&quot; : &quot;openid oauth.approvals&quot;,
  &quot;jti&quot; : &quot;5bfcdfbadae84f57b5a73883df40439b&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Client ID and secret may be passed as a basic authorization header, per <a href="https://tools.ietf.org/html/rfc6749#section-2.3.1">RFC 6749</a> or as request parameters.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>The type of token that should be issued.</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Optional</td>
<td>A unique string representing the registration information provided by the client, the recipient of the token. Optional if it is passed as part of the Basic Authorization header.</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Required if provided on authorization request</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied)</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>Required</td>
<td>the authorization code, obtained from /oauth/authorize, issued for the user</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>the type of authentication being used to obtain the token, in this case <code>authorization_code</code></td>
</tr>
<tr>
<td>client_secret</td>
<td>String</td>
<td>Optional</td>
<td>The secret passphrase configured for the OAuth client. Optional if it is passed as part of the Basic Authorization header.</td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td><small><mark>UAA 3.3.0</mark></small> Can be set to &#39;opaque&#39; to retrieve an opaque and revocable token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>access_token</code></td>
<td><code>String</code></td>
<td>the access token for the user to whom the authorization code was issued</td>
</tr>
<tr>
<td><code>token_type</code></td>
<td><code>String</code></td>
<td>the type of the access token issued, i.e. <code>bearer</code></td>
</tr>
<tr>
<td><code>expires_in</code></td>
<td><code>Number</code></td>
<td>number of seconds until token expiry</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>String</code></td>
<td>space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td><code>refresh_token</code></td>
<td><code>String</code></td>
<td>an OAuth refresh token for refresh grants</td>
</tr>
<tr>
<td><code>jti</code></td>
<td><code>String</code></td>
<td>a globally unique identifier for this token</td>
</tr>
</tbody></table>
<h2 id='client-credentials-grant-6471'>Client Credentials Grant</h2><h3 id='without-authorization-90387'>Without Authorization</h3>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/token&#39; -i -X POST \
    -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;client_id=login&amp;client_secret=loginsecret&amp;grant_type=client_credentials&amp;token_format=opaque&amp;response_type=token&#39;
</code></pre>

<pre><code class="http">POST /oauth/token HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Accept: application/json
Host: localhost

client_id=login&amp;client_secret=loginsecret&amp;grant_type=client_credentials&amp;token_format=opaque&amp;response_type=token
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 306

{
  &quot;access_token&quot; : &quot;7dafacd0280c483986a52e24a52b4873&quot;,
  &quot;token_type&quot; : &quot;bearer&quot;,
  &quot;expires_in&quot; : 43199,
  &quot;scope&quot; : &quot;clients.read emails.write scim.userids password.write idps.write notifications.write oauth.login scim.write critical_notifications.write&quot;,
  &quot;jti&quot; : &quot;7dafacd0280c483986a52e24a52b4873&quot;
}
</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>The type of token that should be issued.</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Optional</td>
<td>A unique string representing the registration information provided by the client, the recipient of the token. Optional if it is passed as part of the Basic Authorization header.</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>the type of authentication being used to obtain the token, in this case <code>client_credentials</code></td>
</tr>
<tr>
<td>client_secret</td>
<td>String</td>
<td>Optional</td>
<td>The secret passphrase configured for the OAuth client. Optional if it is passed as part of the Basic Authorization header.</td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td><small><mark>UAA 3.3.0</mark></small> Can be set to &#39;opaque&#39; to retrieve an opaque and revocable token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>access_token</code></td>
<td><code>String</code></td>
<td>the access token</td>
</tr>
<tr>
<td><code>token_type</code></td>
<td><code>String</code></td>
<td>the type of the access token issued, i.e. <code>bearer</code></td>
</tr>
<tr>
<td><code>expires_in</code></td>
<td><code>Number</code></td>
<td>number of seconds until token expiry</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>String</code></td>
<td>space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td><code>jti</code></td>
<td><code>String</code></td>
<td>a globally unique identifier for this token</td>
</tr>
</tbody></table>
<h3 id='with-authorization-33486'>With Authorization</h3>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/token&#39; -i -u &#39;login:loginsecret&#39; -X POST \
    -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;grant_type=client_credentials&amp;response_type=token&amp;token_format=opaque&#39;
</code></pre>

<pre><code class="http">POST /oauth/token HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Accept: application/json
Authorization: Basic bG9naW46bG9naW5zZWNyZXQ=
Host: localhost

grant_type=client_credentials&amp;response_type=token&amp;token_format=opaque
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 306

{
  &quot;access_token&quot; : &quot;a3fe3fc420534e7db1070f0d6b90da5c&quot;,
  &quot;token_type&quot; : &quot;bearer&quot;,
  &quot;expires_in&quot; : 43199,
  &quot;scope&quot; : &quot;clients.read emails.write scim.userids password.write idps.write notifications.write oauth.login scim.write critical_notifications.write&quot;,
  &quot;jti&quot; : &quot;a3fe3fc420534e7db1070f0d6b90da5c&quot;
}
</code></pre>

<p><em>Request Header</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Base64 encoded client details in the format: <code>Basic client_id:client_secret</code></td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>The type of token that should be issued.</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>the type of authentication being used to obtain the token, in this case <code>client_credentials</code></td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td><small><mark>UAA 3.3.0</mark></small> Can be set to &#39;opaque&#39; to retrieve an opaque and revocable token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>access_token</code></td>
<td><code>String</code></td>
<td>the access token</td>
</tr>
<tr>
<td><code>token_type</code></td>
<td><code>String</code></td>
<td>the type of the access token issued, i.e. <code>bearer</code></td>
</tr>
<tr>
<td><code>expires_in</code></td>
<td><code>Number</code></td>
<td>number of seconds until token expiry</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>String</code></td>
<td>space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td><code>jti</code></td>
<td><code>String</code></td>
<td>a globally unique identifier for this token</td>
</tr>
</tbody></table>
<h2 id='password-grant-28330'>Password Grant</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/token&#39; -i -X POST \
    -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;client_id=app&amp;client_secret=appclientsecret&amp;grant_type=password&amp;username=bdNGW1%40test.org&amp;password=secr3T&amp;token_format=opaque&amp;response_type=token&#39;
</code></pre>

<pre><code class="http">POST /oauth/token HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Accept: application/json
Host: localhost

client_id=app&amp;client_secret=appclientsecret&amp;grant_type=password&amp;username=bdNGW1%40test.org&amp;password=secr3T&amp;token_format=opaque&amp;response_type=token
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 307

{
  &quot;access_token&quot; : &quot;bb01c93518e04a89b734e1c91106d0b7&quot;,
  &quot;token_type&quot; : &quot;bearer&quot;,
  &quot;refresh_token&quot; : &quot;f0db9d94c0924c59a8f14de27e9ee687-r&quot;,
  &quot;expires_in&quot; : 43199,
  &quot;scope&quot; : &quot;scim.userids openid cloud_controller.read password.write cloud_controller.write&quot;,
  &quot;jti&quot; : &quot;bb01c93518e04a89b734e1c91106d0b7&quot;
}
</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>The type of token that should be issued.</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Optional</td>
<td>A unique string representing the registration information provided by the client, the recipient of the token. Optional if it is passed as part of the Basic Authorization header.</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>the type of authentication being used to obtain the token, in this case <code>password</code></td>
</tr>
<tr>
<td>client_secret</td>
<td>String</td>
<td>Optional</td>
<td>The secret passphrase configured for the OAuth client. Optional if it is passed as part of the Basic Authorization header.</td>
</tr>
<tr>
<td>username</td>
<td>String</td>
<td>Required</td>
<td>the username for the user trying to get a token</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>Required</td>
<td>the password for the user trying to get a token</td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td><small><mark>UAA 3.3.0</mark></small> Can be set to &#39;opaque&#39; to retrieve an opaque and revocable token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>access_token</code></td>
<td><code>String</code></td>
<td>the access token</td>
</tr>
<tr>
<td><code>token_type</code></td>
<td><code>String</code></td>
<td>the type of the access token issued, i.e. <code>bearer</code></td>
</tr>
<tr>
<td><code>expires_in</code></td>
<td><code>Number</code></td>
<td>number of seconds until token expiry</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>String</code></td>
<td>space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td><code>refresh_token</code></td>
<td><code>String</code></td>
<td>an OAuth refresh token for refresh grants</td>
</tr>
<tr>
<td><code>jti</code></td>
<td><code>String</code></td>
<td>a globally unique identifier for this token</td>
</tr>
</tbody></table>
<h3 id='one-time-passcode-86480'>One-time Passcode</h3>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/token&#39; -i -u &#39;app:appclientsecret&#39; -X POST \
    -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;grant_type=password&amp;passcode=6RLs5qd0Qa&amp;token_format=opaque&amp;response_type=token&#39;
</code></pre>

<pre><code class="http">POST /oauth/token HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Accept: application/json
Authorization: Basic YXBwOmFwcGNsaWVudHNlY3JldA==
Host: localhost

grant_type=password&amp;passcode=6RLs5qd0Qa&amp;token_format=opaque&amp;response_type=token
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 307

{
  &quot;access_token&quot; : &quot;5f6abb04abb54f5cade7b0014834ed9e&quot;,
  &quot;token_type&quot; : &quot;bearer&quot;,
  &quot;refresh_token&quot; : &quot;b280363886df4e9eb2761a62c6e203b8-r&quot;,
  &quot;expires_in&quot; : 43199,
  &quot;scope&quot; : &quot;cloud_controller.write scim.userids openid cloud_controller.read password.write&quot;,
  &quot;jti&quot; : &quot;5f6abb04abb54f5cade7b0014834ed9e&quot;
}
</code></pre>

<p><em>Request Header</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Base64 encoded client details in the format: <code>Basic client_id:client_secret</code></td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>The type of token that should be issued.</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>the type of authentication being used to obtain the token, in this case <code>password</code></td>
</tr>
<tr>
<td>passcode</td>
<td>String</td>
<td>Required</td>
<td>the one-time passcode for the user which can be retrieved by going to <code>/passcode</code></td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td><small><mark>UAA 3.3.0</mark></small> Can be set to &#39;opaque&#39; to retrieve an opaque and revocable token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>access_token</code></td>
<td><code>String</code></td>
<td>the access token</td>
</tr>
<tr>
<td><code>token_type</code></td>
<td><code>String</code></td>
<td>the type of the access token issued, i.e. <code>bearer</code></td>
</tr>
<tr>
<td><code>expires_in</code></td>
<td><code>Number</code></td>
<td>number of seconds until token expiry</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>String</code></td>
<td>space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td><code>refresh_token</code></td>
<td><code>String</code></td>
<td>an OAuth refresh token for refresh grants</td>
</tr>
<tr>
<td><code>jti</code></td>
<td><code>String</code></td>
<td>a globally unique identifier for this token</td>
</tr>
</tbody></table>

<aside class="notice">
  The client-id and client-secret can also be included in the header as Basic Authorization for all grant types.
</aside>
<h2 id='user-token-grant-21336'>User Token Grant</h2>
<aside class="success">
  Added in UAA 3.7.0
</aside>

<p>A <code>user_token</code> grant, is a flow that allows the generation of a refresh_token for another client.
The requesting client, must have <code>grant_type=user_token</code> and the bearer token for this request must have <code>uaa.user</code>
and be a token that represents an authenticated user.</p>

<p>The idea with this grant flow, is that a user can preapprove a token grant for another client, rather than having to participate in
the approval process when the client needs the access token.</p>

<p>The <code>refresh_token</code> that results from this grant, is opaque, and can only be exchanged by the client it was intended for.</p>

<pre><code class="bash">$ curl &#39;http://localhost/oauth/token&#39; -i -X POST \
    -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \
    -H &#39;Authorization: Bearer e4a6080e4d994a1e8d011b73b7e0c2a0&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;client_id=app&amp;grant_type=user_token&amp;scope=openid&amp;token_format=jwt&amp;response_type=token&#39;
</code></pre>

<pre><code class="http">POST /oauth/token HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Authorization: Bearer e4a6080e4d994a1e8d011b73b7e0c2a0
Accept: application/json
Host: localhost

client_id=app&amp;grant_type=user_token&amp;scope=openid&amp;token_format=jwt&amp;response_type=token
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 206

{
  &quot;access_token&quot; : null,
  &quot;token_type&quot; : &quot;bearer&quot;,
  &quot;refresh_token&quot; : &quot;8ecd25f2bdcc46da96205ce0f3499c9d-r&quot;,
  &quot;expires_in&quot; : 43199,
  &quot;scope&quot; : &quot;openid&quot;,
  &quot;jti&quot; : &quot;8ecd25f2bdcc46da96205ce0f3499c9d-r&quot;
}
</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>Response type of the grant, should be set to <code>token</code></td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Optional</td>
<td>The client ID of the receiving client, this client must have <code>refresh_token</code> grant type</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>The type of token grant requested, in this case <code>user_token</code></td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td>This parameter is ignored. The refresh_token will always be opaque</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>Optional</td>
<td>The list of scopes requested for the token. Use when you wish to reduce the number of scopes the token will have.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>access_token</code></td>
<td><code>Null</code></td>
<td>Always null</td>
</tr>
<tr>
<td><code>token_type</code></td>
<td><code>String</code></td>
<td>The type of the access token issued, always <code>bearer</code></td>
</tr>
<tr>
<td><code>expires_in</code></td>
<td><code>Number</code></td>
<td>Number of seconds of lifetime for an access_token, when retrieved</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>String</code></td>
<td>Space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td><code>refresh_token</code></td>
<td><code>String</code></td>
<td>An OAuth refresh token for refresh grants</td>
</tr>
<tr>
<td><code>jti</code></td>
<td><code>String</code></td>
<td>A globally unique identifier for this refresh token</td>
</tr>
</tbody></table>

<aside class="notice">
  This grant type is custom to the Cloud Foundry UAA.
</aside>

<p></aside></p>
<h2 id='saml2-bearer-grant-52389'>SAML2 Bearer Grant</h2>
<aside class="notice">
  Planed for UAA 3.9.x
</aside>

<p>The SAML 2.0 bearer grant allows to request an OAuth 2.0 access token with a SAML 2.0 bearer assertion. The flow is defined in 
<a href="https://tools.ietf.org/html/rfc7522">RFC 7522</a>. The requesting client, must have <code>grant_type=urn:ietf:params:oauth:grant-type:saml2-bearer</code>.
In addition the requesting client must either allow the IDP in <code>allowedproviders</code> or omit the property so that any trusted IDP is allowed.
The trust to the assertion issuer is reused from the SAML 2.0 WebSSO profiles.</p>

<p>This grant enables an App2App mechanism with SSO. Typical scenarios are applications outside of CF, which consume a service within the CF world.
The endpoint of the bearer assertion is <code>/oauth/token</code> so the Recipient attribute in
the bearer assertion must point to the corresponding URI, e.g. http://localhost:8080/uaa/oauth/token.</p>

<pre><code class="bash">$ curl &#39;http://5ebr54.localhost:8080/uaa/oauth/token/alias/5ebr54.cloudfoundry-saml-login&#39; -i -X POST \
    -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \
    -H &#39;Accept: application/json&#39; \
    -H &#39;Host: 5ebr54.localhost&#39; \
    -d &#39;grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Asaml2-bearer&amp;client_id=testclientlQblGw&amp;client_secret=secret&amp;assertion=PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c2FtbDI6QXNzZXJ0aW9uIHhtbG5zOnNhbWwyPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiBJRD0iYTU1NmpoNDViZGIwamRoMjI2YmppZmMzODA3aDlpNiIgSXNzdWVJbnN0YW50PSIyMDE3LTA3LTI4VDIzOjU2OjI2LjcyN1oiIFZlcnNpb249IjIuMCIgeG1sbnM6eHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hIj48c2FtbDI6SXNzdWVyPjVlYnI1NC5jbG91ZGZvdW5kcnktc2FtbC1sb2dpbjwvc2FtbDI6SXNzdWVyPjxkczpTaWduYXR1cmUgeG1sbnM6ZHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8-PGRzOlNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSIvPjxkczpSZWZlcmVuY2UgVVJJPSIjYTU1NmpoNDViZGIwamRoMjI2YmppZmMzODA3aDlpNiI-PGRzOlRyYW5zZm9ybXM-PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8-PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyI-PGVjOkluY2x1c2l2ZU5hbWVzcGFjZXMgeG1sbnM6ZWM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIgUHJlZml4TGlzdD0ieHMiLz48L2RzOlRyYW5zZm9ybT48L2RzOlRyYW5zZm9ybXM-PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8-PGRzOkRpZ2VzdFZhbHVlPlNEWDdLSklockM1NjFEamhZSUJuVVJRVTQwdz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWU-bHNuS05IVmhJUGF6YjNSZzZmMEd2UEdXVmM3cVozV1c0aDF3dnR0V25GRitGSW02YUxZRElFNHo0T3B4V2RHUjJJUU1iTFhocy9ERkc3ZjlBaE5VYTFsaE51Qnp3UTRPUEdZcHp0NDJqVENMd3RXck1yUWRpTE5hWmk5K3ZJaWQ0NmFYcG8rcEFjT2V2R2o2K1k1ZW9jQ0d1MmxIN3BybXg5SWt2Zmg4UlU0PTwvZHM6U2lnbmF0dXJlVmFsdWU-PGRzOktleUluZm8-PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU-TUlJRFNUQ0NBcktnQXdJQkFnSUJBREFOQmdrcWhraUc5dzBCQVFRRkFEQjhNUXN3Q1FZRFZRUUdFd0poZHpFT01Bd0dBMVVFQ0JNRgpZWEoxWW1FeERqQU1CZ05WQkFvVEJXRnlkV0poTVE0d0RBWURWUVFIRXdWaGNuVmlZVEVPTUF3R0ExVUVDeE1GWVhKMVltRXhEakFNCkJnTlZCQU1UQldGeWRXSmhNUjB3R3dZSktvWklodmNOQVFrQkZnNWhjblZpWVVCaGNuVmlZUzVoY2pBZUZ3MHhOVEV4TWpBeU1qSTIKTWpkYUZ3MHhOakV4TVRreU1qSTJNamRhTUh3eEN6QUpCZ05WQkFZVEFtRjNNUTR3REFZRFZRUUlFd1ZoY25WaVlURU9NQXdHQTFVRQpDaE1GWVhKMVltRXhEakFNQmdOVkJBY1RCV0Z5ZFdKaE1RNHdEQVlEVlFRTEV3VmhjblZpWVRFT01Bd0dBMVVFQXhNRllYSjFZbUV4CkhUQWJCZ2txaGtpRzl3MEJDUUVXRG1GeWRXSmhRR0Z5ZFdKaExtRnlNSUdmTUEwR0NTcUdTSWIzRFFFQkFRVUFBNEdOQURDQmlRS0IKZ1FESHRDNWdVWHhCS3BFcVpUTGtOdkZ3TkduTklrZ2dOT3dPUVZOYnBPMFdWSElpdmlnNUwzOVdxUzl1MGhuQStPN01DQS9LbHJBUgo0YlhhZVZWaHdmVVBZQktJcGFhVFdGUVI1Y1RSMVVGWkpML09GOXZBZnBPd3pub0Q2NkREQ25RVnBiQ2p0RFlXWCt4NmlteG44SENZCnhoTW9sNlpuVGJTc0ZXNlZaakZNalFJREFRQUJvNEhhTUlIWE1CMEdBMVVkRGdRV0JCVHgwbER6akgvaU9Cbk9TUWFTRVdRTHgxc3kKR0RDQnB3WURWUjBqQklHZk1JR2NnQlR4MGxEempIL2lPQm5PU1FhU0VXUUx4MXN5R0tHQmdLUitNSHd4Q3pBSkJnTlZCQVlUQW1GMwpNUTR3REFZRFZRUUlFd1ZoY25WaVlURU9NQXdHQTFVRUNoTUZZWEoxWW1FeERqQU1CZ05WQkFjVEJXRnlkV0poTVE0d0RBWURWUVFMCkV3VmhjblZpWVRFT01Bd0dBMVVFQXhNRllYSjFZbUV4SFRBYkJna3Foa2lHOXcwQkNRRVdEbUZ5ZFdKaFFHRnlkV0poTG1GeWdnRUEKTUF3R0ExVWRFd1FGTUFNQkFmOHdEUVlKS29aSWh2Y05BUUVFQlFBRGdZRUFZdkJKMEhPWmJiSENsWG1HVWpHcytHUyt4QzFGTy9hbQoyc3VDU1lxTkI5ZHlNWGZPV2lKMStUTEprK28vWVp0OHZ1eENLZGNaWWdsNGwvTDZQeEo5ODJTUmhjODNaVzJka0FaSTRNMC9VZDNvCmVQZTg0azhqbTNBN0V2SDV3aTVodkNrS1JwdVJCd24zRWkrakNSb3V4VGJ6S1BzdUNWQisxc055eE1UWHpmMD08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48L2RzOlg1MDlEYXRhPjwvZHM6S2V5SW5mbz48L2RzOlNpZ25hdHVyZT48c2FtbDI6U3ViamVjdD48c2FtbDI6TmFtZUlEIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6MS4xOm5hbWVpZC1mb3JtYXQ6dW5zcGVjaWZpZWQiPlNhbWwyQmVhcmVySW50ZWdyYXRpb25Vc2VyPC9zYW1sMjpOYW1lSUQ-PHNhbWwyOlN1YmplY3RDb25maXJtYXRpb24gTWV0aG9kPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6Y206YmVhcmVyIj48c2FtbDI6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgTm90T25PckFmdGVyPSIyMDE3LTA3LTI5VDAwOjU2OjI2Ljc0M1oiIFJlY2lwaWVudD0iaHR0cDovLzVlYnI1NC5sb2NhbGhvc3Q6ODA4MC91YWEvb2F1dGgvdG9rZW4vYWxpYXMvNWVicjU0LmNsb3VkZm91bmRyeS1zYW1sLWxvZ2luIi8-PC9zYW1sMjpTdWJqZWN0Q29uZmlybWF0aW9uPjwvc2FtbDI6U3ViamVjdD48c2FtbDI6Q29uZGl0aW9ucyBOb3RCZWZvcmU9IjIwMTctMDctMjhUMjM6NTY6MjYuNzMwWiIgTm90T25PckFmdGVyPSIyMDE3LTA3LTI5VDAwOjU2OjI2Ljc0M1oiPjxzYW1sMjpBdWRpZW5jZVJlc3RyaWN0aW9uPjxzYW1sMjpBdWRpZW5jZT41ZWJyNTQuY2xvdWRmb3VuZHJ5LXNhbWwtbG9naW48L3NhbWwyOkF1ZGllbmNlPjwvc2FtbDI6QXVkaWVuY2VSZXN0cmljdGlvbj48L3NhbWwyOkNvbmRpdGlvbnM-PHNhbWwyOkF1dGhuU3RhdGVtZW50IEF1dGhuSW5zdGFudD0iMjAxNy0wNy0yOFQyMzo1NjoyNi43MjhaIiBTZXNzaW9uSW5kZXg9ImE1YjJmajJiZjgzMTgyOTIxYzY0ZjdjYzA3ZGQ4NWciPjxzYW1sMjpBdXRobkNvbnRleHQ-PHNhbWwyOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9zYW1sMjpBdXRobkNvbnRleHRDbGFzc1JlZj48L3NhbWwyOkF1dGhuQ29udGV4dD48L3NhbWwyOkF1dGhuU3RhdGVtZW50PjxzYW1sMjpBdHRyaWJ1dGVTdGF0ZW1lbnQ-PHNhbWwyOkF0dHJpYnV0ZSBOYW1lPSJhdXRob3JpdGllcyI-PHNhbWwyOkF0dHJpYnV0ZVZhbHVlIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhzaTp0eXBlPSJ4czpzdHJpbmciPnVhYS51c2VyPC9zYW1sMjpBdHRyaWJ1dGVWYWx1ZT48L3NhbWwyOkF0dHJpYnV0ZT48c2FtbDI6QXR0cmlidXRlIE5hbWU9ImVtYWlsIj48c2FtbDI6QXR0cmlidXRlVmFsdWUgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgeHNpOnR5cGU9InhzOnN0cmluZyI-bWFyaXNzYUB0ZXN0aW5nLm9yZzwvc2FtbDI6QXR0cmlidXRlVmFsdWU-PC9zYW1sMjpBdHRyaWJ1dGU-PHNhbWwyOkF0dHJpYnV0ZSBOYW1lPSJpZCI-PHNhbWwyOkF0dHJpYnV0ZVZhbHVlIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhzaTp0eXBlPSJ4czpzdHJpbmciPjBiNDg2YTVmLWRmNWEtNDI2YS05MjFiLTUwMzkzMTk4MTgzZTwvc2FtbDI6QXR0cmlidXRlVmFsdWU-PC9zYW1sMjpBdHRyaWJ1dGU-PHNhbWwyOkF0dHJpYnV0ZSBOYW1lPSJuYW1lIj48c2FtbDI6QXR0cmlidXRlVmFsdWUgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgeHNpOnR5cGU9InhzOnN0cmluZyI-bWFyaXNzYTwvc2FtbDI6QXR0cmlidXRlVmFsdWU-PC9zYW1sMjpBdHRyaWJ1dGU-PHNhbWwyOkF0dHJpYnV0ZSBOYW1lPSJvcmlnaW4iPjxzYW1sMjpBdHRyaWJ1dGVWYWx1ZSB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiB4c2k6dHlwZT0ieHM6c3RyaW5nIj51YWE8L3NhbWwyOkF0dHJpYnV0ZVZhbHVlPjwvc2FtbDI6QXR0cmlidXRlPjxzYW1sMjpBdHRyaWJ1dGUgTmFtZT0iem9uZUlkIj48c2FtbDI6QXR0cmlidXRlVmFsdWUgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgeHNpOnR5cGU9InhzOnN0cmluZyI-dWFhPC9zYW1sMjpBdHRyaWJ1dGVWYWx1ZT48L3NhbWwyOkF0dHJpYnV0ZT48L3NhbWwyOkF0dHJpYnV0ZVN0YXRlbWVudD48L3NhbWwyOkFzc2VydGlvbj4&amp;scope=openid&#39;
</code></pre>

<pre><code class="http">POST /uaa/oauth/token/alias/5ebr54.cloudfoundry-saml-login HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Accept: application/json
Host: 5ebr54.localhost

grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Asaml2-bearer&amp;client_id=testclientlQblGw&amp;client_secret=secret&amp;assertion=PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c2FtbDI6QXNzZXJ0aW9uIHhtbG5zOnNhbWwyPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiBJRD0iYTU1NmpoNDViZGIwamRoMjI2YmppZmMzODA3aDlpNiIgSXNzdWVJbnN0YW50PSIyMDE3LTA3LTI4VDIzOjU2OjI2LjcyN1oiIFZlcnNpb249IjIuMCIgeG1sbnM6eHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hIj48c2FtbDI6SXNzdWVyPjVlYnI1NC5jbG91ZGZvdW5kcnktc2FtbC1sb2dpbjwvc2FtbDI6SXNzdWVyPjxkczpTaWduYXR1cmUgeG1sbnM6ZHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxkczpTaWduZWRJbmZvPjxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8-PGRzOlNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSIvPjxkczpSZWZlcmVuY2UgVVJJPSIjYTU1NmpoNDViZGIwamRoMjI2YmppZmMzODA3aDlpNiI-PGRzOlRyYW5zZm9ybXM-PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8-PGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyI-PGVjOkluY2x1c2l2ZU5hbWVzcGFjZXMgeG1sbnM6ZWM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIgUHJlZml4TGlzdD0ieHMiLz48L2RzOlRyYW5zZm9ybT48L2RzOlRyYW5zZm9ybXM-PGRzOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8-PGRzOkRpZ2VzdFZhbHVlPlNEWDdLSklockM1NjFEamhZSUJuVVJRVTQwdz08L2RzOkRpZ2VzdFZhbHVlPjwvZHM6UmVmZXJlbmNlPjwvZHM6U2lnbmVkSW5mbz48ZHM6U2lnbmF0dXJlVmFsdWU-bHNuS05IVmhJUGF6YjNSZzZmMEd2UEdXVmM3cVozV1c0aDF3dnR0V25GRitGSW02YUxZRElFNHo0T3B4V2RHUjJJUU1iTFhocy9ERkc3ZjlBaE5VYTFsaE51Qnp3UTRPUEdZcHp0NDJqVENMd3RXck1yUWRpTE5hWmk5K3ZJaWQ0NmFYcG8rcEFjT2V2R2o2K1k1ZW9jQ0d1MmxIN3BybXg5SWt2Zmg4UlU0PTwvZHM6U2lnbmF0dXJlVmFsdWU-PGRzOktleUluZm8-PGRzOlg1MDlEYXRhPjxkczpYNTA5Q2VydGlmaWNhdGU-TUlJRFNUQ0NBcktnQXdJQkFnSUJBREFOQmdrcWhraUc5dzBCQVFRRkFEQjhNUXN3Q1FZRFZRUUdFd0poZHpFT01Bd0dBMVVFQ0JNRgpZWEoxWW1FeERqQU1CZ05WQkFvVEJXRnlkV0poTVE0d0RBWURWUVFIRXdWaGNuVmlZVEVPTUF3R0ExVUVDeE1GWVhKMVltRXhEakFNCkJnTlZCQU1UQldGeWRXSmhNUjB3R3dZSktvWklodmNOQVFrQkZnNWhjblZpWVVCaGNuVmlZUzVoY2pBZUZ3MHhOVEV4TWpBeU1qSTIKTWpkYUZ3MHhOakV4TVRreU1qSTJNamRhTUh3eEN6QUpCZ05WQkFZVEFtRjNNUTR3REFZRFZRUUlFd1ZoY25WaVlURU9NQXdHQTFVRQpDaE1GWVhKMVltRXhEakFNQmdOVkJBY1RCV0Z5ZFdKaE1RNHdEQVlEVlFRTEV3VmhjblZpWVRFT01Bd0dBMVVFQXhNRllYSjFZbUV4CkhUQWJCZ2txaGtpRzl3MEJDUUVXRG1GeWRXSmhRR0Z5ZFdKaExtRnlNSUdmTUEwR0NTcUdTSWIzRFFFQkFRVUFBNEdOQURDQmlRS0IKZ1FESHRDNWdVWHhCS3BFcVpUTGtOdkZ3TkduTklrZ2dOT3dPUVZOYnBPMFdWSElpdmlnNUwzOVdxUzl1MGhuQStPN01DQS9LbHJBUgo0YlhhZVZWaHdmVVBZQktJcGFhVFdGUVI1Y1RSMVVGWkpML09GOXZBZnBPd3pub0Q2NkREQ25RVnBiQ2p0RFlXWCt4NmlteG44SENZCnhoTW9sNlpuVGJTc0ZXNlZaakZNalFJREFRQUJvNEhhTUlIWE1CMEdBMVVkRGdRV0JCVHgwbER6akgvaU9Cbk9TUWFTRVdRTHgxc3kKR0RDQnB3WURWUjBqQklHZk1JR2NnQlR4MGxEempIL2lPQm5PU1FhU0VXUUx4MXN5R0tHQmdLUitNSHd4Q3pBSkJnTlZCQVlUQW1GMwpNUTR3REFZRFZRUUlFd1ZoY25WaVlURU9NQXdHQTFVRUNoTUZZWEoxWW1FeERqQU1CZ05WQkFjVEJXRnlkV0poTVE0d0RBWURWUVFMCkV3VmhjblZpWVRFT01Bd0dBMVVFQXhNRllYSjFZbUV4SFRBYkJna3Foa2lHOXcwQkNRRVdEbUZ5ZFdKaFFHRnlkV0poTG1GeWdnRUEKTUF3R0ExVWRFd1FGTUFNQkFmOHdEUVlKS29aSWh2Y05BUUVFQlFBRGdZRUFZdkJKMEhPWmJiSENsWG1HVWpHcytHUyt4QzFGTy9hbQoyc3VDU1lxTkI5ZHlNWGZPV2lKMStUTEprK28vWVp0OHZ1eENLZGNaWWdsNGwvTDZQeEo5ODJTUmhjODNaVzJka0FaSTRNMC9VZDNvCmVQZTg0azhqbTNBN0V2SDV3aTVodkNrS1JwdVJCd24zRWkrakNSb3V4VGJ6S1BzdUNWQisxc055eE1UWHpmMD08L2RzOlg1MDlDZXJ0aWZpY2F0ZT48L2RzOlg1MDlEYXRhPjwvZHM6S2V5SW5mbz48L2RzOlNpZ25hdHVyZT48c2FtbDI6U3ViamVjdD48c2FtbDI6TmFtZUlEIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6MS4xOm5hbWVpZC1mb3JtYXQ6dW5zcGVjaWZpZWQiPlNhbWwyQmVhcmVySW50ZWdyYXRpb25Vc2VyPC9zYW1sMjpOYW1lSUQ-PHNhbWwyOlN1YmplY3RDb25maXJtYXRpb24gTWV0aG9kPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6Y206YmVhcmVyIj48c2FtbDI6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgTm90T25PckFmdGVyPSIyMDE3LTA3LTI5VDAwOjU2OjI2Ljc0M1oiIFJlY2lwaWVudD0iaHR0cDovLzVlYnI1NC5sb2NhbGhvc3Q6ODA4MC91YWEvb2F1dGgvdG9rZW4vYWxpYXMvNWVicjU0LmNsb3VkZm91bmRyeS1zYW1sLWxvZ2luIi8-PC9zYW1sMjpTdWJqZWN0Q29uZmlybWF0aW9uPjwvc2FtbDI6U3ViamVjdD48c2FtbDI6Q29uZGl0aW9ucyBOb3RCZWZvcmU9IjIwMTctMDctMjhUMjM6NTY6MjYuNzMwWiIgTm90T25PckFmdGVyPSIyMDE3LTA3LTI5VDAwOjU2OjI2Ljc0M1oiPjxzYW1sMjpBdWRpZW5jZVJlc3RyaWN0aW9uPjxzYW1sMjpBdWRpZW5jZT41ZWJyNTQuY2xvdWRmb3VuZHJ5LXNhbWwtbG9naW48L3NhbWwyOkF1ZGllbmNlPjwvc2FtbDI6QXVkaWVuY2VSZXN0cmljdGlvbj48L3NhbWwyOkNvbmRpdGlvbnM-PHNhbWwyOkF1dGhuU3RhdGVtZW50IEF1dGhuSW5zdGFudD0iMjAxNy0wNy0yOFQyMzo1NjoyNi43MjhaIiBTZXNzaW9uSW5kZXg9ImE1YjJmajJiZjgzMTgyOTIxYzY0ZjdjYzA3ZGQ4NWciPjxzYW1sMjpBdXRobkNvbnRleHQ-PHNhbWwyOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9zYW1sMjpBdXRobkNvbnRleHRDbGFzc1JlZj48L3NhbWwyOkF1dGhuQ29udGV4dD48L3NhbWwyOkF1dGhuU3RhdGVtZW50PjxzYW1sMjpBdHRyaWJ1dGVTdGF0ZW1lbnQ-PHNhbWwyOkF0dHJpYnV0ZSBOYW1lPSJhdXRob3JpdGllcyI-PHNhbWwyOkF0dHJpYnV0ZVZhbHVlIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhzaTp0eXBlPSJ4czpzdHJpbmciPnVhYS51c2VyPC9zYW1sMjpBdHRyaWJ1dGVWYWx1ZT48L3NhbWwyOkF0dHJpYnV0ZT48c2FtbDI6QXR0cmlidXRlIE5hbWU9ImVtYWlsIj48c2FtbDI6QXR0cmlidXRlVmFsdWUgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgeHNpOnR5cGU9InhzOnN0cmluZyI-bWFyaXNzYUB0ZXN0aW5nLm9yZzwvc2FtbDI6QXR0cmlidXRlVmFsdWU-PC9zYW1sMjpBdHRyaWJ1dGU-PHNhbWwyOkF0dHJpYnV0ZSBOYW1lPSJpZCI-PHNhbWwyOkF0dHJpYnV0ZVZhbHVlIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhzaTp0eXBlPSJ4czpzdHJpbmciPjBiNDg2YTVmLWRmNWEtNDI2YS05MjFiLTUwMzkzMTk4MTgzZTwvc2FtbDI6QXR0cmlidXRlVmFsdWU-PC9zYW1sMjpBdHRyaWJ1dGU-PHNhbWwyOkF0dHJpYnV0ZSBOYW1lPSJuYW1lIj48c2FtbDI6QXR0cmlidXRlVmFsdWUgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgeHNpOnR5cGU9InhzOnN0cmluZyI-bWFyaXNzYTwvc2FtbDI6QXR0cmlidXRlVmFsdWU-PC9zYW1sMjpBdHRyaWJ1dGU-PHNhbWwyOkF0dHJpYnV0ZSBOYW1lPSJvcmlnaW4iPjxzYW1sMjpBdHRyaWJ1dGVWYWx1ZSB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiB4c2k6dHlwZT0ieHM6c3RyaW5nIj51YWE8L3NhbWwyOkF0dHJpYnV0ZVZhbHVlPjwvc2FtbDI6QXR0cmlidXRlPjxzYW1sMjpBdHRyaWJ1dGUgTmFtZT0iem9uZUlkIj48c2FtbDI6QXR0cmlidXRlVmFsdWUgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgeHNpOnR5cGU9InhzOnN0cmluZyI-dWFhPC9zYW1sMjpBdHRyaWJ1dGVWYWx1ZT48L3NhbWwyOkF0dHJpYnV0ZT48L3NhbWwyOkF0dHJpYnV0ZVN0YXRlbWVudD48L3NhbWwyOkFzc2VydGlvbj4&amp;scope=openid
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Disposition: inline;filename=f.txt
Content-Type: application/json;charset=UTF-8
Content-Length: 1796

{
  &quot;access_token&quot; : &quot;eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiJkOTNiNjA2YzAzYjU0NGQ4YTg0MGExYTVlOWFjZDIzZSIsInN1YiI6IjNkODU5MDBmLWU5NGEtNDljNy1hNDRhLTk4ZTUyMDFkZGUyOSIsInNjb3BlIjpbIm9wZW5pZCJdLCJjbGllbnRfaWQiOiJ0ZXN0Y2xpZW50bFFibEd3IiwiY2lkIjoidGVzdGNsaWVudGxRYmxHdyIsImF6cCI6InRlc3RjbGllbnRsUWJsR3ciLCJncmFudF90eXBlIjoidXJuOmlldGY6cGFyYW1zOm9hdXRoOmdyYW50LXR5cGU6c2FtbDItYmVhcmVyIiwidXNlcl9pZCI6IjNkODU5MDBmLWU5NGEtNDljNy1hNDRhLTk4ZTUyMDFkZGUyOSIsIm9yaWdpbiI6IjVlYnI1NC5jbG91ZGZvdW5kcnktc2FtbC1sb2dpbiIsInVzZXJfbmFtZSI6IlNhbWwyQmVhcmVySW50ZWdyYXRpb25Vc2VyIiwiZW1haWwiOiJTYW1sMkJlYXJlckludGVncmF0aW9uVXNlckB1bmtub3duLm9yZyIsInJldl9zaWciOiIzZDEzOGZjYyIsImlhdCI6MTUwMTI4NjE4NywiZXhwIjoxNTAxMjg2Nzg3LCJpc3MiOiJodHRwOi8vNWVicjU0LmxvY2FsaG9zdDo4MDgwL3VhYS9vYXV0aC90b2tlbiIsInppZCI6IjVlYnI1NCIsImF1ZCI6W119.RE2QTLIkPUhMxqmCS0ZDZ7RNzTiSBGF_JkOWvdwurt4&quot;,
  &quot;token_type&quot; : &quot;bearer&quot;,
  &quot;refresh_token&quot; : &quot;eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiI5OTFhYmIxZDY0MTg0YWRlYTNjOTU4NzE5OWRhYzU5ZS1yIiwic3ViIjoiM2Q4NTkwMGYtZTk0YS00OWM3LWE0NGEtOThlNTIwMWRkZTI5Iiwic2NvcGUiOlsib3BlbmlkIl0sImlhdCI6MTUwMTI4NjE4NywiZXhwIjoxNTAzODc4MTg3LCJjaWQiOiJ0ZXN0Y2xpZW50bFFibEd3IiwiY2xpZW50X2lkIjoidGVzdGNsaWVudGxRYmxHdyIsImlzcyI6Imh0dHA6Ly81ZWJyNTQubG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoiNWVicjU0IiwiZ3JhbnRfdHlwZSI6InVybjppZXRmOnBhcmFtczpvYXV0aDpncmFudC10eXBlOnNhbWwyLWJlYXJlciIsInVzZXJfbmFtZSI6IlNhbWwyQmVhcmVySW50ZWdyYXRpb25Vc2VyIiwib3JpZ2luIjoiNWVicjU0LmNsb3VkZm91bmRyeS1zYW1sLWxvZ2luIiwidXNlcl9pZCI6IjNkODU5MDBmLWU5NGEtNDljNy1hNDRhLTk4ZTUyMDFkZGUyOSIsInJldl9zaWciOiIzZDEzOGZjYyIsImF1ZCI6W119.ceScrU3jYv6azXZlziFKQM5jLpCTUNwNp8S4UtlIvn8&quot;,
  &quot;expires_in&quot; : 599,
  &quot;scope&quot; : &quot;openid&quot;,
  &quot;jti&quot; : &quot;d93b606c03b544d8a840a1a5e9acd23e&quot;
}
</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>String</td>
<td>Optional</td>
<td>The client ID of the receiving client, this client must have <code>urn:ietf:params:oauth:grant-type:saml2-bearer</code> grant type</td>
</tr>
<tr>
<td>client_secret</td>
<td>String</td>
<td>Optional</td>
<td>The secret passphrase configured for the OAuth client. Optional if it is passed as part of the Basic Authorization header.</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>The type of token grant requested, in this case <code>urn:ietf:params:oauth:grant-type:saml2-bearer</code></td>
</tr>
<tr>
<td>assertion</td>
<td>String</td>
<td>Required</td>
<td>An XML based SAML 2.0 bearer assertion, which is Base64URl encoded.</td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>Optional</td>
<td>The list of scopes requested for the token. Use when you wish to reduce the number of scopes the token will have.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>access_token</code></td>
<td><code>String</code></td>
<td>Always null</td>
</tr>
<tr>
<td><code>token_type</code></td>
<td><code>String</code></td>
<td>The type of the access token issued, always <code>bearer</code></td>
</tr>
<tr>
<td><code>expires_in</code></td>
<td><code>Number</code></td>
<td>Number of seconds of lifetime for an access_token, when retrieved</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>String</code></td>
<td>Space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td><code>refresh_token</code></td>
<td><code>String</code></td>
<td>An OAuth refresh token for refresh grants</td>
</tr>
<tr>
<td><code>jti</code></td>
<td><code>String</code></td>
<td>A globally unique identifier for this refresh token</td>
</tr>
</tbody></table>
<h2 id='jwt-bearer-token-grant-35618'>JWT Bearer Token Grant</h2>
<aside class="notice">
  From 4.4.x
</aside>

<p>The <em>JSON Web Token (JWT) Profile for OAuth 2.0 Client Authentication and Authorization Grants</em>
allows to request an OAuth 2.0 access token with a JWT id_token bearer assertion. The flow is defined in 
<a href="https://tools.ietf.org/html/rfc7523">RFC 7523</a>. The requesting client, must have <code>grant_type=urn:ietf:params:oauth:grant-type:jwt-bearer</code>.
In addition the requesting client must either allow the IDP in <code>allowedproviders</code> or omit the property so that any trusted IDP is allowed.
The trust to the assertion, the issuer claim is used to select an OIDC provider (IDP) configured in the 
UAA database. If multiple providers exists that have the same issuer, the grant will fail.</p>

<pre><code class="bash">$ curl &#39;http://localhost/oauth/token&#39; -i -X POST \
    -H &#39;Accept: application/json&#39; \
    -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \
    -d &#39;client_id=q92t5sfkkjhy&amp;client_secret=secret&amp;grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&amp;token_format=opaque&amp;response_type=token+id_token&amp;scope=openid&amp;assertion=eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiIyYTNmNTc2Ny1jZDE4LTQ3NTYtYTZiZC05OWM2ZDBjYTljM2MiLCJwcmV2aW91c19sb2dvbl90aW1lIjpudWxsLCJ1c2VyX25hbWUiOiJnZmdhaXB6bTNscmkiLCJvcmlnaW4iOiJ1YWEiLCJhbXIiOlsicHdkIl0sImlzcyI6Imh0dHA6Ly90Ynl6ZG1uamp4OTAubG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiY2xpZW50X2lkIjoiOEthRnZ2ZEFQUUtsIiwiYXVkIjpbIjhLYUZ2dmRBUFFLbCJdLCJ6aWQiOiJ0Ynl6ZG1uamp4OTAiLCJncmFudF90eXBlIjoicGFzc3dvcmQiLCJ1c2VyX2lkIjoiMmEzZjU3NjctY2QxOC00NzU2LWE2YmQtOTljNmQwY2E5YzNjIiwiYXpwIjoiOEthRnZ2ZEFQUUtsIiwic2NvcGUiOlsib3BlbmlkIl0sImF1dGhfdGltZSI6MTUwMTI4NjE3MCwiZXhwIjoxNTAxMzI5MzcwLCJpYXQiOjE1MDEyODYxNzAsImp0aSI6ImM4NGIwM2NiYWViOTQ5ZGI5OTBjYjM5MGY2MzkxZTczIiwiZW1haWwiOiJnZmdhaXB6bTNscmlAdGVzdC5vcmciLCJyZXZfc2lnIjoiZjM3NDU5ZmMiLCJjaWQiOiI4S2FGdnZkQVBRS2wifQ.5-RxPJjQ4ZoXvOh06MJukpVxo9Ie3Uzy0_vNYIw_pXo&#39;
</code></pre>

<pre><code class="http">POST /oauth/token HTTP/1.1
Accept: application/json
Content-Type: application/x-www-form-urlencoded
Host: localhost

client_id=q92t5sfkkjhy&amp;client_secret=secret&amp;grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&amp;token_format=opaque&amp;response_type=token+id_token&amp;scope=openid&amp;assertion=eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiIyYTNmNTc2Ny1jZDE4LTQ3NTYtYTZiZC05OWM2ZDBjYTljM2MiLCJwcmV2aW91c19sb2dvbl90aW1lIjpudWxsLCJ1c2VyX25hbWUiOiJnZmdhaXB6bTNscmkiLCJvcmlnaW4iOiJ1YWEiLCJhbXIiOlsicHdkIl0sImlzcyI6Imh0dHA6Ly90Ynl6ZG1uamp4OTAubG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiY2xpZW50X2lkIjoiOEthRnZ2ZEFQUUtsIiwiYXVkIjpbIjhLYUZ2dmRBUFFLbCJdLCJ6aWQiOiJ0Ynl6ZG1uamp4OTAiLCJncmFudF90eXBlIjoicGFzc3dvcmQiLCJ1c2VyX2lkIjoiMmEzZjU3NjctY2QxOC00NzU2LWE2YmQtOTljNmQwY2E5YzNjIiwiYXpwIjoiOEthRnZ2ZEFQUUtsIiwic2NvcGUiOlsib3BlbmlkIl0sImF1dGhfdGltZSI6MTUwMTI4NjE3MCwiZXhwIjoxNTAxMzI5MzcwLCJpYXQiOjE1MDEyODYxNzAsImp0aSI6ImM4NGIwM2NiYWViOTQ5ZGI5OTBjYjM5MGY2MzkxZTczIiwiZW1haWwiOiJnZmdhaXB6bTNscmlAdGVzdC5vcmciLCJyZXZfc2lnIjoiZjM3NDU5ZmMiLCJjaWQiOiI4S2FGdnZkQVBRS2wifQ.5-RxPJjQ4ZoXvOh06MJukpVxo9Ie3Uzy0_vNYIw_pXo
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 1050

{
  &quot;access_token&quot; : &quot;c2b56a2d053e42f59b114f9bed5bfcba&quot;,
  &quot;token_type&quot; : &quot;bearer&quot;,
  &quot;id_token&quot; : &quot;eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiI1ZmRlNDIwYy04OTFhLTRmZjktYWI5Ny0yNjI2NjQ4MDE1MzgiLCJwcmV2aW91c19sb2dvbl90aW1lIjpudWxsLCJ1c2VyX25hbWUiOiJnZmdhaXB6bTNscmlAdGVzdC5vcmciLCJvcmlnaW4iOiJqcWU3VDNhbEExNHEiLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwicmV2b2NhYmxlIjp0cnVlLCJjbGllbnRfaWQiOiJxOTJ0NXNma2tqaHkiLCJhdWQiOlsicTkydDVzZmtramh5Il0sInppZCI6InVhYSIsImdyYW50X3R5cGUiOiJ1cm46aWV0ZjpwYXJhbXM6b2F1dGg6Z3JhbnQtdHlwZTpqd3QtYmVhcmVyIiwidXNlcl9pZCI6IjVmZGU0MjBjLTg5MWEtNGZmOS1hYjk3LTI2MjY2NDgwMTUzOCIsImF6cCI6InE5MnQ1c2Zra2poeSIsInNjb3BlIjpbIm9wZW5pZCJdLCJleHAiOjE1MDEzMjkzNzEsImlhdCI6MTUwMTI4NjE3MSwianRpIjoiYzJiNTZhMmQwNTNlNDJmNTliMTE0ZjliZWQ1YmZjYmEiLCJlbWFpbCI6ImdmZ2FpcHptM2xyaUB0ZXN0Lm9yZyIsInJldl9zaWciOiI1MDNlMTk0NSIsImNpZCI6InE5MnQ1c2Zra2poeSJ9.5J4ubD9Y7pn_MsHQlEmNf6W-7O5cxpGCSyJ79CHiwcY&quot;,
  &quot;expires_in&quot; : 43199,
  &quot;scope&quot; : &quot;openid&quot;,
  &quot;jti&quot; : &quot;c2b56a2d053e42f59b114f9bed5bfcba&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Uses basic authorization with <code>base64(resource_server:shared_secret)</code> assuming the caller (a resource server) is actually also a registered client and has <code>uaa.resource</code> authority</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>assertion</td>
<td>String</td>
<td>Required</td>
<td>JWT token identifying representing the user to be authenticated</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>Required, client with</td>
</tr>
<tr>
<td>client_secret</td>
<td>String</td>
<td>Required</td>
<td>Required unless a basic authorization header is used</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>Must be set to <code>urn:ietf:params:oauth:grant-type:jwt-bearer</code></td>
</tr>
<tr>
<td>scope</td>
<td>String</td>
<td>Optional</td>
<td>Optional parameter to limit the number of scopes in the <code>scope</code> claim of the access token</td>
</tr>
<tr>
<td>response_type</td>
<td>String</td>
<td>Optional</td>
<td>May be set to <code>token</code> or <code>token id_token</code> or <code>id_token</code></td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td>May be set to <code>opaque</code> to retrieve revocable and non identifiable access token</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>access_token</code></td>
<td><code>String</code></td>
<td>Access token generated by this grant</td>
</tr>
<tr>
<td><code>token_type</code></td>
<td><code>String</code></td>
<td>Will always be <code>bearer</code></td>
</tr>
<tr>
<td><code>id_token</code></td>
<td><code>String</code></td>
<td>If requested in <code>response_type</code>, the id_token for the shadow user</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>String</code></td>
<td>List of scopes present in the <code>scope</code> claim in the access token</td>
</tr>
<tr>
<td><code>expires_in</code></td>
<td><code>Number</code></td>
<td>Number of seconds before this token expires from the time of issuance</td>
</tr>
<tr>
<td><code>jti</code></td>
<td><code>String</code></td>
<td>The unique token ID</td>
</tr>
</tbody></table>
<h2 id='refresh-token-83274'>Refresh Token</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/token&#39; -i -X POST \
    -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;client_id=app&amp;client_secret=appclientsecret&amp;grant_type=refresh_token&amp;token_format=opaque&amp;refresh_token=b4f308e6e24f47fc8cb6d7ab7b8b0cfc-r&#39;
</code></pre>

<pre><code class="http">POST /oauth/token HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Accept: application/json
Host: localhost

client_id=app&amp;client_secret=appclientsecret&amp;grant_type=refresh_token&amp;token_format=opaque&amp;refresh_token=b4f308e6e24f47fc8cb6d7ab7b8b0cfc-r
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 307

{
  &quot;access_token&quot; : &quot;69ef553d18574292b2051820c3d8cf96&quot;,
  &quot;token_type&quot; : &quot;bearer&quot;,
  &quot;refresh_token&quot; : &quot;b4f308e6e24f47fc8cb6d7ab7b8b0cfc-r&quot;,
  &quot;expires_in&quot; : 43199,
  &quot;scope&quot; : &quot;scim.userids cloud_controller.read password.write cloud_controller.write openid&quot;,
  &quot;jti&quot; : &quot;69ef553d18574292b2051820c3d8cf96&quot;
}
</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>the type of authentication being used to obtain the token, in this case <code>refresh_token</code></td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Optional</td>
<td>A unique string representing the registration information provided by the client, the recipient of the token. Optional if it is passed as part of the Basic Authorization header.</td>
</tr>
<tr>
<td>client_secret</td>
<td>String</td>
<td>Optional</td>
<td>The secret passphrase configured for the OAuth client. Optional if it is passed as part of the Basic Authorization header.</td>
</tr>
<tr>
<td>refresh_token</td>
<td>String</td>
<td>Required</td>
<td>the refresh_token that was returned along with the access token.</td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td><small><mark>UAA 3.3.0</mark></small> Can be set to &#39;opaque&#39; to retrieve an opaque and revocable token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>access_token</code></td>
<td><code>String</code></td>
<td>the access token</td>
</tr>
<tr>
<td><code>refresh_token</code></td>
<td><code>String</code></td>
<td>the refresh token</td>
</tr>
<tr>
<td><code>token_type</code></td>
<td><code>String</code></td>
<td>the type of the access token issued, i.e. <code>bearer</code></td>
</tr>
<tr>
<td><code>expires_in</code></td>
<td><code>Number</code></td>
<td>number of seconds until token expiry</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>String</code></td>
<td>space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td><code>jti</code></td>
<td><code>String</code></td>
<td>a globally unique identifier for this token</td>
</tr>
</tbody></table>
<h2 id='openid-connect-56671'>OpenID Connect</h2>
<p>The token endpoint can provide an ID token as defined by OpenID Connect.</p>

<pre><code class="bash">$ curl &#39;http://localhost/oauth/token&#39; -i -X POST \
    -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;client_id=login&amp;client_secret=loginsecret&amp;grant_type=authorization_code&amp;response_type=id_token&amp;code=scAvg1X34Z&amp;token_format=opaque&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fredirect%2Fcf&#39;
</code></pre>

<pre><code class="http">POST /oauth/token HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Accept: application/json
Host: localhost

client_id=login&amp;client_secret=loginsecret&amp;grant_type=authorization_code&amp;response_type=id_token&amp;code=scAvg1X34Z&amp;token_format=opaque&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fredirect%2Fcf
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 1056

{
  &quot;access_token&quot; : &quot;938aaf6a96b84b27b5ee1a66c26c594f&quot;,
  &quot;token_type&quot; : &quot;bearer&quot;,
  &quot;id_token&quot; : &quot;eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiI1ZjljOTUyYS0zZmI1LTQ5NjYtYWE5MC1kNGU3ZDY1NTA0M2QiLCJwcmV2aW91c19sb2dvbl90aW1lIjpudWxsLCJ1c2VyX25hbWUiOiJTSjhSZk1AdGVzdC5vcmciLCJvcmlnaW4iOiJ1YWEiLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwicmV2b2NhYmxlIjp0cnVlLCJjbGllbnRfaWQiOiJsb2dpbiIsImF1ZCI6WyJsb2dpbiJdLCJ6aWQiOiJ1YWEiLCJncmFudF90eXBlIjoiYXV0aG9yaXphdGlvbl9jb2RlIiwidXNlcl9pZCI6IjVmOWM5NTJhLTNmYjUtNDk2Ni1hYTkwLWQ0ZTdkNjU1MDQzZCIsImF6cCI6ImxvZ2luIiwic2NvcGUiOlsib3BlbmlkIl0sImF1dGhfdGltZSI6MTUwMTI4NjE4NiwiZXhwIjoxNTAxMzI5Mzg2LCJpYXQiOjE1MDEyODYxODYsImp0aSI6IjkzOGFhZjZhOTZiODRiMjdiNWVlMWE2NmMyNmM1OTRmIiwiZW1haWwiOiJTSjhSZk1AdGVzdC5vcmciLCJyZXZfc2lnIjoiOGYyZTA0YTIiLCJjaWQiOiJsb2dpbiJ9.AqpPiCysa4farb_kUP8dCx5JlvpGHmMMOprMvQO6A-4&quot;,
  &quot;refresh_token&quot; : &quot;e16a8381d52246889429c00f02126d10-r&quot;,
  &quot;expires_in&quot; : 43199,
  &quot;scope&quot; : &quot;openid oauth.approvals&quot;,
  &quot;jti&quot; : &quot;938aaf6a96b84b27b5ee1a66c26c594f&quot;
}
</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>String</td>
<td>Required</td>
<td>the type of token that should be issued. possible values are <code>id_token token</code> and <code>id_token</code>.</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Optional</td>
<td>A unique string representing the registration information provided by the client, the recipient of the token. Optional if it is passed as part of the Basic Authorization header.</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Required if provided on authorization request</td>
<td>redirection URI to which the authorization server will send the user-agent back once access is granted (or denied)</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>Required</td>
<td>the authorization code, obtained from /oauth/authorize, issued for the user</td>
</tr>
<tr>
<td>grant_type</td>
<td>String</td>
<td>Required</td>
<td>the type of authentication being used to obtain the token, in this case <code>authorization_code</code></td>
</tr>
<tr>
<td>client_secret</td>
<td>String</td>
<td>Optional</td>
<td>The secret passphrase configured for the OAuth client. Optional if it is passed as part of the Basic Authorization header.</td>
</tr>
<tr>
<td>token_format</td>
<td>String</td>
<td>Optional</td>
<td><small><mark>UAA 3.3.0</mark></small> Can be set to &#39;opaque&#39; to retrieve an opaque and revocable token.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>access_token</code></td>
<td><code>String</code></td>
<td>the access token for the user to whom the authorization code was issued</td>
</tr>
<tr>
<td><code>id_token</code></td>
<td><code>String</code></td>
<td>the OpenID Connect ID token for the user to whom the authorization code was issued</td>
</tr>
<tr>
<td><code>token_type</code></td>
<td><code>String</code></td>
<td>the type of the access token issued, i.e. <code>bearer</code></td>
</tr>
<tr>
<td><code>expires_in</code></td>
<td><code>Number</code></td>
<td>number of seconds until token expiry</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>String</code></td>
<td>space-delimited list of scopes authorized by the user for this client</td>
</tr>
<tr>
<td><code>refresh_token</code></td>
<td><code>String</code></td>
<td>an OAuth refresh token for refresh grants</td>
</tr>
<tr>
<td><code>jti</code></td>
<td><code>String</code></td>
<td>a globally unique identifier for this token</td>
</tr>
</tbody></table>
<h2 id='revoke-tokens-5769'>Revoke tokens</h2>
<aside class="success">
  Added in UAA 3.3.0
</aside>
<h3 id='revoke-all-tokens-for-a-user-50'>Revoke all tokens for a user</h3>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/token/revoke/user/b5fc0aac-6753-4ef0-8f67-43b9b33bb817&#39; -i \
    -H &#39;Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiJjYTRhOTRkYTBhZWI0YWZmOTA2MmU5NzY2ZDBmYjIxNSIsInN1YiI6ImFkbWluIiwiYXV0aG9yaXRpZXMiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwic2NvcGUiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwiY2xpZW50X2lkIjoiYWRtaW4iLCJjaWQiOiJhZG1pbiIsImF6cCI6ImFkbWluIiwiZ3JhbnRfdHlwZSI6ImNsaWVudF9jcmVkZW50aWFscyIsInJldl9zaWciOiIzOWNkMzAzZCIsImlhdCI6MTUwMTI4NjE4OSwiZXhwIjoxNTAxMzI5Mzg5LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwiYXVkIjpbInNjaW0iLCJjbGllbnRzIiwidWFhIiwiYWRtaW4iXX0.DlKqn6BQht74g_j1OlAoETJots8cwL9FO0WhLzvXa8w&#39;
</code></pre>

<pre><code class="http">GET /oauth/token/revoke/user/b5fc0aac-6753-4ef0-8f67-43b9b33bb817 HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiJjYTRhOTRkYTBhZWI0YWZmOTA2MmU5NzY2ZDBmYjIxNSIsInN1YiI6ImFkbWluIiwiYXV0aG9yaXRpZXMiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwic2NvcGUiOlsiY2xpZW50cy5yZWFkIiwiY2xpZW50cy5zZWNyZXQiLCJjbGllbnRzLndyaXRlIiwidWFhLmFkbWluIiwiY2xpZW50cy5hZG1pbiIsInNjaW0ud3JpdGUiLCJzY2ltLnJlYWQiXSwiY2xpZW50X2lkIjoiYWRtaW4iLCJjaWQiOiJhZG1pbiIsImF6cCI6ImFkbWluIiwiZ3JhbnRfdHlwZSI6ImNsaWVudF9jcmVkZW50aWFscyIsInJldl9zaWciOiIzOWNkMzAzZCIsImlhdCI6MTUwMTI4NjE4OSwiZXhwIjoxNTAxMzI5Mzg5LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwiYXVkIjpbInNjaW0iLCJjbGllbnRzIiwidWFhIiwiYWRtaW4iXX0.DlKqn6BQht74g_j1OlAoETJots8cwL9FO0WhLzvXa8w
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff

</code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/token/revoke/user/{userId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>The identifier for the user to revoke all tokens for</td>
</tr>
</tbody></table>

<p><em>Request Header</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with uaa.admin or tokens.revoke scope. Any token with the matching user_id may also be used for self revocation.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>
<h3 id='revoke-all-tokens-for-a-client-58696'>Revoke all tokens for a client</h3>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/token/revoke/client/FbvdiJ&#39; -i \
    -H &#39;Authorization: Bearer d14bb946c6194fc49ffb05b9948eff68&#39;
</code></pre>

<pre><code class="http">GET /oauth/token/revoke/client/FbvdiJ HTTP/1.1
Authorization: Bearer d14bb946c6194fc49ffb05b9948eff68
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff

</code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/token/revoke/client/{clientId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>clientId</td>
<td>The identifier for the client to revoke all tokens for</td>
</tr>
</tbody></table>

<p><em>Request Header</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with uaa.admin or tokens.revoke scope. Any token with the matching client_id may also be used for self revocation.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>
<h3 id='revoke-a-single-token-56517'>Revoke a single token</h3>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/token/revoke/51a3e75dfcbc4789ac9ba6ed0640fc4a&#39; -i -X DELETE \
    -H &#39;Authorization: Bearer bc7cade521c44e14b5b89c90040d6d28&#39;
</code></pre>

<pre><code class="http">DELETE /oauth/token/revoke/51a3e75dfcbc4789ac9ba6ed0640fc4a HTTP/1.1
Authorization: Bearer bc7cade521c44e14b5b89c90040d6d28
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff

</code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/token/revoke/{tokenId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tokenId</td>
<td>The identifier for the token to be revoked. For JWT tokens use the jti claim in the token.</td>
</tr>
</tbody></table>

<p><em>Request Header</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with uaa.admin or tokens.revoke scope. You can use any token with matching token ID to revoke itself.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>
<h2 id='list-tokens-67905'>List tokens</h2>
<aside class="success">
  Added in UAA 3.7.1
</aside>
<h3 id='list-all-tokens-for-a-user-34860'>List all tokens for a user</h3>
<p>The <code>/oauth/token/list/user/{userId}</code> will return all the tokens that match the user_id in the path parameter.
This token requires the <code>tokens.list</code> scope. </p>

<pre><code class="bash">$ curl &#39;http://localhost/oauth/token/list/user/54c3bb9f-feb1-455a-93d3-9985c0d0f2f3&#39; -i \
    -H &#39;Authorization: Bearer 68ec8cf81a8d43ff83f6ea552d68e6e9&#39; \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">GET /oauth/token/list/user/54c3bb9f-feb1-455a-93d3-9985c0d0f2f3 HTTP/1.1
Authorization: Bearer 68ec8cf81a8d43ff83f6ea552d68e6e9
Accept: application/json
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 631

[ {
  &quot;tokenId&quot; : &quot;14870306ac4f4f6ebdbbb75d4c89fe7d&quot;,
  &quot;clientId&quot; : &quot;hOow17&quot;,
  &quot;userId&quot; : &quot;54c3bb9f-feb1-455a-93d3-9985c0d0f2f3&quot;,
  &quot;format&quot; : &quot;OPAQUE&quot;,
  &quot;responseType&quot; : &quot;ACCESS_TOKEN&quot;,
  &quot;issuedAt&quot; : 1501286191248,
  &quot;expiresAt&quot; : 1501329391246,
  &quot;scope&quot; : &quot;[openid]&quot;,
  &quot;value&quot; : null,
  &quot;zoneId&quot; : &quot;uaa&quot;
}, {
  &quot;tokenId&quot; : &quot;6a46453b1ab14fa3a33cd722c58e5184-r&quot;,
  &quot;clientId&quot; : &quot;hOow17&quot;,
  &quot;userId&quot; : &quot;54c3bb9f-feb1-455a-93d3-9985c0d0f2f3&quot;,
  &quot;format&quot; : &quot;OPAQUE&quot;,
  &quot;responseType&quot; : &quot;REFRESH_TOKEN&quot;,
  &quot;issuedAt&quot; : 1501286191248,
  &quot;expiresAt&quot; : 1503878191243,
  &quot;scope&quot; : &quot;[openid]&quot;,
  &quot;value&quot; : null,
  &quot;zoneId&quot; : &quot;uaa&quot;
} ]
</code></pre>

<p><em>Request Header</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing the <code>tokens.list</code> scope.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>Set to application/json</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Path Parameters</em></p>

<p>/oauth/token/list/user/{userId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>The user ID to retrieve tokens for</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>[].zoneId</code></td>
<td><code>String</code></td>
<td>The zone ID for the token</td>
</tr>
<tr>
<td><code>[].tokenId</code></td>
<td><code>String</code></td>
<td>The unique ID for the token</td>
</tr>
<tr>
<td><code>[].clientId</code></td>
<td><code>String</code></td>
<td>Client ID for this token, will always match the client_id claim in the access token used for this call</td>
</tr>
<tr>
<td><code>[].userId</code></td>
<td><code>String</code></td>
<td>User ID for this token, will always match the user_id claim in the access token used for this call</td>
</tr>
<tr>
<td><code>[].format</code></td>
<td><code>String</code></td>
<td>What format was requested, OPAQUE or JWT</td>
</tr>
<tr>
<td><code>[].expiresAt</code></td>
<td><code>Number</code></td>
<td>Epoch time - token expiration date</td>
</tr>
<tr>
<td><code>[].issuedAt</code></td>
<td><code>Number</code></td>
<td>Epoch time - token issue date</td>
</tr>
<tr>
<td><code>[].scope</code></td>
<td><code>String</code></td>
<td>Comma separated list of scopes this token holds, up to 1000 characters</td>
</tr>
<tr>
<td><code>[].responseType</code></td>
<td><code>String</code></td>
<td>response type requested during the token request, possible values ID_TOKEN, ACCESS_TOKEN, REFRESH_TOKEN</td>
</tr>
<tr>
<td><code>[].value</code></td>
<td><code>String</code></td>
<td>Access token value will always be null</td>
</tr>
</tbody></table>
<h3 id='list-all-tokens-for-a-client-5542'>List all tokens for a client</h3>
<p>The <code>/oauth/token/list/client/{clientId}</code> will return all the tokens that match the client_id in the path parameter.
This token requires the <code>tokens.list</code> scope.</p>

<pre><code class="bash">$ curl &#39;http://localhost/oauth/token/list/client/XbuC2O&#39; -i \
    -H &#39;Authorization: Bearer 2e1b355c67944bc49d6213bc01212aaa&#39; \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">GET /oauth/token/list/client/XbuC2O HTTP/1.1
Authorization: Bearer 2e1b355c67944bc49d6213bc01212aaa
Accept: application/json
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 286

[ {
  &quot;tokenId&quot; : &quot;2e1b355c67944bc49d6213bc01212aaa&quot;,
  &quot;clientId&quot; : &quot;XbuC2O&quot;,
  &quot;userId&quot; : null,
  &quot;format&quot; : &quot;OPAQUE&quot;,
  &quot;responseType&quot; : &quot;ACCESS_TOKEN&quot;,
  &quot;issuedAt&quot; : 1501286190323,
  &quot;expiresAt&quot; : 1501329390321,
  &quot;scope&quot; : &quot;[tokens.list]&quot;,
  &quot;value&quot; : null,
  &quot;zoneId&quot; : &quot;uaa&quot;
} ]
</code></pre>

<p><em>Request Header</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing the <code>tokens.list</code> scope.</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>Set to application/json</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Path Parameters</em></p>

<p>/oauth/token/list/client/{clientId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>clientId</td>
<td>The client ID to retrieve tokens for</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>[].zoneId</code></td>
<td><code>String</code></td>
<td>The zone ID for the token</td>
</tr>
<tr>
<td><code>[].tokenId</code></td>
<td><code>String</code></td>
<td>The unique ID for the token</td>
</tr>
<tr>
<td><code>[].clientId</code></td>
<td><code>String</code></td>
<td>Client ID for this token, will always match the client_id claim in the access token used for this call</td>
</tr>
<tr>
<td><code>[].userId</code></td>
<td><code>String</code></td>
<td>User ID for this token, will always match the user_id claim in the access token used for this call</td>
</tr>
<tr>
<td><code>[].format</code></td>
<td><code>String</code></td>
<td>What format was requested, OPAQUE or JWT</td>
</tr>
<tr>
<td><code>[].expiresAt</code></td>
<td><code>Number</code></td>
<td>Epoch time - token expiration date</td>
</tr>
<tr>
<td><code>[].issuedAt</code></td>
<td><code>Number</code></td>
<td>Epoch time - token issue date</td>
</tr>
<tr>
<td><code>[].scope</code></td>
<td><code>String</code></td>
<td>Comma separated list of scopes this token holds, up to 1000 characters</td>
</tr>
<tr>
<td><code>[].responseType</code></td>
<td><code>String</code></td>
<td>response type requested during the token request, possible values ID_TOKEN, ACCESS_TOKEN, REFRESH_TOKEN</td>
</tr>
<tr>
<td><code>[].value</code></td>
<td><code>String</code></td>
<td>Access token value will always be null</td>
</tr>
</tbody></table>
<h1 id='check-token-1152'>Check Token</h1>
<pre><code class="bash">$ curl &#39;http://localhost/check_token&#39; -i -u &#39;app:appclientsecret&#39; -X POST \
    -d &#39;token=b28d18f8c6ef4ec5a05e631509eedaa2&amp;scopes=password.write%2Cscim.userids&#39;
</code></pre>

<pre><code class="http">POST /check_token HTTP/1.1
Authorization: Basic YXBwOmFwcGNsaWVudHNlY3JldA==
Host: localhost
Content-Type: application/x-www-form-urlencoded

token=b28d18f8c6ef4ec5a05e631509eedaa2&amp;scopes=password.write%2Cscim.userids
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 687

{
  &quot;user_id&quot; : &quot;3ec59911-a07b-4580-8d1f-f03ef7a52f62&quot;,
  &quot;user_name&quot; : &quot;marissa&quot;,
  &quot;email&quot; : &quot;marissa@test.org&quot;,
  &quot;client_id&quot; : &quot;app&quot;,
  &quot;exp&quot; : 1501329334,
  &quot;scope&quot; : [ &quot;scim.userids&quot;, &quot;openid&quot;, &quot;cloud_controller.read&quot;, &quot;password.write&quot;, &quot;cloud_controller.write&quot; ],
  &quot;jti&quot; : &quot;b28d18f8c6ef4ec5a05e631509eedaa2&quot;,
  &quot;aud&quot; : [ &quot;app&quot;, &quot;scim&quot;, &quot;cloud_controller&quot;, &quot;password&quot;, &quot;openid&quot; ],
  &quot;sub&quot; : &quot;3ec59911-a07b-4580-8d1f-f03ef7a52f62&quot;,
  &quot;iss&quot; : &quot;http://localhost:8080/uaa/oauth/token&quot;,
  &quot;iat&quot; : 1501286134,
  &quot;cid&quot; : &quot;app&quot;,
  &quot;grant_type&quot; : &quot;password&quot;,
  &quot;azp&quot; : &quot;app&quot;,
  &quot;auth_time&quot; : 1501286134,
  &quot;zid&quot; : &quot;uaa&quot;,
  &quot;rev_sig&quot; : &quot;3377d82c&quot;,
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;revocable&quot; : true
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Uses basic authorization with base64(resource_server:shared_secret) assuming the caller (a resource server) is actually also a registered client and has <code>uaa.resource</code> authority</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>String</td>
<td>Required</td>
<td>The token</td>
</tr>
<tr>
<td>scopes</td>
<td>Array</td>
<td>Optional</td>
<td>String of comma-separated scopes, for checking presence of scopes on the token</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>user_id</code></td>
<td><code>String</code></td>
<td>Only applicable for user tokens</td>
</tr>
<tr>
<td><code>user_name</code></td>
<td><code>String</code></td>
<td>Only applicable for user tokens</td>
</tr>
<tr>
<td><code>email</code></td>
<td><code>String</code></td>
<td>Only applicable for user tokens</td>
</tr>
<tr>
<td><code>client_id</code></td>
<td><code>String</code></td>
<td>A unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td><code>exp</code></td>
<td><code>Number</code></td>
<td><a href="https://tools.ietf.org/html/rfc7519#section-4.1.4">Expiration Time</a> Claim</td>
</tr>
<tr>
<td><code>authorities</code></td>
<td><code>Array</code></td>
<td>Only applicable for client tokens</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>Array</code></td>
<td>List of scopes authorized by the user for this client</td>
</tr>
<tr>
<td><code>jti</code></td>
<td><code>String</code></td>
<td><a href="https://tools.ietf.org/html/rfc7519#section-4.1.7">JWT ID</a> Claim</td>
</tr>
<tr>
<td><code>aud</code></td>
<td><code>Array</code></td>
<td><a href="https://tools.ietf.org/html/rfc7519#section-4.1.3">Audience</a> Claim</td>
</tr>
<tr>
<td><code>sub</code></td>
<td><code>String</code></td>
<td><a href="https://tools.ietf.org/html/rfc7519#section-4.1.2">Subject</a> Claim</td>
</tr>
<tr>
<td><code>iss</code></td>
<td><code>String</code></td>
<td><a href="https://tools.ietf.org/html/rfc7519#section-4.1.1">Issuer</a> Claim</td>
</tr>
<tr>
<td><code>iat</code></td>
<td><code>Number</code></td>
<td><a href="https://tools.ietf.org/html/rfc7519#section-4.1.6">Issued At</a> Claim</td>
</tr>
<tr>
<td><code>cid</code></td>
<td><code>String</code></td>
<td>See <code>client_id</code></td>
</tr>
<tr>
<td><code>grant_type</code></td>
<td><code>String</code></td>
<td>The type of authentication being used to obtain the token, in this case <code>password</code></td>
</tr>
<tr>
<td><code>azp</code></td>
<td><code>String</code></td>
<td>Authorized party</td>
</tr>
<tr>
<td><code>auth_time</code></td>
<td><code>Number</code></td>
<td>Only applicable for user tokens</td>
</tr>
<tr>
<td><code>zid</code></td>
<td><code>String</code></td>
<td>Zone ID</td>
</tr>
<tr>
<td><code>rev_sig</code></td>
<td><code>String</code></td>
<td>Revocation Signature - token revocation hash salted with at least client ID and client secret, and optionally various user values.</td>
</tr>
<tr>
<td><code>origin</code></td>
<td><code>String</code></td>
<td>Only applicable for user tokens</td>
</tr>
<tr>
<td><code>revocable</code></td>
<td><code>Boolean</code></td>
<td>Set to true if this token is revocable</td>
</tr>
</tbody></table>
<h1 id='token-key-s-90035'>Token Key(s)</h1><h2 id='token-key-73854'>Token Key</h2>
<p>An endpoint which returns the JSON Web Token (JWT) key, used by the UAA to sign JWT access tokens, and to be used by authorized clients to verify that a token came from the UAA. The key is in JSON Web Key format. For complete information about JSON Web Keys, see <a href="https://tools.ietf.org/html/rfc7517">RFC 7517</a>. In the case when the token key is symmetric, signer key and verifier key are the same, then this call is authenticated with client credentials using the HTTP Basic method.</p>

<p>JWT signing keys are specified via the identity zone configuration (see <a href="#identity-zones">/identity-zones</a>). An identity zone token policy can be configured with multiple keys for purposes of key rotation. When adding a new key, set its ID as the <code>activeKeyId</code> to use it to sign all new tokens. <a href="#check-token">/check_token</a> will continue to verify tokens signed with the previous signing key for as long as it is present in the <code>keys</code> of the identity zone&#39;s token policy. Remove it to invalidate all those tokens.</p>
<h3 id='asymmetric-15536'>Asymmetric</h3>
<pre><code class="bash">$ curl &#39;http://localhost/token_key&#39; -i -u &#39;app:appclientsecret&#39; \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">GET /token_key HTTP/1.1
Accept: application/json
Authorization: Basic YXBwOmFwcGNsaWVudHNlY3JldA==
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 921

{
  &quot;kty&quot; : &quot;RSA&quot;,
  &quot;e&quot; : &quot;AQAB&quot;,
  &quot;use&quot; : &quot;sig&quot;,
  &quot;kid&quot; : &quot;testKey&quot;,
  &quot;alg&quot; : &quot;RS256&quot;,
  &quot;value&quot; : &quot;-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0m59l2u9iDnMbrXHfqkO\nrn2dVQ3vfBJqcDuFUK03d+1PZGbVlNCqnkpIJ8syFppW8ljnWweP7+LiWpRoz0I7\nfYb3d8TjhV86Y997Fl4DBrxgM6KTJOuE/uxnoDhZQ14LgOU2ckXjOzOdTsnGMKQB\nLCl0vpcXBtFLMaSbpv1ozi8h7DJyVZ6EnFQZUWGdgTMhDrmqevfx95U/16c5WBDO\nkqwIn7Glry9n9Suxygbf8g5AzpWcusZgDLIIZ7JTUldBb8qU2a0Dl4mvLZOn4wPo\njfj9Cw2QICsc5+Pwf21fP+hzf+1WSRHbnYv8uanRO0gZ8ekGaghM/2H6gqJbo2nI\nJwIDAQAB\n-----END PUBLIC KEY-----&quot;,
  &quot;n&quot; : &quot;ANJufZdrvYg5zG61x36pDq59nVUN73wSanA7hVCtN3ftT2Rm1ZTQqp5KSCfLMhaaVvJY51sHj-_i4lqUaM9CO32G93fE44VfOmPfexZeAwa8YDOikyTrhP7sZ6A4WUNeC4DlNnJF4zsznU7JxjCkASwpdL6XFwbRSzGkm6b9aM4vIewyclWehJxUGVFhnYEzIQ65qnr38feVP9enOVgQzpKsCJ-xpa8vZ_UrscoG3_IOQM6VnLrGYAyyCGeyU1JXQW_KlNmtA5eJry2Tp-MD6I34_QsNkCArHOfj8H9tXz_oc3_tVkkR252L_Lmp0TtIGfHpBmoITP9h-oKiW6NpyCc&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>No authorization is required for requesting public keys.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>kid</code></td>
<td><code>String</code></td>
<td>Key ID of key to be used for verification of the token.</td>
</tr>
<tr>
<td><code>alg</code></td>
<td><code>String</code></td>
<td>Encryption algorithm</td>
</tr>
<tr>
<td><code>value</code></td>
<td><code>String</code></td>
<td>Verifier key</td>
</tr>
<tr>
<td><code>kty</code></td>
<td><code>String</code></td>
<td>Key type (RSA)</td>
</tr>
<tr>
<td><code>use</code></td>
<td><code>String</code></td>
<td>Public key use parameter - identifies intended use of the public key. (defaults to &quot;sig&quot;)</td>
</tr>
<tr>
<td><code>n</code></td>
<td><code>String</code></td>
<td>RSA key modulus</td>
</tr>
<tr>
<td><code>e</code></td>
<td><code>String</code></td>
<td>RSA key public exponent</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized - Unregistered client or incorrect client secret</td>
</tr>
</tbody></table>
<h3 id='symmetric-54969'>Symmetric</h3>
<pre><code class="bash">$ curl &#39;http://localhost/token_key&#39; -i -u &#39;app:appclientsecret&#39; \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">GET /token_key HTTP/1.1
Accept: application/json
Authorization: Basic YXBwOmFwcGNsaWVudHNlY3JldA==
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 95

{
  &quot;kty&quot; : &quot;MAC&quot;,
  &quot;alg&quot; : &quot;HS256&quot;,
  &quot;value&quot; : &quot;key&quot;,
  &quot;use&quot; : &quot;sig&quot;,
  &quot;kid&quot; : &quot;testKey&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Uses basic authorization with <code>base64(resource_server:shared_secret)</code> assuming the caller (a resource server) is actually also a registered client and has <code>uaa.resource</code> authority</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>kid</code></td>
<td><code>String</code></td>
<td>Key ID of key to be used for verification of the token.</td>
</tr>
<tr>
<td><code>alg</code></td>
<td><code>String</code></td>
<td>Encryption algorithm</td>
</tr>
<tr>
<td><code>value</code></td>
<td><code>String</code></td>
<td>Verifier key</td>
</tr>
<tr>
<td><code>kty</code></td>
<td><code>String</code></td>
<td>Key type (MAC)</td>
</tr>
<tr>
<td><code>use</code></td>
<td><code>String</code></td>
<td>Public key use parameter - identifies intended use of the public key. (defaults to &quot;sig&quot;)</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized - Unregistered client or incorrect client secret</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Not a resource server (missing <code>uaa.resource</code> scope)</td>
</tr>
</tbody></table>
<h2 id='token-keys-42488'>Token Keys</h2>
<p>An endpoint which returns the list of JWT keys. To support key rotation, this list specifies the IDs of all currently valid keys. JWT tokens issued by the UAA contain a <code>kid</code> field, indicating which key should be used for verification of the token.</p>

<pre><code class="bash">$ curl &#39;http://localhost/token_keys&#39; -i -u &#39;app:appclientsecret&#39; \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">GET /token_keys HTTP/1.1
Accept: application/json
Authorization: Basic YXBwOmFwcGNsaWVudHNlY3JldA==
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 956

{
  &quot;keys&quot; : [ {
    &quot;kty&quot; : &quot;RSA&quot;,
    &quot;e&quot; : &quot;AQAB&quot;,
    &quot;use&quot; : &quot;sig&quot;,
    &quot;kid&quot; : &quot;testKey&quot;,
    &quot;alg&quot; : &quot;RS256&quot;,
    &quot;value&quot; : &quot;-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0m59l2u9iDnMbrXHfqkO\nrn2dVQ3vfBJqcDuFUK03d+1PZGbVlNCqnkpIJ8syFppW8ljnWweP7+LiWpRoz0I7\nfYb3d8TjhV86Y997Fl4DBrxgM6KTJOuE/uxnoDhZQ14LgOU2ckXjOzOdTsnGMKQB\nLCl0vpcXBtFLMaSbpv1ozi8h7DJyVZ6EnFQZUWGdgTMhDrmqevfx95U/16c5WBDO\nkqwIn7Glry9n9Suxygbf8g5AzpWcusZgDLIIZ7JTUldBb8qU2a0Dl4mvLZOn4wPo\njfj9Cw2QICsc5+Pwf21fP+hzf+1WSRHbnYv8uanRO0gZ8ekGaghM/2H6gqJbo2nI\nJwIDAQAB\n-----END PUBLIC KEY-----&quot;,
    &quot;n&quot; : &quot;ANJufZdrvYg5zG61x36pDq59nVUN73wSanA7hVCtN3ftT2Rm1ZTQqp5KSCfLMhaaVvJY51sHj-_i4lqUaM9CO32G93fE44VfOmPfexZeAwa8YDOikyTrhP7sZ6A4WUNeC4DlNnJF4zsznU7JxjCkASwpdL6XFwbRSzGkm6b9aM4vIewyclWehJxUGVFhnYEzIQ65qnr38feVP9enOVgQzpKsCJ-xpa8vZ_UrscoG3_IOQM6VnLrGYAyyCGeyU1JXQW_KlNmtA5eJry2Tp-MD6I34_QsNkCArHOfj8H9tXz_oc3_tVkkR252L_Lmp0TtIGfHpBmoITP9h-oKiW6NpyCc&quot;
  } ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Basic authorization with <code>base64(resource_server:shared_secret)</code> assuming the caller (a resource server) is actually also a registered client and has <code>uaa.resource</code> authority. Header not required (anonymous) for obtaining only asymmetric keys. <code>uaa.resource</code> authority also not required for obtaining only asymmetric keys should you choose to provide this header.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>keys.[].kid</code></td>
<td><code>String</code></td>
<td>Key ID of key to be used for verification of the token.</td>
</tr>
<tr>
<td><code>keys.[].alg</code></td>
<td><code>String</code></td>
<td>Encryption algorithm</td>
</tr>
<tr>
<td><code>keys.[].value</code></td>
<td><code>String</code></td>
<td>Verifier key</td>
</tr>
<tr>
<td><code>keys.[].kty</code></td>
<td><code>String</code></td>
<td>Key type (RSA or MAC)</td>
</tr>
<tr>
<td><code>keys.[].use</code></td>
<td><code>String</code></td>
<td>Public key use parameter - identifies intended use of the public key. (defaults to &quot;sig&quot;)</td>
</tr>
<tr>
<td><code>keys.[].n</code></td>
<td><code>String</code></td>
<td>RSA key modulus</td>
</tr>
<tr>
<td><code>keys.[].e</code></td>
<td><code>String</code></td>
<td>RSA key public exponent</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized - Unregistered client or incorrect client secret</td>
</tr>
</tbody></table>
<h1 id='identity-zones-82005'>Identity Zones</h1>
<p>The UAA supports multi tenancy. This is referred to as identity zones. An identity zones is accessed through a unique subdomain. If the standard UAA responds to <a href="https://uaa.10.244.0.34.xip.io">https://uaa.10.244.0.34.xip.io</a> a zone on this UAA would be accessed through <a href="https://testzone1.uaa.10.244.0.34.xip.io">https://testzone1.uaa.10.244.0.34.xip.io</a></p>

<blockquote>
<p>A zone contains a unique identifier as well as a unique subdomain:</p>
</blockquote>

<pre><code class="json">{
    &quot;id&quot;:&quot;testzone1&quot;,
    &quot;subdomain&quot;:&quot;testzone1&quot;,
    &quot;name&quot;:&quot;The Twiglet Zone[testzone1]&quot;,
    &quot;version&quot;:0,
    &quot;description&quot;:&quot;Like the Twilight Zone but tastier[testzone1].&quot;,
    &quot;created&quot;:1426258488910,
    &quot;last_modified&quot;:1426258488910
}
</code></pre>

<blockquote>
<p>The UAA by default creates a default zone. This zone will always be present, the ID will always be <code>uaa</code>, and the subdomain is blank:</p>
</blockquote>

<pre><code class="json">{
    &quot;id&quot;: &quot;uaa&quot;,
    &quot;subdomain&quot;: &quot;&quot;,
    &quot;name&quot;: &quot;uaa&quot;,
    &quot;version&quot;: 0,
    &quot;description&quot;: &quot;The system zone for backwards compatibility&quot;,
    &quot;created&quot;: 946710000000,
    &quot;last_modified&quot;: 946710000000
}
</code></pre>

<aside class="notice">
  Note that if you specify a subdomain in mixed or upper case for creation or update of an identity zone, it will be converted into lower case before stored in the database. This way the UAA has an easy way to query the database for a zone based on a hostname.
</aside>
<h2 id='creating-an-identity-zone-8796'>Creating an identity zone</h2>
<p>An identity zone is created using a <code>POST</code> with an <code>IdentityZone</code> object. If the object contains an id, this id will be used as the identifier, otherwise an identifier will be generated. Once a zone has been created, the UAA will start accepting requests on the subdomain defined in the <code>subdomain</code> field of the identity zone.
When an Identity Zone is created, an internal Identity Provider is automatically created with the default password policy.</p>

<pre><code class="bash">$ curl &#39;http://localhost/identity-zones&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 1ca1e85491b1497c96a81ff477a93a97&#39; \
    -d &#39;{
  &quot;id&quot; : &quot;twiglet-create&quot;,
  &quot;subdomain&quot; : &quot;twiglet-create&quot;,
  &quot;config&quot; : {
    &quot;tokenPolicy&quot; : {
      &quot;accessTokenValidity&quot; : -1,
      &quot;refreshTokenValidity&quot; : -1,
      &quot;jwtRevocable&quot; : false,
      &quot;refreshTokenUnique&quot; : false,
      &quot;refreshTokenFormat&quot; : &quot;jwt&quot;,
      &quot;activeKeyId&quot; : null,
      &quot;keys&quot; : {
        &quot;exampleKeyId&quot; : {
          &quot;signingKey&quot; : &quot;s1gNiNg.K3y/t3XT&quot;
        }
      }
    },
    &quot;samlConfig&quot; : {
      &quot;assertionSigned&quot; : true,
      &quot;requestSigned&quot; : true,
      &quot;wantAssertionSigned&quot; : true,
      &quot;wantAuthnRequestSigned&quot; : false,
      &quot;assertionTimeToLiveSeconds&quot; : 600,
      &quot;activeKeyId&quot; : &quot;legacy-saml-key&quot;,
      &quot;keys&quot; : {
        &quot;legacy-saml-key&quot; : {
          &quot;key&quot; : &quot;-----BEGIN RSA PRIVATE KEY-----\nMIIBOwIBAAJBAJv8ZpB5hEK7qxP9K3v43hUS5fGT4waKe7ix4Z4mu5UBv+cw7WSF\nAt0Vaag0sAbsPzU8Hhsrj/qPABvfB8asUwcCAwEAAQJAG0r3ezH35WFG1tGGaUOr\nQA61cyaII53ZdgCR1IU8bx7AUevmkFtBf+aqMWusWVOWJvGu2r5VpHVAIl8nF6DS\nkQIhAMjEJ3zVYa2/Mo4ey+iU9J9Vd+WoyXDQD4EEtwmyG1PpAiEAxuZlvhDIbbce\n7o5BvOhnCZ2N7kYb1ZC57g3F+cbJyW8CIQCbsDGHBto2qJyFxbAO7uQ8Y0UVHa0J\nBO/g900SAcJbcQIgRtEljIShOB8pDjrsQPxmI1BLhnjD1EhRSubwhDw5AFUCIQCN\nA24pDtdOHydwtSB5+zFqFLfmVZplQM/g5kb4so70Yw==\n-----END RSA PRIVATE KEY-----\n&quot;,
          &quot;passphrase&quot; : &quot;password&quot;,
          &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
        }
      },
      &quot;privateKey&quot; : &quot;-----BEGIN RSA PRIVATE KEY-----\nMIIBOwIBAAJBAJv8ZpB5hEK7qxP9K3v43hUS5fGT4waKe7ix4Z4mu5UBv+cw7WSF\nAt0Vaag0sAbsPzU8Hhsrj/qPABvfB8asUwcCAwEAAQJAG0r3ezH35WFG1tGGaUOr\nQA61cyaII53ZdgCR1IU8bx7AUevmkFtBf+aqMWusWVOWJvGu2r5VpHVAIl8nF6DS\nkQIhAMjEJ3zVYa2/Mo4ey+iU9J9Vd+WoyXDQD4EEtwmyG1PpAiEAxuZlvhDIbbce\n7o5BvOhnCZ2N7kYb1ZC57g3F+cbJyW8CIQCbsDGHBto2qJyFxbAO7uQ8Y0UVHa0J\nBO/g900SAcJbcQIgRtEljIShOB8pDjrsQPxmI1BLhnjD1EhRSubwhDw5AFUCIQCN\nA24pDtdOHydwtSB5+zFqFLfmVZplQM/g5kb4so70Yw==\n-----END RSA PRIVATE KEY-----\n&quot;,
      &quot;privateKeyPassword&quot; : &quot;password&quot;,
      &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
    },
    &quot;corsPolicy&quot; : {
      &quot;xhrConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      },
      &quot;defaultConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      }
    },
    &quot;links&quot; : {
      &quot;logout&quot; : {
        &quot;redirectUrl&quot; : &quot;/login&quot;,
        &quot;redirectParameterName&quot; : &quot;redirect&quot;,
        &quot;disableRedirectParameter&quot; : false,
        &quot;whitelist&quot; : null
      },
      &quot;homeRedirect&quot; : &quot;http://my.hosted.homepage.com/&quot;,
      &quot;selfService&quot; : {
        &quot;selfServiceLinksEnabled&quot; : true,
        &quot;signup&quot; : null,
        &quot;passwd&quot; : null
      }
    },
    &quot;prompts&quot; : [ {
      &quot;name&quot; : &quot;username&quot;,
      &quot;type&quot; : &quot;text&quot;,
      &quot;text&quot; : &quot;Email&quot;
    }, {
      &quot;name&quot; : &quot;password&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;Password&quot;
    }, {
      &quot;name&quot; : &quot;passcode&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;One Time Code (Get on at /passcode)&quot;
    } ],
    &quot;idpDiscoveryEnabled&quot; : false,
    &quot;branding&quot; : {
      &quot;companyName&quot; : &quot;Test Company&quot;,
      &quot;productLogo&quot; : &quot;VGVzdFByb2R1Y3RMb2dv&quot;,
      &quot;squareLogo&quot; : &quot;VGVzdFNxdWFyZUxvZ28=&quot;,
      &quot;footerLegalText&quot; : &quot;Test footer legal text&quot;,
      &quot;footerLinks&quot; : {
        &quot;Support&quot; : &quot;http://support.example.com&quot;
      }
    },
    &quot;accountChooserEnabled&quot; : false,
    &quot;userConfig&quot; : {
      &quot;defaultGroups&quot; : [ &quot;openid&quot;, &quot;password.write&quot;, &quot;uaa.user&quot;, &quot;approvals.me&quot;, &quot;profile&quot;, &quot;roles&quot;, &quot;user_attributes&quot;, &quot;uaa.offline_token&quot; ]
    }
  },
  &quot;name&quot; : &quot;The Twiglet Zone&quot;,
  &quot;version&quot; : 0,
  &quot;description&quot; : &quot;Like the Twilight Zone but tastier.&quot;,
  &quot;created&quot; : 1501286169361,
  &quot;last_modified&quot; : 1501286169361
}&#39;
</code></pre>

<pre><code class="http">POST /identity-zones HTTP/1.1
Content-Type: application/json
Authorization: Bearer 1ca1e85491b1497c96a81ff477a93a97
Host: localhost
Content-Length: 5648

{
  &quot;id&quot; : &quot;twiglet-create&quot;,
  &quot;subdomain&quot; : &quot;twiglet-create&quot;,
  &quot;config&quot; : {
    &quot;tokenPolicy&quot; : {
      &quot;accessTokenValidity&quot; : -1,
      &quot;refreshTokenValidity&quot; : -1,
      &quot;jwtRevocable&quot; : false,
      &quot;refreshTokenUnique&quot; : false,
      &quot;refreshTokenFormat&quot; : &quot;jwt&quot;,
      &quot;activeKeyId&quot; : null,
      &quot;keys&quot; : {
        &quot;exampleKeyId&quot; : {
          &quot;signingKey&quot; : &quot;s1gNiNg.K3y/t3XT&quot;
        }
      }
    },
    &quot;samlConfig&quot; : {
      &quot;assertionSigned&quot; : true,
      &quot;requestSigned&quot; : true,
      &quot;wantAssertionSigned&quot; : true,
      &quot;wantAuthnRequestSigned&quot; : false,
      &quot;assertionTimeToLiveSeconds&quot; : 600,
      &quot;activeKeyId&quot; : &quot;legacy-saml-key&quot;,
      &quot;keys&quot; : {
        &quot;legacy-saml-key&quot; : {
          &quot;key&quot; : &quot;-----BEGIN RSA PRIVATE KEY-----\nMIIBOwIBAAJBAJv8ZpB5hEK7qxP9K3v43hUS5fGT4waKe7ix4Z4mu5UBv+cw7WSF\nAt0Vaag0sAbsPzU8Hhsrj/qPABvfB8asUwcCAwEAAQJAG0r3ezH35WFG1tGGaUOr\nQA61cyaII53ZdgCR1IU8bx7AUevmkFtBf+aqMWusWVOWJvGu2r5VpHVAIl8nF6DS\nkQIhAMjEJ3zVYa2/Mo4ey+iU9J9Vd+WoyXDQD4EEtwmyG1PpAiEAxuZlvhDIbbce\n7o5BvOhnCZ2N7kYb1ZC57g3F+cbJyW8CIQCbsDGHBto2qJyFxbAO7uQ8Y0UVHa0J\nBO/g900SAcJbcQIgRtEljIShOB8pDjrsQPxmI1BLhnjD1EhRSubwhDw5AFUCIQCN\nA24pDtdOHydwtSB5+zFqFLfmVZplQM/g5kb4so70Yw==\n-----END RSA PRIVATE KEY-----\n&quot;,
          &quot;passphrase&quot; : &quot;password&quot;,
          &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
        }
      },
      &quot;privateKey&quot; : &quot;-----BEGIN RSA PRIVATE KEY-----\nMIIBOwIBAAJBAJv8ZpB5hEK7qxP9K3v43hUS5fGT4waKe7ix4Z4mu5UBv+cw7WSF\nAt0Vaag0sAbsPzU8Hhsrj/qPABvfB8asUwcCAwEAAQJAG0r3ezH35WFG1tGGaUOr\nQA61cyaII53ZdgCR1IU8bx7AUevmkFtBf+aqMWusWVOWJvGu2r5VpHVAIl8nF6DS\nkQIhAMjEJ3zVYa2/Mo4ey+iU9J9Vd+WoyXDQD4EEtwmyG1PpAiEAxuZlvhDIbbce\n7o5BvOhnCZ2N7kYb1ZC57g3F+cbJyW8CIQCbsDGHBto2qJyFxbAO7uQ8Y0UVHa0J\nBO/g900SAcJbcQIgRtEljIShOB8pDjrsQPxmI1BLhnjD1EhRSubwhDw5AFUCIQCN\nA24pDtdOHydwtSB5+zFqFLfmVZplQM/g5kb4so70Yw==\n-----END RSA PRIVATE KEY-----\n&quot;,
      &quot;privateKeyPassword&quot; : &quot;password&quot;,
      &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
    },
    &quot;corsPolicy&quot; : {
      &quot;xhrConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      },
      &quot;defaultConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      }
    },
    &quot;links&quot; : {
      &quot;logout&quot; : {
        &quot;redirectUrl&quot; : &quot;/login&quot;,
        &quot;redirectParameterName&quot; : &quot;redirect&quot;,
        &quot;disableRedirectParameter&quot; : false,
        &quot;whitelist&quot; : null
      },
      &quot;homeRedirect&quot; : &quot;http://my.hosted.homepage.com/&quot;,
      &quot;selfService&quot; : {
        &quot;selfServiceLinksEnabled&quot; : true,
        &quot;signup&quot; : null,
        &quot;passwd&quot; : null
      }
    },
    &quot;prompts&quot; : [ {
      &quot;name&quot; : &quot;username&quot;,
      &quot;type&quot; : &quot;text&quot;,
      &quot;text&quot; : &quot;Email&quot;
    }, {
      &quot;name&quot; : &quot;password&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;Password&quot;
    }, {
      &quot;name&quot; : &quot;passcode&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;One Time Code (Get on at /passcode)&quot;
    } ],
    &quot;idpDiscoveryEnabled&quot; : false,
    &quot;branding&quot; : {
      &quot;companyName&quot; : &quot;Test Company&quot;,
      &quot;productLogo&quot; : &quot;VGVzdFByb2R1Y3RMb2dv&quot;,
      &quot;squareLogo&quot; : &quot;VGVzdFNxdWFyZUxvZ28=&quot;,
      &quot;footerLegalText&quot; : &quot;Test footer legal text&quot;,
      &quot;footerLinks&quot; : {
        &quot;Support&quot; : &quot;http://support.example.com&quot;
      }
    },
    &quot;accountChooserEnabled&quot; : false,
    &quot;userConfig&quot; : {
      &quot;defaultGroups&quot; : [ &quot;openid&quot;, &quot;password.write&quot;, &quot;uaa.user&quot;, &quot;approvals.me&quot;, &quot;profile&quot;, &quot;roles&quot;, &quot;user_attributes&quot;, &quot;uaa.offline_token&quot; ]
    }
  },
  &quot;name&quot; : &quot;The Twiglet Zone&quot;,
  &quot;version&quot; : 0,
  &quot;description&quot; : &quot;Like the Twilight Zone but tastier.&quot;,
  &quot;created&quot; : 1501286169361,
  &quot;last_modified&quot; : 1501286169361
}
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 4404

{
  &quot;id&quot; : &quot;twiglet-create&quot;,
  &quot;subdomain&quot; : &quot;twiglet-create&quot;,
  &quot;config&quot; : {
    &quot;tokenPolicy&quot; : {
      &quot;accessTokenValidity&quot; : -1,
      &quot;refreshTokenValidity&quot; : -1,
      &quot;jwtRevocable&quot; : false,
      &quot;refreshTokenUnique&quot; : false,
      &quot;refreshTokenFormat&quot; : &quot;jwt&quot;,
      &quot;activeKeyId&quot; : null
    },
    &quot;samlConfig&quot; : {
      &quot;assertionSigned&quot; : true,
      &quot;requestSigned&quot; : true,
      &quot;wantAssertionSigned&quot; : true,
      &quot;wantAuthnRequestSigned&quot; : false,
      &quot;assertionTimeToLiveSeconds&quot; : 600,
      &quot;activeKeyId&quot; : &quot;legacy-saml-key&quot;,
      &quot;keys&quot; : {
        &quot;legacy-saml-key&quot; : {
          &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
        }
      },
      &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
    },
    &quot;corsPolicy&quot; : {
      &quot;xhrConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      },
      &quot;defaultConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      }
    },
    &quot;links&quot; : {
      &quot;logout&quot; : {
        &quot;redirectUrl&quot; : &quot;/login&quot;,
        &quot;redirectParameterName&quot; : &quot;redirect&quot;,
        &quot;disableRedirectParameter&quot; : false,
        &quot;whitelist&quot; : null
      },
      &quot;homeRedirect&quot; : &quot;http://my.hosted.homepage.com/&quot;,
      &quot;selfService&quot; : {
        &quot;selfServiceLinksEnabled&quot; : true,
        &quot;signup&quot; : null,
        &quot;passwd&quot; : null
      }
    },
    &quot;prompts&quot; : [ {
      &quot;name&quot; : &quot;username&quot;,
      &quot;type&quot; : &quot;text&quot;,
      &quot;text&quot; : &quot;Email&quot;
    }, {
      &quot;name&quot; : &quot;password&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;Password&quot;
    }, {
      &quot;name&quot; : &quot;passcode&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;One Time Code (Get on at /passcode)&quot;
    } ],
    &quot;idpDiscoveryEnabled&quot; : false,
    &quot;branding&quot; : {
      &quot;companyName&quot; : &quot;Test Company&quot;,
      &quot;productLogo&quot; : &quot;VGVzdFByb2R1Y3RMb2dv&quot;,
      &quot;squareLogo&quot; : &quot;VGVzdFNxdWFyZUxvZ28=&quot;,
      &quot;footerLegalText&quot; : &quot;Test footer legal text&quot;,
      &quot;footerLinks&quot; : {
        &quot;Support&quot; : &quot;http://support.example.com&quot;
      }
    },
    &quot;accountChooserEnabled&quot; : false,
    &quot;userConfig&quot; : {
      &quot;defaultGroups&quot; : [ &quot;openid&quot;, &quot;password.write&quot;, &quot;uaa.user&quot;, &quot;approvals.me&quot;, &quot;profile&quot;, &quot;roles&quot;, &quot;user_attributes&quot;, &quot;uaa.offline_token&quot; ]
    }
  },
  &quot;name&quot; : &quot;The Twiglet Zone&quot;,
  &quot;version&quot; : 0,
  &quot;description&quot; : &quot;Like the Twilight Zone but tastier.&quot;,
  &quot;created&quot; : 1501286169372,
  &quot;last_modified&quot; : 1501286169372
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.write</code> or <code>zones.&lt;zone id&gt;.admin</code></td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Optional</td>
<td>Unique ID of the identity zone</td>
</tr>
<tr>
<td>subdomain</td>
<td>String</td>
<td>Required</td>
<td>Unique subdomain for the running instance. May only contain legal characters for a subdomain name.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable zone name</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Optional</td>
<td>Description of the zone</td>
</tr>
<tr>
<td>version</td>
<td>Number</td>
<td>Optional</td>
<td>Reserved for future use of E-Tag versioning</td>
</tr>
<tr>
<td>config.tokenPolicy</td>
<td>Object</td>
<td>Optional</td>
<td>Various fields pertaining to the JWT access and refresh tokens.</td>
</tr>
<tr>
<td>config.tokenPolicy.activeKeyId</td>
<td>String</td>
<td>Required if <code>config.tokenPolicy.keys</code> are set</td>
<td>The ID for the key that is being used to sign tokens</td>
</tr>
<tr>
<td>config.tokenPolicy.keys.<em>.</em></td>
<td>String</td>
<td>Optional</td>
<td>Keys which will be used to sign the token</td>
</tr>
<tr>
<td>config.tokenPolicy.accessTokenValidity</td>
<td>Number</td>
<td>Optional</td>
<td>Time in seconds between when a access token is issued and when it expires. Defaults to global <code>accessTokenValidity</code></td>
</tr>
<tr>
<td>config.tokenPolicy.refreshTokenValidity</td>
<td>Number</td>
<td>Optional</td>
<td>Time in seconds between when a refresh token is issued and when it expires. Defaults to global <code>refreshTokenValidity</code></td>
</tr>
<tr>
<td>config.tokenPolicy.jwtRevocable</td>
<td>Boolean</td>
<td>Optional</td>
<td>Set to true if JWT tokens should be stored in the token store, and thus made individually revocable. Opaque tokens are always stored and revocable.</td>
</tr>
<tr>
<td>config.tokenPolicy.refreshTokenUnique</td>
<td>Boolean</td>
<td>Optional</td>
<td>If true, uaa will only issue one refresh token per client_id/user_id combination. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td>config.tokenPolicy.refreshTokenFormat</td>
<td>String</td>
<td>Optional</td>
<td>The format for the refresh token. Allowed values are <code>jwt</code>, <code>opaque</code>. Defaults to <code>jwt</code>.</td>
</tr>
<tr>
<td>config.samlConfig.assertionSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>If <code>true</code>, the SAML provider will sign all assertions</td>
</tr>
<tr>
<td>config.samlConfig.wantAssertionSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>Exposed SAML metadata property. If <code>true</code>, all assertions received by the SAML provider must be signed. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td>config.samlConfig.requestSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>Exposed SAML metadata property. If <code>true</code>, the service provider will sign all outgoing authentication requests. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td>config.samlConfig.wantAuthnRequestSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>If <code>true</code>, the authentication request from the partner service provider must be signed.</td>
</tr>
<tr>
<td>config.samlConfig.assertionTimeToLiveSeconds</td>
<td>Number</td>
<td>Optional</td>
<td>The lifetime of a SAML assertion in seconds. Defaults to 600.</td>
</tr>
<tr>
<td>config.samlConfig.certificate</td>
<td>String</td>
<td>Deprecated</td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td>config.samlConfig.privateKey</td>
<td>String</td>
<td>Deprecated</td>
<td>Exposed SAML metadata property. The SAML provider&#39;s private key.</td>
</tr>
<tr>
<td>config.samlConfig.privateKeyPassword</td>
<td>String</td>
<td>Deprecated</td>
<td>Exposed SAML metadata property. The SAML provider&#39;s private key password. Reserved for future use.</td>
</tr>
<tr>
<td>config.samlConfig.activeKeyId</td>
<td>String</td>
<td>Required if a list of keys defined in <code>keys</code> map</td>
<td>The ID of the key that should be used for signing metadata and assertions.</td>
</tr>
<tr>
<td>config.samlConfig.keys.*.key</td>
<td>String</td>
<td>Optional. Can only be used in conjunction with <code>keys.&lt;key-id&gt;.passphrase</code> and <code>keys.&lt;key-id&gt;.certificate</code></td>
<td>Exposed SAML metadata property. The SAML provider&#39;s private key.</td>
</tr>
<tr>
<td>config.samlConfig.keys.*.passphrase</td>
<td>String</td>
<td>Optional. Can only be used in conjunction with <code>keys.&lt;key-id&gt;.key</code> and <code>keys.&lt;key-id&gt;.certificate</code></td>
<td>Exposed SAML metadata property. The SAML provider&#39;s private key password. Reserved for future use.</td>
</tr>
<tr>
<td>config.samlConfig.keys.*.certificate</td>
<td>String</td>
<td>Optional. Can only be used in conjunction with <code>keys.&lt;key-id&gt;.key</code> and <code>keys.&lt;key-id&gt;.passphrase</code></td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td>config.links.logout.redirectUrl</td>
<td>String</td>
<td>Optional</td>
<td>Logout redirect url</td>
</tr>
<tr>
<td>config.links.homeRedirect</td>
<td>String</td>
<td>Optional</td>
<td>Overrides the UAA home page and issues a redirect to this URL when the browser requests <code>/</code> and <code>/home</code>.</td>
</tr>
<tr>
<td>config.links.logout.redirectParameterName</td>
<td>String</td>
<td>Optional</td>
<td>Changes the name of the redirect parameter</td>
</tr>
<tr>
<td>config.links.logout.disableRedirectParameter</td>
<td>Boolean</td>
<td>Optional</td>
<td>Whether or not to allow the redirect parameter on logout</td>
</tr>
<tr>
<td>config.links.logout.whitelist</td>
<td>Array</td>
<td>Optional</td>
<td>List of allowed whitelist redirects</td>
</tr>
<tr>
<td>config.links.selfService.selfServiceLinksEnabled</td>
<td>Boolean</td>
<td>Optional</td>
<td>Whether or not users are allowed to sign up or reset their passwords via the UI</td>
</tr>
<tr>
<td>config.links.selfService.signup</td>
<td>Null</td>
<td>Optional</td>
<td>Where users are directed upon clicking the account creation link</td>
</tr>
<tr>
<td>config.links.selfService.passwd</td>
<td>Null</td>
<td>Optional</td>
<td>Where users are directed upon clicking the password reset link</td>
</tr>
<tr>
<td>config.prompts[]</td>
<td>Array</td>
<td>Optional</td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td>config.prompts[].name</td>
<td>String</td>
<td>Optional</td>
<td>Name of field</td>
</tr>
<tr>
<td>config.prompts[].type</td>
<td>String</td>
<td>Optional</td>
<td>What kind of field this is (e.g. text or password)</td>
</tr>
<tr>
<td>config.prompts[].text</td>
<td>String</td>
<td>Optional</td>
<td>Actual text displayed on prompt for field</td>
</tr>
<tr>
<td>config.idpDiscoveryEnabled</td>
<td>Boolean</td>
<td>Optional</td>
<td>IDP Discovery should be set to true if you have configured more than one identity provider for UAA. The discovery relies on email domain being set for each additional provider</td>
</tr>
<tr>
<td>config.accountChooserEnabled</td>
<td>Boolean</td>
<td>Optional</td>
<td>This flag is required to enable account choosing functionality for IDP discovery page.</td>
</tr>
<tr>
<td>config.branding.companyName</td>
<td>String</td>
<td>Optional</td>
<td>This name is used on the UAA Pages and in account management related communication in UAA</td>
</tr>
<tr>
<td>config.branding.productLogo</td>
<td>String</td>
<td>Optional</td>
<td>This is a base64Url encoded PNG image which will be used as the logo on all UAA pages like Login, Sign Up etc.</td>
</tr>
<tr>
<td>config.branding.squareLogo</td>
<td>String</td>
<td>Optional</td>
<td>This is a base64 encoded PNG image which will be used as the favicon for the UAA pages</td>
</tr>
<tr>
<td>config.branding.footerLegalText</td>
<td>String</td>
<td>Optional</td>
<td>This text appears on the footer of all UAA pages</td>
</tr>
<tr>
<td>config.branding.footerLinks.*</td>
<td>Array</td>
<td>Optional</td>
<td>These links (Map<String,String>) appear on the footer of all UAA pages. You may choose to add multiple urls for things like Support, Terms of Service etc.</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.allowedOrigins</td>
<td>Array</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Origin header</code>. Indicates whether a resource can be shared based by returning the value of the Origin request header, &quot;*&quot;, or &quot;null&quot; in the response.</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.allowedOriginPatterns</td>
<td>Array</td>
<td>Optional</td>
<td>Indicates whether a resource can be shared based by returning the value of the Origin patterns.</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.allowedUris</td>
<td>Array</td>
<td>Optional</td>
<td>The list of allowed URIs.</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.allowedUriPatterns</td>
<td>Array</td>
<td>Optional</td>
<td>The list of allowed URI patterns.</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.allowedHeaders</td>
<td>Array</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Headers</code> header. Indicates which header field names can be used during the actual response</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.allowedMethods</td>
<td>Array</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Methods</code> header. Indicates which method will be used in the actual request as part of the preflight request.</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.allowedCredentials</td>
<td>Boolean</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Credentials</code> header. Indicates whether the response to request can be exposed when the omit credentials flag is unset. When part of the response to a preflight request it indicates that the actual request can include user credentials..</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.maxAge</td>
<td>Number</td>
<td>Optional</td>
<td><code>Access-Control-Max-Age</code> header. Indicates how long the results of a preflight request can be cached in a preflight result cache</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.allowedOrigins</td>
<td>Array</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Origin header</code>. Indicates whether a resource can be shared based by returning the value of the Origin request header, &quot;*&quot;, or &quot;null&quot; in the response.</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.allowedOriginPatterns</td>
<td>Array</td>
<td>Optional</td>
<td>Indicates whether a resource can be shared based by returning the value of the Origin patterns.</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.allowedUris</td>
<td>Array</td>
<td>Optional</td>
<td>The list of allowed URIs.</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.allowedUriPatterns</td>
<td>Array</td>
<td>Optional</td>
<td>The list of allowed URI patterns.</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.allowedHeaders</td>
<td>Array</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Headers</code> header. Indicates which header field names can be used during the actual response</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.allowedMethods</td>
<td>Array</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Methods</code> header. Indicates which method will be used in the actual request as part of the preflight request.</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.allowedCredentials</td>
<td>Boolean</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Credentials</code> header. Indicates whether the response to request can be exposed when the omit credentials flag is unset. When part of the response to a preflight request it indicates that the actual request can include user credentials..</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.maxAge</td>
<td>Number</td>
<td>Optional</td>
<td><code>Access-Control-Max-Age</code> header. Indicates how long the results of a preflight request can be cached in a preflight result cache</td>
</tr>
<tr>
<td>config.userConfig.defaultGroups</td>
<td>Array</td>
<td>Optional</td>
<td>Default groups each user in the zone inherits.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique ID of the identity zone</td>
</tr>
<tr>
<td><code>subdomain</code></td>
<td><code>String</code></td>
<td>Unique subdomain for the running instance. May only contain legal characters for a subdomain name.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>Human-readable zone name</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>String</code></td>
<td>Description of the zone</td>
</tr>
<tr>
<td><code>version</code></td>
<td><code>Number</code></td>
<td>Reserved for future use of E-Tag versioning</td>
</tr>
<tr>
<td><code>config.tokenPolicy.activeKeyId</code></td>
<td><code>String</code></td>
<td>The ID for the key that is being used to sign tokens</td>
</tr>
<tr>
<td><code>config.tokenPolicy.accessTokenValidity</code></td>
<td><code>Number</code></td>
<td>Time in seconds between when a access token is issued and when it expires. Defaults to global <code>accessTokenValidity</code></td>
</tr>
<tr>
<td><code>config.tokenPolicy.refreshTokenValidity</code></td>
<td><code>Number</code></td>
<td>Time in seconds between when a refresh token is issued and when it expires. Defaults to global <code>refreshTokenValidity</code></td>
</tr>
<tr>
<td><code>config.tokenPolicy.jwtRevocable</code></td>
<td><code>Boolean</code></td>
<td>Set to true if JWT tokens should be stored in the token store, and thus made individually revocable. Opaque tokens are always stored and revocable.</td>
</tr>
<tr>
<td><code>config.tokenPolicy.refreshTokenUnique</code></td>
<td><code>Boolean</code></td>
<td>If true, uaa will only issue one refresh token per client_id/user_id combination. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td><code>config.tokenPolicy.refreshTokenFormat</code></td>
<td><code>String</code></td>
<td>The format for the refresh token. Allowed values are <code>jwt</code>, <code>opaque</code>. Defaults to <code>jwt</code>.</td>
</tr>
<tr>
<td><code>config.samlConfig.assertionSigned</code></td>
<td><code>Boolean</code></td>
<td>If <code>true</code>, the SAML provider will sign all assertions</td>
</tr>
<tr>
<td><code>config.samlConfig.wantAssertionSigned</code></td>
<td><code>Boolean</code></td>
<td>Exposed SAML metadata property. If <code>true</code>, all assertions received by the SAML provider must be signed. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td><code>config.samlConfig.requestSigned</code></td>
<td><code>Boolean</code></td>
<td>Exposed SAML metadata property. If <code>true</code>, the service provider will sign all outgoing authentication requests. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td><code>config.samlConfig.wantAuthnRequestSigned</code></td>
<td><code>Boolean</code></td>
<td>If <code>true</code>, the authentication request from the partner service provider must be signed.</td>
</tr>
<tr>
<td><code>config.samlConfig.assertionTimeToLiveSeconds</code></td>
<td><code>Number</code></td>
<td>The lifetime of a SAML assertion in seconds. Defaults to 600.</td>
</tr>
<tr>
<td><code>config.samlConfig.certificate</code></td>
<td><code>String</code></td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td><code>config.samlConfig.activeKeyId</code></td>
<td><code>String</code></td>
<td>The ID of the key that should be used for signing metadata and assertions.</td>
</tr>
<tr>
<td><code>config.samlConfig.keys.*.certificate</code></td>
<td><code>String</code></td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td><code>config.links.logout.redirectUrl</code></td>
<td><code>String</code></td>
<td>Logout redirect url</td>
</tr>
<tr>
<td><code>config.links.homeRedirect</code></td>
<td><code>String</code></td>
<td>Overrides the UAA home page and issues a redirect to this URL when the browser requests <code>/</code> and <code>/home</code>.</td>
</tr>
<tr>
<td><code>config.links.logout.redirectParameterName</code></td>
<td><code>String</code></td>
<td>Changes the name of the redirect parameter</td>
</tr>
<tr>
<td><code>config.links.logout.disableRedirectParameter</code></td>
<td><code>Boolean</code></td>
<td>Whether or not to allow the redirect parameter on logout</td>
</tr>
<tr>
<td><code>config.links.logout.whitelist</code></td>
<td><code>Array</code></td>
<td>List of allowed whitelist redirects</td>
</tr>
<tr>
<td><code>config.links.selfService.selfServiceLinksEnabled</code></td>
<td><code>Boolean</code></td>
<td>Whether or not users are allowed to sign up or reset their passwords via the UI</td>
</tr>
<tr>
<td><code>config.links.selfService.signup</code></td>
<td><code>Null</code></td>
<td>Where users are directed upon clicking the account creation link</td>
</tr>
<tr>
<td><code>config.links.selfService.passwd</code></td>
<td><code>Null</code></td>
<td>Where users are directed upon clicking the password reset link</td>
</tr>
<tr>
<td><code>config.prompts[]</code></td>
<td><code>Array</code></td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td><code>config.prompts[].name</code></td>
<td><code>String</code></td>
<td>Name of field</td>
</tr>
<tr>
<td><code>config.prompts[].type</code></td>
<td><code>String</code></td>
<td>What kind of field this is (e.g. text or password)</td>
</tr>
<tr>
<td><code>config.prompts[].text</code></td>
<td><code>String</code></td>
<td>Actual text displayed on prompt for field</td>
</tr>
<tr>
<td><code>config.idpDiscoveryEnabled</code></td>
<td><code>Boolean</code></td>
<td>IDP Discovery should be set to true if you have configured more than one identity provider for UAA. The discovery relies on email domain being set for each additional provider</td>
</tr>
<tr>
<td><code>config.accountChooserEnabled</code></td>
<td><code>Boolean</code></td>
<td>This flag is required to enable account choosing functionality for IDP discovery page.</td>
</tr>
<tr>
<td><code>config.branding.companyName</code></td>
<td><code>String</code></td>
<td>This name is used on the UAA Pages and in account management related communication in UAA</td>
</tr>
<tr>
<td><code>config.branding.productLogo</code></td>
<td><code>String</code></td>
<td>This is a base64Url encoded PNG image which will be used as the logo on all UAA pages like Login, Sign Up etc.</td>
</tr>
<tr>
<td><code>config.branding.squareLogo</code></td>
<td><code>String</code></td>
<td>This is a base64 encoded PNG image which will be used as the favicon for the UAA pages</td>
</tr>
<tr>
<td><code>config.branding.footerLegalText</code></td>
<td><code>String</code></td>
<td>This text appears on the footer of all UAA pages</td>
</tr>
<tr>
<td><code>config.branding.footerLinks.*</code></td>
<td><code>Array</code></td>
<td>These links (Map<String,String>) appear on the footer of all UAA pages. You may choose to add multiple urls for things like Support, Terms of Service etc.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedOrigins</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Origin header</code>. Indicates whether a resource can be shared based by returning the value of the Origin request header, &quot;*&quot;, or &quot;null&quot; in the response.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedOriginPatterns</code></td>
<td><code>Array</code></td>
<td>Indicates whether a resource can be shared based by returning the value of the Origin patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedUris</code></td>
<td><code>Array</code></td>
<td>The list of allowed URIs.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedUriPatterns</code></td>
<td><code>Array</code></td>
<td>The list of allowed URI patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedHeaders</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Headers</code> header. Indicates which header field names can be used during the actual response</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedMethods</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Methods</code> header. Indicates which method will be used in the actual request as part of the preflight request.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedCredentials</code></td>
<td><code>Boolean</code></td>
<td><code>Access-Control-Allow-Credentials</code> header. Indicates whether the response to request can be exposed when the omit credentials flag is unset. When part of the response to a preflight request it indicates that the actual request can include user credentials..</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.maxAge</code></td>
<td><code>Number</code></td>
<td><code>Access-Control-Max-Age</code> header. Indicates how long the results of a preflight request can be cached in a preflight result cache</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedOrigins</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Origin header</code>. Indicates whether a resource can be shared based by returning the value of the Origin request header, &quot;*&quot;, or &quot;null&quot; in the response.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedOriginPatterns</code></td>
<td><code>Array</code></td>
<td>Indicates whether a resource can be shared based by returning the value of the Origin patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedUris</code></td>
<td><code>Array</code></td>
<td>The list of allowed URIs.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedUriPatterns</code></td>
<td><code>Array</code></td>
<td>The list of allowed URI patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedHeaders</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Headers</code> header. Indicates which header field names can be used during the actual response</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedMethods</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Methods</code> header. Indicates which method will be used in the actual request as part of the preflight request.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedCredentials</code></td>
<td><code>Boolean</code></td>
<td><code>Access-Control-Allow-Credentials</code> header. Indicates whether the response to request can be exposed when the omit credentials flag is unset. When part of the response to a preflight request it indicates that the actual request can include user credentials..</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.maxAge</code></td>
<td><code>Number</code></td>
<td><code>Access-Control-Max-Age</code> header. Indicates how long the results of a preflight request can be cached in a preflight result cache</td>
</tr>
<tr>
<td><code>config.userConfig.defaultGroups</code></td>
<td><code>Array</code></td>
<td>Default groups each user in the zone inherits.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (Zones can only be created by being authenticated in the default zone.)</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid zone details</td>
</tr>
</tbody></table>

<blockquote>
<p>Sequential example of creating a zone and creating an admin client in that zone:</p>
</blockquote>

<pre><code class="bash">uaac target http://localhost:8080/uaa

uaac token client get admin -s adminsecret

uaac client update admin --authorities &quot;uaa.admin,clients.read,clients.write,clients.secret,scim.read,scim.write,clients.admin,zones.testzone1.admin,zones.write&quot;

uaac token client get admin -s adminsecret

uaac -t curl -XPOST -H&quot;Content-Type:application/json&quot; -H&quot;Accept:application/json&quot; --data &#39;{ &quot;id&quot;:&quot;testzone1&quot;, &quot;subdomain&quot;:&quot;testzone1&quot;, &quot;name&quot;:&quot;The Twiglet Zone[testzone1]&quot;, &quot;version&quot;:0, &quot;description&quot;:&quot;Like the Twilight Zone but tastier[testzone1].&quot;}&#39; /identity-zones

uaac -t curl -H&quot;X-Identity-Zone-Id:testzone1&quot; -XPOST -H&quot;Content-Type:application/json&quot; -H&quot;Accept:application/json&quot; --data &#39;{ &quot;client_id&quot; : &quot;admin&quot;, &quot;client_secret&quot; : &quot;adminsecret&quot;, &quot;scope&quot; : [&quot;uaa.none&quot;], &quot;resource_ids&quot; : [&quot;none&quot;], &quot;authorities&quot; : [&quot;uaa.admin&quot;,&quot;clients.read&quot;,&quot;clients.write&quot;,&quot;clients.secret&quot;,&quot;scim.read&quot;,&quot;scim.write&quot;,&quot;clients.admin&quot;], &quot;authorized_grant_types&quot; : [&quot;client_credentials&quot;]}&#39; /oauth/clients

uaac target http://testzone1.localhost:8080/uaa

uaac token client get admin -s adminsecret

uaac token decode
</code></pre>
<h2 id='retrieving-an-identity-zone-46998'>Retrieving an identity zone</h2>
<pre><code class="bash">$ curl &#39;http://localhost/identity-zones/twiglet-get&#39; -i \
    -H &#39;Authorization: Bearer d58c2ddfc7c84bd5abb92771d4f9cdc5&#39;
</code></pre>

<pre><code class="http">GET /identity-zones/twiglet-get HTTP/1.1
Authorization: Bearer d58c2ddfc7c84bd5abb92771d4f9cdc5
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 4341

{
  &quot;id&quot; : &quot;twiglet-get&quot;,
  &quot;subdomain&quot; : &quot;twiglet-get&quot;,
  &quot;config&quot; : {
    &quot;tokenPolicy&quot; : {
      &quot;accessTokenValidity&quot; : -1,
      &quot;refreshTokenValidity&quot; : -1,
      &quot;jwtRevocable&quot; : false,
      &quot;refreshTokenUnique&quot; : false,
      &quot;refreshTokenFormat&quot; : &quot;jwt&quot;,
      &quot;activeKeyId&quot; : null
    },
    &quot;samlConfig&quot; : {
      &quot;assertionSigned&quot; : true,
      &quot;requestSigned&quot; : true,
      &quot;wantAssertionSigned&quot; : true,
      &quot;wantAuthnRequestSigned&quot; : false,
      &quot;assertionTimeToLiveSeconds&quot; : 600,
      &quot;activeKeyId&quot; : &quot;legacy-saml-key&quot;,
      &quot;keys&quot; : {
        &quot;legacy-saml-key&quot; : {
          &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
        }
      },
      &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
    },
    &quot;corsPolicy&quot; : {
      &quot;xhrConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      },
      &quot;defaultConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      }
    },
    &quot;links&quot; : {
      &quot;logout&quot; : {
        &quot;redirectUrl&quot; : &quot;/login&quot;,
        &quot;redirectParameterName&quot; : &quot;redirect&quot;,
        &quot;disableRedirectParameter&quot; : false,
        &quot;whitelist&quot; : null
      },
      &quot;homeRedirect&quot; : &quot;http://my.hosted.homepage.com/&quot;,
      &quot;selfService&quot; : {
        &quot;selfServiceLinksEnabled&quot; : true,
        &quot;signup&quot; : null,
        &quot;passwd&quot; : null
      }
    },
    &quot;prompts&quot; : [ {
      &quot;name&quot; : &quot;username&quot;,
      &quot;type&quot; : &quot;text&quot;,
      &quot;text&quot; : &quot;Email&quot;
    }, {
      &quot;name&quot; : &quot;password&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;Password&quot;
    }, {
      &quot;name&quot; : &quot;passcode&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;One Time Code (Get on at /passcode)&quot;
    } ],
    &quot;idpDiscoveryEnabled&quot; : false,
    &quot;branding&quot; : {
      &quot;companyName&quot; : &quot;Test Company&quot;,
      &quot;productLogo&quot; : &quot;VGVzdFByb2R1Y3RMb2dv&quot;,
      &quot;squareLogo&quot; : &quot;VGVzdFNxdWFyZUxvZ28=&quot;,
      &quot;footerLegalText&quot; : &quot;Test footer legal text&quot;,
      &quot;footerLinks&quot; : {
        &quot;Support&quot; : &quot;http://support.example.com&quot;
      }
    },
    &quot;accountChooserEnabled&quot; : false,
    &quot;userConfig&quot; : {
      &quot;defaultGroups&quot; : [ &quot;openid&quot;, &quot;password.write&quot;, &quot;uaa.user&quot;, &quot;approvals.me&quot;, &quot;profile&quot;, &quot;roles&quot;, &quot;user_attributes&quot;, &quot;uaa.offline_token&quot; ]
    }
  },
  &quot;name&quot; : &quot;The Twiglet Zone&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286169233,
  &quot;last_modified&quot; : 1501286169233
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/identity-zones/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique ID of the identity zone to retrieve</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.read</code> or <code>zones.write</code> or <code>zones.&lt;zone id&gt;.admin</code> or <code>zones.&lt;zone id&gt;.read</code></td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique ID of the identity zone</td>
</tr>
<tr>
<td><code>subdomain</code></td>
<td><code>String</code></td>
<td>Unique subdomain for the running instance. May only contain legal characters for a subdomain name.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>Human-readable zone name</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>String</code></td>
<td>Description of the zone</td>
</tr>
<tr>
<td><code>version</code></td>
<td><code>Number</code></td>
<td>Reserved for future use of E-Tag versioning</td>
</tr>
<tr>
<td><code>config.tokenPolicy.activeKeyId</code></td>
<td><code>String</code></td>
<td>The ID for the key that is being used to sign tokens</td>
</tr>
<tr>
<td><code>config.tokenPolicy.accessTokenValidity</code></td>
<td><code>Number</code></td>
<td>Time in seconds between when a access token is issued and when it expires. Defaults to global <code>accessTokenValidity</code></td>
</tr>
<tr>
<td><code>config.tokenPolicy.refreshTokenValidity</code></td>
<td><code>Number</code></td>
<td>Time in seconds between when a refresh token is issued and when it expires. Defaults to global <code>refreshTokenValidity</code></td>
</tr>
<tr>
<td><code>config.tokenPolicy.jwtRevocable</code></td>
<td><code>Boolean</code></td>
<td>Set to true if JWT tokens should be stored in the token store, and thus made individually revocable. Opaque tokens are always stored and revocable.</td>
</tr>
<tr>
<td><code>config.tokenPolicy.refreshTokenUnique</code></td>
<td><code>Boolean</code></td>
<td>If true, uaa will only issue one refresh token per client_id/user_id combination. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td><code>config.tokenPolicy.refreshTokenFormat</code></td>
<td><code>String</code></td>
<td>The format for the refresh token. Allowed values are <code>jwt</code>, <code>opaque</code>. Defaults to <code>jwt</code>.</td>
</tr>
<tr>
<td><code>config.samlConfig.assertionSigned</code></td>
<td><code>Boolean</code></td>
<td>If <code>true</code>, the SAML provider will sign all assertions</td>
</tr>
<tr>
<td><code>config.samlConfig.wantAssertionSigned</code></td>
<td><code>Boolean</code></td>
<td>Exposed SAML metadata property. If <code>true</code>, all assertions received by the SAML provider must be signed. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td><code>config.samlConfig.requestSigned</code></td>
<td><code>Boolean</code></td>
<td>Exposed SAML metadata property. If <code>true</code>, the service provider will sign all outgoing authentication requests. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td><code>config.samlConfig.wantAuthnRequestSigned</code></td>
<td><code>Boolean</code></td>
<td>If <code>true</code>, the authentication request from the partner service provider must be signed.</td>
</tr>
<tr>
<td><code>config.samlConfig.assertionTimeToLiveSeconds</code></td>
<td><code>Number</code></td>
<td>The lifetime of a SAML assertion in seconds. Defaults to 600.</td>
</tr>
<tr>
<td><code>config.samlConfig.certificate</code></td>
<td><code>String</code></td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td><code>config.samlConfig.activeKeyId</code></td>
<td><code>String</code></td>
<td>The ID of the key that should be used for signing metadata and assertions.</td>
</tr>
<tr>
<td><code>config.samlConfig.keys.*.certificate</code></td>
<td><code>String</code></td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td><code>config.links.logout.redirectUrl</code></td>
<td><code>String</code></td>
<td>Logout redirect url</td>
</tr>
<tr>
<td><code>config.links.homeRedirect</code></td>
<td><code>String</code></td>
<td>Overrides the UAA home page and issues a redirect to this URL when the browser requests <code>/</code> and <code>/home</code>.</td>
</tr>
<tr>
<td><code>config.links.logout.redirectParameterName</code></td>
<td><code>String</code></td>
<td>Changes the name of the redirect parameter</td>
</tr>
<tr>
<td><code>config.links.logout.disableRedirectParameter</code></td>
<td><code>Boolean</code></td>
<td>Whether or not to allow the redirect parameter on logout</td>
</tr>
<tr>
<td><code>config.links.logout.whitelist</code></td>
<td><code>Array</code></td>
<td>List of allowed whitelist redirects</td>
</tr>
<tr>
<td><code>config.links.selfService.selfServiceLinksEnabled</code></td>
<td><code>Boolean</code></td>
<td>Whether or not users are allowed to sign up or reset their passwords via the UI</td>
</tr>
<tr>
<td><code>config.links.selfService.signup</code></td>
<td><code>Null</code></td>
<td>Where users are directed upon clicking the account creation link</td>
</tr>
<tr>
<td><code>config.links.selfService.passwd</code></td>
<td><code>Null</code></td>
<td>Where users are directed upon clicking the password reset link</td>
</tr>
<tr>
<td><code>config.prompts[]</code></td>
<td><code>Array</code></td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td><code>config.prompts[].name</code></td>
<td><code>String</code></td>
<td>Name of field</td>
</tr>
<tr>
<td><code>config.prompts[].type</code></td>
<td><code>String</code></td>
<td>What kind of field this is (e.g. text or password)</td>
</tr>
<tr>
<td><code>config.prompts[].text</code></td>
<td><code>String</code></td>
<td>Actual text displayed on prompt for field</td>
</tr>
<tr>
<td><code>config.idpDiscoveryEnabled</code></td>
<td><code>Boolean</code></td>
<td>IDP Discovery should be set to true if you have configured more than one identity provider for UAA. The discovery relies on email domain being set for each additional provider</td>
</tr>
<tr>
<td><code>config.accountChooserEnabled</code></td>
<td><code>Boolean</code></td>
<td>This flag is required to enable account choosing functionality for IDP discovery page.</td>
</tr>
<tr>
<td><code>config.branding.companyName</code></td>
<td><code>String</code></td>
<td>This name is used on the UAA Pages and in account management related communication in UAA</td>
</tr>
<tr>
<td><code>config.branding.productLogo</code></td>
<td><code>String</code></td>
<td>This is a base64Url encoded PNG image which will be used as the logo on all UAA pages like Login, Sign Up etc.</td>
</tr>
<tr>
<td><code>config.branding.squareLogo</code></td>
<td><code>String</code></td>
<td>This is a base64 encoded PNG image which will be used as the favicon for the UAA pages</td>
</tr>
<tr>
<td><code>config.branding.footerLegalText</code></td>
<td><code>String</code></td>
<td>This text appears on the footer of all UAA pages</td>
</tr>
<tr>
<td><code>config.branding.footerLinks.*</code></td>
<td><code>Array</code></td>
<td>These links (Map<String,String>) appear on the footer of all UAA pages. You may choose to add multiple urls for things like Support, Terms of Service etc.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedOrigins</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Origin header</code>. Indicates whether a resource can be shared based by returning the value of the Origin request header, &quot;*&quot;, or &quot;null&quot; in the response.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedOriginPatterns</code></td>
<td><code>Array</code></td>
<td>Indicates whether a resource can be shared based by returning the value of the Origin patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedUris</code></td>
<td><code>Array</code></td>
<td>The list of allowed URIs.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedUriPatterns</code></td>
<td><code>Array</code></td>
<td>The list of allowed URI patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedHeaders</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Headers</code> header. Indicates which header field names can be used during the actual response</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedMethods</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Methods</code> header. Indicates which method will be used in the actual request as part of the preflight request.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedCredentials</code></td>
<td><code>Boolean</code></td>
<td><code>Access-Control-Allow-Credentials</code> header. Indicates whether the response to request can be exposed when the omit credentials flag is unset. When part of the response to a preflight request it indicates that the actual request can include user credentials..</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.maxAge</code></td>
<td><code>Number</code></td>
<td><code>Access-Control-Max-Age</code> header. Indicates how long the results of a preflight request can be cached in a preflight result cache</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedOrigins</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Origin header</code>. Indicates whether a resource can be shared based by returning the value of the Origin request header, &quot;*&quot;, or &quot;null&quot; in the response.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedOriginPatterns</code></td>
<td><code>Array</code></td>
<td>Indicates whether a resource can be shared based by returning the value of the Origin patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedUris</code></td>
<td><code>Array</code></td>
<td>The list of allowed URIs.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedUriPatterns</code></td>
<td><code>Array</code></td>
<td>The list of allowed URI patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedHeaders</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Headers</code> header. Indicates which header field names can be used during the actual response</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedMethods</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Methods</code> header. Indicates which method will be used in the actual request as part of the preflight request.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedCredentials</code></td>
<td><code>Boolean</code></td>
<td><code>Access-Control-Allow-Credentials</code> header. Indicates whether the response to request can be exposed when the omit credentials flag is unset. When part of the response to a preflight request it indicates that the actual request can include user credentials..</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.maxAge</code></td>
<td><code>Number</code></td>
<td><code>Access-Control-Max-Age</code> header. Indicates how long the results of a preflight request can be cached in a preflight result cache</td>
</tr>
<tr>
<td><code>config.userConfig.defaultGroups</code></td>
<td><code>Array</code></td>
<td>Default groups each user in the zone inherits.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Zone does not exist</td>
</tr>
</tbody></table>
<h2 id='retrieving-all-identity-zones-8481'>Retrieving all identity zones</h2>
<pre><code class="bash">$ curl &#39;http://localhost/identity-zones&#39; -i \
    -H &#39;Authorization: Bearer 5b5afc46412b4a55a1925e1f1d6a6208&#39;
</code></pre>

<pre><code class="http">GET /identity-zones HTTP/1.1
Authorization: Bearer 5b5afc46412b4a55a1925e1f1d6a6208
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 20729

[ {
  &quot;id&quot; : &quot;jkyets5q&quot;,
  &quot;subdomain&quot; : &quot;jkyets5q&quot;,
  &quot;config&quot; : {
    &quot;tokenPolicy&quot; : {
      &quot;accessTokenValidity&quot; : -1,
      &quot;refreshTokenValidity&quot; : -1,
      &quot;jwtRevocable&quot; : false,
      &quot;refreshTokenUnique&quot; : false,
      &quot;refreshTokenFormat&quot; : &quot;jwt&quot;,
      &quot;activeKeyId&quot; : null
    },
    &quot;samlConfig&quot; : {
      &quot;assertionSigned&quot; : true,
      &quot;requestSigned&quot; : true,
      &quot;wantAssertionSigned&quot; : true,
      &quot;wantAuthnRequestSigned&quot; : false,
      &quot;assertionTimeToLiveSeconds&quot; : 600,
      &quot;keys&quot; : { }
    },
    &quot;corsPolicy&quot; : {
      &quot;xhrConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      },
      &quot;defaultConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      }
    },
    &quot;links&quot; : {
      &quot;logout&quot; : {
        &quot;redirectUrl&quot; : &quot;/login&quot;,
        &quot;redirectParameterName&quot; : &quot;redirect&quot;,
        &quot;disableRedirectParameter&quot; : false,
        &quot;whitelist&quot; : null
      },
      &quot;selfService&quot; : {
        &quot;selfServiceLinksEnabled&quot; : true,
        &quot;signup&quot; : null,
        &quot;passwd&quot; : null
      }
    },
    &quot;prompts&quot; : [ {
      &quot;name&quot; : &quot;username&quot;,
      &quot;type&quot; : &quot;text&quot;,
      &quot;text&quot; : &quot;Email&quot;
    }, {
      &quot;name&quot; : &quot;password&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;Password&quot;
    }, {
      &quot;name&quot; : &quot;passcode&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;One Time Code (Get on at /passcode)&quot;
    } ],
    &quot;idpDiscoveryEnabled&quot; : false,
    &quot;accountChooserEnabled&quot; : false,
    &quot;userConfig&quot; : {
      &quot;defaultGroups&quot; : [ &quot;openid&quot;, &quot;password.write&quot;, &quot;uaa.user&quot;, &quot;approvals.me&quot;, &quot;profile&quot;, &quot;roles&quot;, &quot;user_attributes&quot;, &quot;uaa.offline_token&quot; ]
    }
  },
  &quot;name&quot; : &quot;The Twiglet Zone&quot;,
  &quot;version&quot; : 0,
  &quot;description&quot; : &quot;Like the Twilight Zone but tastier.&quot;,
  &quot;created&quot; : 1501286164951,
  &quot;last_modified&quot; : 1501286164951
}, {
  &quot;id&quot; : &quot;twiglet-get-1&quot;,
  &quot;subdomain&quot; : &quot;twiglet-get-1&quot;,
  &quot;config&quot; : {
    &quot;tokenPolicy&quot; : {
      &quot;accessTokenValidity&quot; : -1,
      &quot;refreshTokenValidity&quot; : -1,
      &quot;jwtRevocable&quot; : false,
      &quot;refreshTokenUnique&quot; : false,
      &quot;refreshTokenFormat&quot; : &quot;jwt&quot;,
      &quot;activeKeyId&quot; : null
    },
    &quot;samlConfig&quot; : {
      &quot;assertionSigned&quot; : true,
      &quot;requestSigned&quot; : true,
      &quot;wantAssertionSigned&quot; : true,
      &quot;wantAuthnRequestSigned&quot; : false,
      &quot;assertionTimeToLiveSeconds&quot; : 600,
      &quot;activeKeyId&quot; : &quot;legacy-saml-key&quot;,
      &quot;keys&quot; : {
        &quot;legacy-saml-key&quot; : {
          &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
        }
      },
      &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
    },
    &quot;corsPolicy&quot; : {
      &quot;xhrConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      },
      &quot;defaultConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      }
    },
    &quot;links&quot; : {
      &quot;logout&quot; : {
        &quot;redirectUrl&quot; : &quot;/login&quot;,
        &quot;redirectParameterName&quot; : &quot;redirect&quot;,
        &quot;disableRedirectParameter&quot; : false,
        &quot;whitelist&quot; : null
      },
      &quot;homeRedirect&quot; : &quot;http://my.hosted.homepage.com/&quot;,
      &quot;selfService&quot; : {
        &quot;selfServiceLinksEnabled&quot; : true,
        &quot;signup&quot; : null,
        &quot;passwd&quot; : null
      }
    },
    &quot;prompts&quot; : [ {
      &quot;name&quot; : &quot;username&quot;,
      &quot;type&quot; : &quot;text&quot;,
      &quot;text&quot; : &quot;Email&quot;
    }, {
      &quot;name&quot; : &quot;password&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;Password&quot;
    }, {
      &quot;name&quot; : &quot;passcode&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;One Time Code (Get on at /passcode)&quot;
    } ],
    &quot;idpDiscoveryEnabled&quot; : false,
    &quot;branding&quot; : {
      &quot;companyName&quot; : &quot;Test Company&quot;,
      &quot;productLogo&quot; : &quot;VGVzdFByb2R1Y3RMb2dv&quot;,
      &quot;squareLogo&quot; : &quot;VGVzdFNxdWFyZUxvZ28=&quot;,
      &quot;footerLegalText&quot; : &quot;Test footer legal text&quot;,
      &quot;footerLinks&quot; : {
        &quot;Support&quot; : &quot;http://support.example.com&quot;
      }
    },
    &quot;accountChooserEnabled&quot; : false,
    &quot;userConfig&quot; : {
      &quot;defaultGroups&quot; : [ &quot;openid&quot;, &quot;password.write&quot;, &quot;uaa.user&quot;, &quot;approvals.me&quot;, &quot;profile&quot;, &quot;roles&quot;, &quot;user_attributes&quot;, &quot;uaa.offline_token&quot; ]
    }
  },
  &quot;name&quot; : &quot;The Twiglet Zone&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286168632,
  &quot;last_modified&quot; : 1501286168632
}, {
  &quot;id&quot; : &quot;twiglet-get-2&quot;,
  &quot;subdomain&quot; : &quot;twiglet-get-2&quot;,
  &quot;config&quot; : {
    &quot;tokenPolicy&quot; : {
      &quot;accessTokenValidity&quot; : -1,
      &quot;refreshTokenValidity&quot; : -1,
      &quot;jwtRevocable&quot; : false,
      &quot;refreshTokenUnique&quot; : false,
      &quot;refreshTokenFormat&quot; : &quot;jwt&quot;,
      &quot;activeKeyId&quot; : null
    },
    &quot;samlConfig&quot; : {
      &quot;assertionSigned&quot; : true,
      &quot;requestSigned&quot; : true,
      &quot;wantAssertionSigned&quot; : true,
      &quot;wantAuthnRequestSigned&quot; : false,
      &quot;assertionTimeToLiveSeconds&quot; : 600,
      &quot;activeKeyId&quot; : &quot;legacy-saml-key&quot;,
      &quot;keys&quot; : {
        &quot;legacy-saml-key&quot; : {
          &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
        }
      },
      &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
    },
    &quot;corsPolicy&quot; : {
      &quot;xhrConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      },
      &quot;defaultConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      }
    },
    &quot;links&quot; : {
      &quot;logout&quot; : {
        &quot;redirectUrl&quot; : &quot;/login&quot;,
        &quot;redirectParameterName&quot; : &quot;redirect&quot;,
        &quot;disableRedirectParameter&quot; : false,
        &quot;whitelist&quot; : null
      },
      &quot;homeRedirect&quot; : &quot;http://my.hosted.homepage.com/&quot;,
      &quot;selfService&quot; : {
        &quot;selfServiceLinksEnabled&quot; : true,
        &quot;signup&quot; : null,
        &quot;passwd&quot; : null
      }
    },
    &quot;prompts&quot; : [ {
      &quot;name&quot; : &quot;username&quot;,
      &quot;type&quot; : &quot;text&quot;,
      &quot;text&quot; : &quot;Email&quot;
    }, {
      &quot;name&quot; : &quot;password&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;Password&quot;
    }, {
      &quot;name&quot; : &quot;passcode&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;One Time Code (Get on at /passcode)&quot;
    } ],
    &quot;idpDiscoveryEnabled&quot; : false,
    &quot;branding&quot; : {
      &quot;companyName&quot; : &quot;Test Company&quot;,
      &quot;productLogo&quot; : &quot;VGVzdFByb2R1Y3RMb2dv&quot;,
      &quot;squareLogo&quot; : &quot;VGVzdFNxdWFyZUxvZ28=&quot;,
      &quot;footerLegalText&quot; : &quot;Test footer legal text&quot;,
      &quot;footerLinks&quot; : {
        &quot;Support&quot; : &quot;http://support.example.com&quot;
      }
    },
    &quot;accountChooserEnabled&quot; : false,
    &quot;userConfig&quot; : {
      &quot;defaultGroups&quot; : [ &quot;openid&quot;, &quot;password.write&quot;, &quot;uaa.user&quot;, &quot;approvals.me&quot;, &quot;profile&quot;, &quot;roles&quot;, &quot;user_attributes&quot;, &quot;uaa.offline_token&quot; ]
    }
  },
  &quot;name&quot; : &quot;The Twiglet Zone&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286168709,
  &quot;last_modified&quot; : 1501286168709
}, {
  &quot;id&quot; : &quot;uaa&quot;,
  &quot;subdomain&quot; : &quot;&quot;,
  &quot;config&quot; : {
    &quot;tokenPolicy&quot; : {
      &quot;accessTokenValidity&quot; : 43200,
      &quot;refreshTokenValidity&quot; : 2592000,
      &quot;jwtRevocable&quot; : false,
      &quot;refreshTokenUnique&quot; : false,
      &quot;refreshTokenFormat&quot; : &quot;jwt&quot;,
      &quot;activeKeyId&quot; : null
    },
    &quot;samlConfig&quot; : {
      &quot;assertionSigned&quot; : true,
      &quot;requestSigned&quot; : true,
      &quot;wantAssertionSigned&quot; : true,
      &quot;wantAuthnRequestSigned&quot; : false,
      &quot;assertionTimeToLiveSeconds&quot; : 600,
      &quot;activeKeyId&quot; : &quot;legacy-saml-key&quot;,
      &quot;keys&quot; : {
        &quot;legacy-saml-key&quot; : {
          &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEO\nMAwGA1UECBMFYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEO\nMAwGA1UECxMFYXJ1YmExDjAMBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5h\ncnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2MjdaFw0xNjExMTkyMjI2MjdaMHwx\nCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAM\nBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAb\nBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GN\nADCBiQKBgQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39W\nqS9u0hnA+O7MCA/KlrAR4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOw\nznoD66DDCnQVpbCjtDYWX+x6imxn8HCYxhMol6ZnTbSsFW6VZjFMjQIDAQABo4Ha\nMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1syGDCBpwYDVR0jBIGfMIGc\ngBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3MQ4wDAYD\nVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYD\nVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJh\nQGFydWJhLmFyggEAMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ\n0HOZbbHClXmGUjGs+GS+xC1FO/am2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxC\nKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3oePe84k8jm3A7EvH5wi5hvCkK\nRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=\n-----END CERTIFICATE-----\n&quot;
        }
      },
      &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEO\nMAwGA1UECBMFYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEO\nMAwGA1UECxMFYXJ1YmExDjAMBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5h\ncnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2MjdaFw0xNjExMTkyMjI2MjdaMHwx\nCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAM\nBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAb\nBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GN\nADCBiQKBgQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39W\nqS9u0hnA+O7MCA/KlrAR4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOw\nznoD66DDCnQVpbCjtDYWX+x6imxn8HCYxhMol6ZnTbSsFW6VZjFMjQIDAQABo4Ha\nMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1syGDCBpwYDVR0jBIGfMIGc\ngBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3MQ4wDAYD\nVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYD\nVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJh\nQGFydWJhLmFyggEAMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ\n0HOZbbHClXmGUjGs+GS+xC1FO/am2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxC\nKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3oePe84k8jm3A7EvH5wi5hvCkK\nRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=\n-----END CERTIFICATE-----\n&quot;
    },
    &quot;corsPolicy&quot; : {
      &quot;xhrConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      },
      &quot;defaultConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      }
    },
    &quot;links&quot; : {
      &quot;logout&quot; : {
        &quot;redirectUrl&quot; : &quot;/login&quot;,
        &quot;redirectParameterName&quot; : &quot;redirect&quot;,
        &quot;disableRedirectParameter&quot; : false,
        &quot;whitelist&quot; : null
      },
      &quot;selfService&quot; : {
        &quot;selfServiceLinksEnabled&quot; : true,
        &quot;signup&quot; : null,
        &quot;passwd&quot; : null
      }
    },
    &quot;prompts&quot; : [ {
      &quot;name&quot; : &quot;username&quot;,
      &quot;type&quot; : &quot;text&quot;,
      &quot;text&quot; : &quot;Email&quot;
    }, {
      &quot;name&quot; : &quot;password&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;Password&quot;
    }, {
      &quot;name&quot; : &quot;passcode&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;One Time Code ( Get one at http://localhost:8080/uaa/passcode )&quot;
    } ],
    &quot;idpDiscoveryEnabled&quot; : false,
    &quot;accountChooserEnabled&quot; : false,
    &quot;userConfig&quot; : {
      &quot;defaultGroups&quot; : [ &quot;openid&quot;, &quot;scim.me&quot;, &quot;cloud_controller.read&quot;, &quot;cloud_controller.write&quot;, &quot;cloud_controller_service_permissions.read&quot;, &quot;password.write&quot;, &quot;scim.userids&quot;, &quot;uaa.user&quot;, &quot;approvals.me&quot;, &quot;oauth.approvals&quot;, &quot;profile&quot;, &quot;roles&quot;, &quot;user_attributes&quot;, &quot;uaa.offline_token&quot; ]
    }
  },
  &quot;name&quot; : &quot;uaa&quot;,
  &quot;version&quot; : 1,
  &quot;description&quot; : &quot;The system zone for backwards compatibility&quot;,
  &quot;created&quot; : 946684800000,
  &quot;last_modified&quot; : 1501286123950
}, {
  &quot;id&quot; : &quot;wxcaakm0&quot;,
  &quot;subdomain&quot; : &quot;wxcaakm0&quot;,
  &quot;config&quot; : {
    &quot;tokenPolicy&quot; : {
      &quot;accessTokenValidity&quot; : -1,
      &quot;refreshTokenValidity&quot; : -1,
      &quot;jwtRevocable&quot; : false,
      &quot;refreshTokenUnique&quot; : false,
      &quot;refreshTokenFormat&quot; : &quot;jwt&quot;,
      &quot;activeKeyId&quot; : null
    },
    &quot;samlConfig&quot; : {
      &quot;assertionSigned&quot; : true,
      &quot;requestSigned&quot; : true,
      &quot;wantAssertionSigned&quot; : true,
      &quot;wantAuthnRequestSigned&quot; : false,
      &quot;assertionTimeToLiveSeconds&quot; : 600,
      &quot;keys&quot; : { }
    },
    &quot;corsPolicy&quot; : {
      &quot;xhrConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      },
      &quot;defaultConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      }
    },
    &quot;links&quot; : {
      &quot;logout&quot; : {
        &quot;redirectUrl&quot; : &quot;/login&quot;,
        &quot;redirectParameterName&quot; : &quot;redirect&quot;,
        &quot;disableRedirectParameter&quot; : false,
        &quot;whitelist&quot; : null
      },
      &quot;selfService&quot; : {
        &quot;selfServiceLinksEnabled&quot; : true,
        &quot;signup&quot; : null,
        &quot;passwd&quot; : null
      }
    },
    &quot;prompts&quot; : [ {
      &quot;name&quot; : &quot;username&quot;,
      &quot;type&quot; : &quot;text&quot;,
      &quot;text&quot; : &quot;Email&quot;
    }, {
      &quot;name&quot; : &quot;password&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;Password&quot;
    }, {
      &quot;name&quot; : &quot;passcode&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;One Time Code (Get on at /passcode)&quot;
    } ],
    &quot;idpDiscoveryEnabled&quot; : false,
    &quot;accountChooserEnabled&quot; : false,
    &quot;userConfig&quot; : {
      &quot;defaultGroups&quot; : [ &quot;openid&quot;, &quot;password.write&quot;, &quot;uaa.user&quot;, &quot;approvals.me&quot;, &quot;profile&quot;, &quot;roles&quot;, &quot;user_attributes&quot;, &quot;uaa.offline_token&quot; ]
    }
  },
  &quot;name&quot; : &quot;The Twiglet Zone&quot;,
  &quot;version&quot; : 0,
  &quot;description&quot; : &quot;Like the Twilight Zone but tastier.&quot;,
  &quot;created&quot; : 1501286163293,
  &quot;last_modified&quot; : 1501286163293
}, {
  &quot;id&quot; : &quot;ym7fgjpf&quot;,
  &quot;subdomain&quot; : &quot;ym7fgjpf&quot;,
  &quot;config&quot; : {
    &quot;tokenPolicy&quot; : {
      &quot;accessTokenValidity&quot; : -1,
      &quot;refreshTokenValidity&quot; : -1,
      &quot;jwtRevocable&quot; : false,
      &quot;refreshTokenUnique&quot; : false,
      &quot;refreshTokenFormat&quot; : &quot;jwt&quot;,
      &quot;activeKeyId&quot; : null
    },
    &quot;samlConfig&quot; : {
      &quot;assertionSigned&quot; : true,
      &quot;requestSigned&quot; : true,
      &quot;wantAssertionSigned&quot; : true,
      &quot;wantAuthnRequestSigned&quot; : false,
      &quot;assertionTimeToLiveSeconds&quot; : 600,
      &quot;keys&quot; : { }
    },
    &quot;corsPolicy&quot; : {
      &quot;xhrConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      },
      &quot;defaultConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      }
    },
    &quot;links&quot; : {
      &quot;logout&quot; : {
        &quot;redirectUrl&quot; : &quot;/login&quot;,
        &quot;redirectParameterName&quot; : &quot;redirect&quot;,
        &quot;disableRedirectParameter&quot; : false,
        &quot;whitelist&quot; : null
      },
      &quot;selfService&quot; : {
        &quot;selfServiceLinksEnabled&quot; : true,
        &quot;signup&quot; : null,
        &quot;passwd&quot; : null
      }
    },
    &quot;prompts&quot; : [ {
      &quot;name&quot; : &quot;username&quot;,
      &quot;type&quot; : &quot;text&quot;,
      &quot;text&quot; : &quot;Email&quot;
    }, {
      &quot;name&quot; : &quot;password&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;Password&quot;
    }, {
      &quot;name&quot; : &quot;passcode&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;One Time Code (Get on at /passcode)&quot;
    } ],
    &quot;idpDiscoveryEnabled&quot; : false,
    &quot;accountChooserEnabled&quot; : false,
    &quot;userConfig&quot; : {
      &quot;defaultGroups&quot; : [ &quot;openid&quot;, &quot;password.write&quot;, &quot;uaa.user&quot;, &quot;approvals.me&quot;, &quot;profile&quot;, &quot;roles&quot;, &quot;user_attributes&quot;, &quot;uaa.offline_token&quot; ]
    }
  },
  &quot;name&quot; : &quot;The Twiglet Zone&quot;,
  &quot;version&quot; : 0,
  &quot;description&quot; : &quot;Like the Twilight Zone but tastier.&quot;,
  &quot;created&quot; : 1501286166130,
  &quot;last_modified&quot; : 1501286166130
} ]
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.read</code> or <code>zones.&lt;zone id&gt;.admin</code></td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>[].id</code></td>
<td><code>String</code></td>
<td>Unique ID of the identity zone</td>
</tr>
<tr>
<td><code>[].subdomain</code></td>
<td><code>String</code></td>
<td>Unique subdomain for the running instance. May only contain legal characters for a subdomain name.</td>
</tr>
<tr>
<td><code>[].name</code></td>
<td><code>String</code></td>
<td>Human-readable zone name</td>
</tr>
<tr>
<td><code>[].description</code></td>
<td><code>String</code></td>
<td>Description of the zone</td>
</tr>
<tr>
<td><code>[].version</code></td>
<td><code>Number</code></td>
<td>Reserved for future use of E-Tag versioning</td>
</tr>
<tr>
<td><code>[].config.tokenPolicy.activeKeyId</code></td>
<td><code>String</code></td>
<td>The ID for the key that is being used to sign tokens</td>
</tr>
<tr>
<td><code>[].config.tokenPolicy.accessTokenValidity</code></td>
<td><code>Number</code></td>
<td>Time in seconds between when a access token is issued and when it expires. Defaults to global <code>accessTokenValidity</code></td>
</tr>
<tr>
<td><code>[].config.tokenPolicy.refreshTokenValidity</code></td>
<td><code>Number</code></td>
<td>Time in seconds between when a refresh token is issued and when it expires. Defaults to global <code>refreshTokenValidity</code></td>
</tr>
<tr>
<td><code>[].config.tokenPolicy.jwtRevocable</code></td>
<td><code>Boolean</code></td>
<td>Set to true if JWT tokens should be stored in the token store, and thus made individually revocable. Opaque tokens are always stored and revocable.</td>
</tr>
<tr>
<td><code>[].config.tokenPolicy.refreshTokenUnique</code></td>
<td><code>Boolean</code></td>
<td>If true, uaa will only issue one refresh token per client_id/user_id combination. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td><code>[].config.tokenPolicy.refreshTokenFormat</code></td>
<td><code>String</code></td>
<td>The format for the refresh token. Allowed values are <code>jwt</code>, <code>opaque</code>. Defaults to <code>jwt</code>.</td>
</tr>
<tr>
<td><code>[].config.samlConfig.assertionSigned</code></td>
<td><code>Boolean</code></td>
<td>If <code>true</code>, the SAML provider will sign all assertions</td>
</tr>
<tr>
<td><code>[].config.samlConfig.wantAssertionSigned</code></td>
<td><code>Boolean</code></td>
<td>Exposed SAML metadata property. If <code>true</code>, all assertions received by the SAML provider must be signed. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td><code>[].config.samlConfig.requestSigned</code></td>
<td><code>Boolean</code></td>
<td>Exposed SAML metadata property. If <code>true</code>, the service provider will sign all outgoing authentication requests. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td><code>[].config.samlConfig.wantAuthnRequestSigned</code></td>
<td><code>Boolean</code></td>
<td>If <code>true</code>, the authentication request from the partner service provider must be signed.</td>
</tr>
<tr>
<td><code>[].config.samlConfig.assertionTimeToLiveSeconds</code></td>
<td><code>Number</code></td>
<td>The lifetime of a SAML assertion in seconds. Defaults to 600.</td>
</tr>
<tr>
<td><code>[].config.samlConfig.certificate</code></td>
<td><code>String</code></td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td><code>[].config.samlConfig.activeKeyId</code></td>
<td><code>String</code></td>
<td>The ID of the key that should be used for signing metadata and assertions.</td>
</tr>
<tr>
<td><code>[].config.samlConfig.keys.*</code></td>
<td><code>Object</code></td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td><code>[].config.samlConfig.keys.*.certificate</code></td>
<td><code>String</code></td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td><code>[].config.links.logout.redirectUrl</code></td>
<td><code>String</code></td>
<td>Logout redirect url</td>
</tr>
<tr>
<td><code>[].config.links.homeRedirect</code></td>
<td><code>String</code></td>
<td>Overrides the UAA home page and issues a redirect to this URL when the browser requests <code>/</code> and <code>/home</code>.</td>
</tr>
<tr>
<td><code>[].config.links.logout.redirectParameterName</code></td>
<td><code>String</code></td>
<td>Changes the name of the redirect parameter</td>
</tr>
<tr>
<td><code>[].config.links.logout.disableRedirectParameter</code></td>
<td><code>Boolean</code></td>
<td>Whether or not to allow the redirect parameter on logout</td>
</tr>
<tr>
<td><code>[].config.links.logout.whitelist</code></td>
<td><code>Array</code></td>
<td>List of allowed whitelist redirects</td>
</tr>
<tr>
<td><code>[].config.links.selfService.selfServiceLinksEnabled</code></td>
<td><code>Boolean</code></td>
<td>Whether or not users are allowed to sign up or reset their passwords via the UI</td>
</tr>
<tr>
<td><code>[].config.links.selfService.signup</code></td>
<td><code>Null</code></td>
<td>Where users are directed upon clicking the account creation link</td>
</tr>
<tr>
<td><code>[].config.links.selfService.passwd</code></td>
<td><code>Null</code></td>
<td>Where users are directed upon clicking the password reset link</td>
</tr>
<tr>
<td><code>[].config.branding.companyName</code></td>
<td><code>String</code></td>
<td>This name is used on the UAA Pages and in account management related communication in UAA</td>
</tr>
<tr>
<td><code>[].config.branding.productLogo</code></td>
<td><code>String</code></td>
<td>This is a base64Url encoded PNG image which will be used as the logo on all UAA pages like Login, Sign Up etc.</td>
</tr>
<tr>
<td><code>[].config.branding.squareLogo</code></td>
<td><code>String</code></td>
<td>This is a base64 encoded PNG image which will be used as the favicon for the UAA pages</td>
</tr>
<tr>
<td><code>[].config.branding.footerLegalText</code></td>
<td><code>String</code></td>
<td>This text appears on the footer of all UAA pages</td>
</tr>
<tr>
<td><code>[].config.branding.footerLinks</code></td>
<td><code>Object</code></td>
<td>These links (Map<String,String>) appear on the footer of all UAA pages. You may choose to add multiple urls for things like Support, Terms of Service etc.</td>
</tr>
<tr>
<td><code>[].config.prompts[]</code></td>
<td><code>Object</code></td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td><code>[].config.prompts[].name</code></td>
<td><code>String</code></td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td><code>[].config.prompts[].type</code></td>
<td><code>String</code></td>
<td>What kind of field this is (e.g. text or password)</td>
</tr>
<tr>
<td><code>[].config.prompts[].text</code></td>
<td><code>String</code></td>
<td>Actual text displayed on prompt for field</td>
</tr>
<tr>
<td><code>[].config.idpDiscoveryEnabled</code></td>
<td><code>Boolean</code></td>
<td>IDP Discovery should be set to true if you have configured more than one identity provider for UAA. The discovery relies on email domain being set for each additional provider</td>
</tr>
<tr>
<td><code>[].config.accountChooserEnabled</code></td>
<td><code>Boolean</code></td>
<td>This flag is required to enable account choosing functionality for IDP discovery page.</td>
</tr>
<tr>
<td><code>[].config.branding.companyName</code></td>
<td><code>String</code></td>
<td>This name is used on the UAA Pages and in account management related communication in UAA</td>
</tr>
<tr>
<td><code>[].config.branding.productLogo</code></td>
<td><code>String</code></td>
<td>This is a base64Url encoded PNG image which will be used as the logo on all UAA pages like Login, Sign Up etc.</td>
</tr>
<tr>
<td><code>[].config.branding.squareLogo</code></td>
<td><code>String</code></td>
<td>This is a base64 encoded PNG image which will be used as the favicon for the UAA pages</td>
</tr>
<tr>
<td><code>[].config.branding.footerLegalText</code></td>
<td><code>String</code></td>
<td>This text appears on the footer of all UAA pages</td>
</tr>
<tr>
<td><code>[].config.branding.footerLinks.*</code></td>
<td><code>String</code></td>
<td>These links (Map<String,String>) appear on the footer of all UAA pages. You may choose to add multiple urls for things like Support, Terms of Service etc.</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.xhrConfiguration.allowedOrigins</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Origin header</code>. Indicates whether a resource can be shared based by returning the value of the Origin request header, &quot;*&quot;, or &quot;null&quot; in the response.</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.xhrConfiguration.allowedOriginPatterns</code></td>
<td><code>Array</code></td>
<td>Indicates whether a resource can be shared based by returning the value of the Origin patterns.</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.xhrConfiguration.allowedUris</code></td>
<td><code>Array</code></td>
<td>The list of allowed URIs.</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.xhrConfiguration.allowedUriPatterns</code></td>
<td><code>Array</code></td>
<td>The list of allowed URI patterns.</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.xhrConfiguration.allowedHeaders</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Headers</code> header. Indicates which header field names can be used during the actual response</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.xhrConfiguration.allowedMethods</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Methods</code> header. Indicates which method will be used in the actual request as part of the preflight request.</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.xhrConfiguration.allowedCredentials</code></td>
<td><code>Boolean</code></td>
<td><code>Access-Control-Allow-Credentials</code> header. Indicates whether the response to request can be exposed when the omit credentials flag is unset. When part of the response to a preflight request it indicates that the actual request can include user credentials..</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.xhrConfiguration.maxAge</code></td>
<td><code>Number</code></td>
<td><code>Access-Control-Max-Age</code> header. Indicates how long the results of a preflight request can be cached in a preflight result cache</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.defaultConfiguration.allowedOrigins</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Origin header</code>. Indicates whether a resource can be shared based by returning the value of the Origin request header, &quot;*&quot;, or &quot;null&quot; in the response.</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.defaultConfiguration.allowedOriginPatterns</code></td>
<td><code>Array</code></td>
<td>Indicates whether a resource can be shared based by returning the value of the Origin patterns.</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.defaultConfiguration.allowedUris</code></td>
<td><code>Array</code></td>
<td>The list of allowed URIs.</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.defaultConfiguration.allowedUriPatterns</code></td>
<td><code>Array</code></td>
<td>The list of allowed URI patterns.</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.defaultConfiguration.allowedHeaders</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Headers</code> header. Indicates which header field names can be used during the actual response</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.defaultConfiguration.allowedMethods</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Methods</code> header. Indicates which method will be used in the actual request as part of the preflight request.</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.defaultConfiguration.allowedCredentials</code></td>
<td><code>Boolean</code></td>
<td><code>Access-Control-Allow-Credentials</code> header. Indicates whether the response to request can be exposed when the omit credentials flag is unset. When part of the response to a preflight request it indicates that the actual request can include user credentials..</td>
</tr>
<tr>
<td><code>[].config.corsPolicy.defaultConfiguration.maxAge</code></td>
<td><code>Number</code></td>
<td><code>Access-Control-Max-Age</code> header. Indicates how long the results of a preflight request can be cached in a preflight result cache</td>
</tr>
<tr>
<td><code>[].config.userConfig.defaultGroups</code></td>
<td><code>Array</code></td>
<td>Default groups each user in the zone inherits.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>
<h2 id='updating-an-identity-zone-41621'>Updating an Identity Zone</h2>
<pre><code class="bash">$ curl &#39;http://localhost/identity-zones/twiglet-update&#39; -i -X PUT \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer acb26910172a48158f2c06c77c8d3c2b&#39; \
    -d &#39;{
  &quot;subdomain&quot; : &quot;twiglet-update&quot;,
  &quot;config&quot; : {
    &quot;tokenPolicy&quot; : {
      &quot;accessTokenValidity&quot; : -1,
      &quot;refreshTokenValidity&quot; : -1,
      &quot;jwtRevocable&quot; : false,
      &quot;refreshTokenUnique&quot; : false,
      &quot;refreshTokenFormat&quot; : &quot;jwt&quot;,
      &quot;activeKeyId&quot; : null,
      &quot;keys&quot; : {
        &quot;updatedKeyId&quot; : {
          &quot;signingKey&quot; : &quot;upD4t3d.s1gNiNg.K3y/t3XT&quot;
        }
      }
    },
    &quot;samlConfig&quot; : {
      &quot;assertionSigned&quot; : true,
      &quot;requestSigned&quot; : true,
      &quot;wantAssertionSigned&quot; : true,
      &quot;wantAuthnRequestSigned&quot; : false,
      &quot;assertionTimeToLiveSeconds&quot; : 600,
      &quot;activeKeyId&quot; : &quot;legacy-saml-key&quot;,
      &quot;keys&quot; : {
        &quot;legacy-saml-key&quot; : {
          &quot;key&quot; : &quot;-----BEGIN RSA PRIVATE KEY-----\nMIIBOwIBAAJBAJv8ZpB5hEK7qxP9K3v43hUS5fGT4waKe7ix4Z4mu5UBv+cw7WSF\nAt0Vaag0sAbsPzU8Hhsrj/qPABvfB8asUwcCAwEAAQJAG0r3ezH35WFG1tGGaUOr\nQA61cyaII53ZdgCR1IU8bx7AUevmkFtBf+aqMWusWVOWJvGu2r5VpHVAIl8nF6DS\nkQIhAMjEJ3zVYa2/Mo4ey+iU9J9Vd+WoyXDQD4EEtwmyG1PpAiEAxuZlvhDIbbce\n7o5BvOhnCZ2N7kYb1ZC57g3F+cbJyW8CIQCbsDGHBto2qJyFxbAO7uQ8Y0UVHa0J\nBO/g900SAcJbcQIgRtEljIShOB8pDjrsQPxmI1BLhnjD1EhRSubwhDw5AFUCIQCN\nA24pDtdOHydwtSB5+zFqFLfmVZplQM/g5kb4so70Yw==\n-----END RSA PRIVATE KEY-----\n&quot;,
          &quot;passphrase&quot; : &quot;password&quot;,
          &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
        }
      },
      &quot;privateKey&quot; : &quot;-----BEGIN RSA PRIVATE KEY-----\nMIIBOwIBAAJBAJv8ZpB5hEK7qxP9K3v43hUS5fGT4waKe7ix4Z4mu5UBv+cw7WSF\nAt0Vaag0sAbsPzU8Hhsrj/qPABvfB8asUwcCAwEAAQJAG0r3ezH35WFG1tGGaUOr\nQA61cyaII53ZdgCR1IU8bx7AUevmkFtBf+aqMWusWVOWJvGu2r5VpHVAIl8nF6DS\nkQIhAMjEJ3zVYa2/Mo4ey+iU9J9Vd+WoyXDQD4EEtwmyG1PpAiEAxuZlvhDIbbce\n7o5BvOhnCZ2N7kYb1ZC57g3F+cbJyW8CIQCbsDGHBto2qJyFxbAO7uQ8Y0UVHa0J\nBO/g900SAcJbcQIgRtEljIShOB8pDjrsQPxmI1BLhnjD1EhRSubwhDw5AFUCIQCN\nA24pDtdOHydwtSB5+zFqFLfmVZplQM/g5kb4so70Yw==\n-----END RSA PRIVATE KEY-----\n&quot;,
      &quot;privateKeyPassword&quot; : &quot;password&quot;,
      &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
    },
    &quot;corsPolicy&quot; : {
      &quot;xhrConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      },
      &quot;defaultConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      }
    },
    &quot;links&quot; : {
      &quot;logout&quot; : {
        &quot;redirectUrl&quot; : &quot;/login&quot;,
        &quot;redirectParameterName&quot; : &quot;redirect&quot;,
        &quot;disableRedirectParameter&quot; : false,
        &quot;whitelist&quot; : null
      },
      &quot;homeRedirect&quot; : &quot;http://my.hosted.homepage.com/&quot;,
      &quot;selfService&quot; : {
        &quot;selfServiceLinksEnabled&quot; : true,
        &quot;signup&quot; : null,
        &quot;passwd&quot; : null
      }
    },
    &quot;prompts&quot; : [ {
      &quot;name&quot; : &quot;username&quot;,
      &quot;type&quot; : &quot;text&quot;,
      &quot;text&quot; : &quot;Email&quot;
    }, {
      &quot;name&quot; : &quot;password&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;Password&quot;
    }, {
      &quot;name&quot; : &quot;passcode&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;One Time Code (Get on at /passcode)&quot;
    } ],
    &quot;idpDiscoveryEnabled&quot; : false,
    &quot;branding&quot; : {
      &quot;companyName&quot; : &quot;Test Company&quot;,
      &quot;productLogo&quot; : &quot;VGVzdFByb2R1Y3RMb2dv&quot;,
      &quot;squareLogo&quot; : &quot;VGVzdFNxdWFyZUxvZ28=&quot;,
      &quot;footerLegalText&quot; : &quot;Test footer legal text&quot;,
      &quot;footerLinks&quot; : {
        &quot;Support&quot; : &quot;http://support.example.com&quot;
      }
    },
    &quot;accountChooserEnabled&quot; : false,
    &quot;userConfig&quot; : {
      &quot;defaultGroups&quot; : [ &quot;openid&quot;, &quot;password.write&quot;, &quot;uaa.user&quot;, &quot;approvals.me&quot;, &quot;profile&quot;, &quot;roles&quot;, &quot;user_attributes&quot;, &quot;uaa.offline_token&quot; ]
    }
  },
  &quot;name&quot; : &quot;The Updated Twiglet Zone&quot;,
  &quot;version&quot; : 0,
  &quot;description&quot; : &quot;Like the Twilight Zone but not tastier.&quot;,
  &quot;created&quot; : 1501286169103,
  &quot;last_modified&quot; : 1501286169103
}&#39;
</code></pre>

<pre><code class="http">PUT /identity-zones/twiglet-update HTTP/1.1
Content-Type: application/json
Authorization: Bearer acb26910172a48158f2c06c77c8d3c2b
Host: localhost
Content-Length: 5641

{
  &quot;subdomain&quot; : &quot;twiglet-update&quot;,
  &quot;config&quot; : {
    &quot;tokenPolicy&quot; : {
      &quot;accessTokenValidity&quot; : -1,
      &quot;refreshTokenValidity&quot; : -1,
      &quot;jwtRevocable&quot; : false,
      &quot;refreshTokenUnique&quot; : false,
      &quot;refreshTokenFormat&quot; : &quot;jwt&quot;,
      &quot;activeKeyId&quot; : null,
      &quot;keys&quot; : {
        &quot;updatedKeyId&quot; : {
          &quot;signingKey&quot; : &quot;upD4t3d.s1gNiNg.K3y/t3XT&quot;
        }
      }
    },
    &quot;samlConfig&quot; : {
      &quot;assertionSigned&quot; : true,
      &quot;requestSigned&quot; : true,
      &quot;wantAssertionSigned&quot; : true,
      &quot;wantAuthnRequestSigned&quot; : false,
      &quot;assertionTimeToLiveSeconds&quot; : 600,
      &quot;activeKeyId&quot; : &quot;legacy-saml-key&quot;,
      &quot;keys&quot; : {
        &quot;legacy-saml-key&quot; : {
          &quot;key&quot; : &quot;-----BEGIN RSA PRIVATE KEY-----\nMIIBOwIBAAJBAJv8ZpB5hEK7qxP9K3v43hUS5fGT4waKe7ix4Z4mu5UBv+cw7WSF\nAt0Vaag0sAbsPzU8Hhsrj/qPABvfB8asUwcCAwEAAQJAG0r3ezH35WFG1tGGaUOr\nQA61cyaII53ZdgCR1IU8bx7AUevmkFtBf+aqMWusWVOWJvGu2r5VpHVAIl8nF6DS\nkQIhAMjEJ3zVYa2/Mo4ey+iU9J9Vd+WoyXDQD4EEtwmyG1PpAiEAxuZlvhDIbbce\n7o5BvOhnCZ2N7kYb1ZC57g3F+cbJyW8CIQCbsDGHBto2qJyFxbAO7uQ8Y0UVHa0J\nBO/g900SAcJbcQIgRtEljIShOB8pDjrsQPxmI1BLhnjD1EhRSubwhDw5AFUCIQCN\nA24pDtdOHydwtSB5+zFqFLfmVZplQM/g5kb4so70Yw==\n-----END RSA PRIVATE KEY-----\n&quot;,
          &quot;passphrase&quot; : &quot;password&quot;,
          &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
        }
      },
      &quot;privateKey&quot; : &quot;-----BEGIN RSA PRIVATE KEY-----\nMIIBOwIBAAJBAJv8ZpB5hEK7qxP9K3v43hUS5fGT4waKe7ix4Z4mu5UBv+cw7WSF\nAt0Vaag0sAbsPzU8Hhsrj/qPABvfB8asUwcCAwEAAQJAG0r3ezH35WFG1tGGaUOr\nQA61cyaII53ZdgCR1IU8bx7AUevmkFtBf+aqMWusWVOWJvGu2r5VpHVAIl8nF6DS\nkQIhAMjEJ3zVYa2/Mo4ey+iU9J9Vd+WoyXDQD4EEtwmyG1PpAiEAxuZlvhDIbbce\n7o5BvOhnCZ2N7kYb1ZC57g3F+cbJyW8CIQCbsDGHBto2qJyFxbAO7uQ8Y0UVHa0J\nBO/g900SAcJbcQIgRtEljIShOB8pDjrsQPxmI1BLhnjD1EhRSubwhDw5AFUCIQCN\nA24pDtdOHydwtSB5+zFqFLfmVZplQM/g5kb4so70Yw==\n-----END RSA PRIVATE KEY-----\n&quot;,
      &quot;privateKeyPassword&quot; : &quot;password&quot;,
      &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
    },
    &quot;corsPolicy&quot; : {
      &quot;xhrConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      },
      &quot;defaultConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      }
    },
    &quot;links&quot; : {
      &quot;logout&quot; : {
        &quot;redirectUrl&quot; : &quot;/login&quot;,
        &quot;redirectParameterName&quot; : &quot;redirect&quot;,
        &quot;disableRedirectParameter&quot; : false,
        &quot;whitelist&quot; : null
      },
      &quot;homeRedirect&quot; : &quot;http://my.hosted.homepage.com/&quot;,
      &quot;selfService&quot; : {
        &quot;selfServiceLinksEnabled&quot; : true,
        &quot;signup&quot; : null,
        &quot;passwd&quot; : null
      }
    },
    &quot;prompts&quot; : [ {
      &quot;name&quot; : &quot;username&quot;,
      &quot;type&quot; : &quot;text&quot;,
      &quot;text&quot; : &quot;Email&quot;
    }, {
      &quot;name&quot; : &quot;password&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;Password&quot;
    }, {
      &quot;name&quot; : &quot;passcode&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;One Time Code (Get on at /passcode)&quot;
    } ],
    &quot;idpDiscoveryEnabled&quot; : false,
    &quot;branding&quot; : {
      &quot;companyName&quot; : &quot;Test Company&quot;,
      &quot;productLogo&quot; : &quot;VGVzdFByb2R1Y3RMb2dv&quot;,
      &quot;squareLogo&quot; : &quot;VGVzdFNxdWFyZUxvZ28=&quot;,
      &quot;footerLegalText&quot; : &quot;Test footer legal text&quot;,
      &quot;footerLinks&quot; : {
        &quot;Support&quot; : &quot;http://support.example.com&quot;
      }
    },
    &quot;accountChooserEnabled&quot; : false,
    &quot;userConfig&quot; : {
      &quot;defaultGroups&quot; : [ &quot;openid&quot;, &quot;password.write&quot;, &quot;uaa.user&quot;, &quot;approvals.me&quot;, &quot;profile&quot;, &quot;roles&quot;, &quot;user_attributes&quot;, &quot;uaa.offline_token&quot; ]
    }
  },
  &quot;name&quot; : &quot;The Updated Twiglet Zone&quot;,
  &quot;version&quot; : 0,
  &quot;description&quot; : &quot;Like the Twilight Zone but not tastier.&quot;,
  &quot;created&quot; : 1501286169103,
  &quot;last_modified&quot; : 1501286169103
}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 4416

{
  &quot;id&quot; : &quot;twiglet-update&quot;,
  &quot;subdomain&quot; : &quot;twiglet-update&quot;,
  &quot;config&quot; : {
    &quot;tokenPolicy&quot; : {
      &quot;accessTokenValidity&quot; : -1,
      &quot;refreshTokenValidity&quot; : -1,
      &quot;jwtRevocable&quot; : false,
      &quot;refreshTokenUnique&quot; : false,
      &quot;refreshTokenFormat&quot; : &quot;jwt&quot;,
      &quot;activeKeyId&quot; : null
    },
    &quot;samlConfig&quot; : {
      &quot;assertionSigned&quot; : true,
      &quot;requestSigned&quot; : true,
      &quot;wantAssertionSigned&quot; : true,
      &quot;wantAuthnRequestSigned&quot; : false,
      &quot;assertionTimeToLiveSeconds&quot; : 600,
      &quot;activeKeyId&quot; : &quot;legacy-saml-key&quot;,
      &quot;keys&quot; : {
        &quot;legacy-saml-key&quot; : {
          &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
        }
      },
      &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
    },
    &quot;corsPolicy&quot; : {
      &quot;xhrConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      },
      &quot;defaultConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      }
    },
    &quot;links&quot; : {
      &quot;logout&quot; : {
        &quot;redirectUrl&quot; : &quot;/login&quot;,
        &quot;redirectParameterName&quot; : &quot;redirect&quot;,
        &quot;disableRedirectParameter&quot; : false,
        &quot;whitelist&quot; : null
      },
      &quot;homeRedirect&quot; : &quot;http://my.hosted.homepage.com/&quot;,
      &quot;selfService&quot; : {
        &quot;selfServiceLinksEnabled&quot; : true,
        &quot;signup&quot; : null,
        &quot;passwd&quot; : null
      }
    },
    &quot;prompts&quot; : [ {
      &quot;name&quot; : &quot;username&quot;,
      &quot;type&quot; : &quot;text&quot;,
      &quot;text&quot; : &quot;Email&quot;
    }, {
      &quot;name&quot; : &quot;password&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;Password&quot;
    }, {
      &quot;name&quot; : &quot;passcode&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;One Time Code (Get on at /passcode)&quot;
    } ],
    &quot;idpDiscoveryEnabled&quot; : false,
    &quot;branding&quot; : {
      &quot;companyName&quot; : &quot;Test Company&quot;,
      &quot;productLogo&quot; : &quot;VGVzdFByb2R1Y3RMb2dv&quot;,
      &quot;squareLogo&quot; : &quot;VGVzdFNxdWFyZUxvZ28=&quot;,
      &quot;footerLegalText&quot; : &quot;Test footer legal text&quot;,
      &quot;footerLinks&quot; : {
        &quot;Support&quot; : &quot;http://support.example.com&quot;
      }
    },
    &quot;accountChooserEnabled&quot; : false,
    &quot;userConfig&quot; : {
      &quot;defaultGroups&quot; : [ &quot;openid&quot;, &quot;password.write&quot;, &quot;uaa.user&quot;, &quot;approvals.me&quot;, &quot;profile&quot;, &quot;roles&quot;, &quot;user_attributes&quot;, &quot;uaa.offline_token&quot; ]
    }
  },
  &quot;name&quot; : &quot;The Updated Twiglet Zone&quot;,
  &quot;version&quot; : 1,
  &quot;description&quot; : &quot;Like the Twilight Zone but not tastier.&quot;,
  &quot;created&quot; : 1501286169045,
  &quot;last_modified&quot; : 1501286169119
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/identity-zones/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique ID of the identity zone to update</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.write</code> or <code>zones.&lt;zone id&gt;.admin</code></td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subdomain</td>
<td>String</td>
<td>Required</td>
<td>Unique subdomain for the running instance. May only contain legal characters for a subdomain name.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable zone name</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Optional</td>
<td>Description of the zone</td>
</tr>
<tr>
<td>version</td>
<td>Number</td>
<td>Optional</td>
<td>Reserved for future use of E-Tag versioning</td>
</tr>
<tr>
<td>config.tokenPolicy.activeKeyId</td>
<td>String</td>
<td>Required if <code>config.tokenPolicy.keys</code> are set</td>
<td>The ID for the key that is being used to sign tokens</td>
</tr>
<tr>
<td>config.tokenPolicy.keys.<em>.</em></td>
<td>String</td>
<td>Optional</td>
<td>Keys which will be used to sign the token. If null value is specified for keys, then existing value will be retained.</td>
</tr>
<tr>
<td>config.tokenPolicy.accessTokenValidity</td>
<td>Number</td>
<td>Optional</td>
<td>Time in seconds between when a access token is issued and when it expires. Defaults to global <code>accessTokenValidity</code></td>
</tr>
<tr>
<td>config.tokenPolicy.refreshTokenValidity</td>
<td>Number</td>
<td>Optional</td>
<td>Time in seconds between when a refresh token is issued and when it expires. Defaults to global <code>refreshTokenValidity</code></td>
</tr>
<tr>
<td>config.tokenPolicy.jwtRevocable</td>
<td>Boolean</td>
<td>Optional</td>
<td>Set to true if JWT tokens should be stored in the token store, and thus made individually revocable. Opaque tokens are always stored and revocable.</td>
</tr>
<tr>
<td>config.tokenPolicy.refreshTokenUnique</td>
<td>Boolean</td>
<td>Optional</td>
<td>If true, uaa will only issue one refresh token per client_id/user_id combination. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td>config.tokenPolicy.refreshTokenFormat</td>
<td>String</td>
<td>Optional</td>
<td>The format for the refresh token. Allowed values are <code>jwt</code>, <code>opaque</code>. Defaults to <code>jwt</code>.</td>
</tr>
<tr>
<td>config.samlConfig.assertionSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>If <code>true</code>, the SAML provider will sign all assertions</td>
</tr>
<tr>
<td>config.samlConfig.wantAssertionSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>Exposed SAML metadata property. If <code>true</code>, all assertions received by the SAML provider must be signed. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td>config.samlConfig.requestSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>Exposed SAML metadata property. If <code>true</code>, the service provider will sign all outgoing authentication requests. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td>config.samlConfig.wantAuthnRequestSigned</td>
<td>Boolean</td>
<td>Optional</td>
<td>If <code>true</code>, the authentication request from the partner service provider must be signed.</td>
</tr>
<tr>
<td>config.samlConfig.assertionTimeToLiveSeconds</td>
<td>Number</td>
<td>Optional</td>
<td>The lifetime of a SAML assertion in seconds. Defaults to 600.</td>
</tr>
<tr>
<td>config.samlConfig.certificate</td>
<td>String</td>
<td>Deprecated</td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td>config.samlConfig.privateKey</td>
<td>String</td>
<td>Deprecated</td>
<td>Exposed SAML metadata property. The SAML provider&#39;s private key.</td>
</tr>
<tr>
<td>config.samlConfig.privateKeyPassword</td>
<td>String</td>
<td>Deprecated</td>
<td>Exposed SAML metadata property. The SAML provider&#39;s private key password. Reserved for future use.</td>
</tr>
<tr>
<td>config.samlConfig.activeKeyId</td>
<td>String</td>
<td>Required if a list of keys defined in <code>keys</code> map</td>
<td>The ID of the key that should be used for signing metadata and assertions.</td>
</tr>
<tr>
<td>config.samlConfig.keys.*.key</td>
<td>String</td>
<td>Optional. Can only be used in conjunction with <code>keys.&lt;key-id&gt;.passphrase</code> and <code>keys.&lt;key-id&gt;.certificate</code></td>
<td>Exposed SAML metadata property. The SAML provider&#39;s private key.</td>
</tr>
<tr>
<td>config.samlConfig.keys.*.passphrase</td>
<td>String</td>
<td>Optional. Can only be used in conjunction with <code>keys.&lt;key-id&gt;.key</code> and <code>keys.&lt;key-id&gt;.certificate</code></td>
<td>Exposed SAML metadata property. The SAML provider&#39;s private key password. Reserved for future use.</td>
</tr>
<tr>
<td>config.samlConfig.keys.*.certificate</td>
<td>String</td>
<td>Optional. Can only be used in conjunction with <code>keys.&lt;key-id&gt;.key</code> and <code>keys.&lt;key-id&gt;.passphrase</code></td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td>config.links.logout.redirectUrl</td>
<td>String</td>
<td>Optional</td>
<td>Logout redirect url</td>
</tr>
<tr>
<td>config.links.homeRedirect</td>
<td>String</td>
<td>Optional</td>
<td>Overrides the UAA home page and issues a redirect to this URL when the browser requests <code>/</code> and <code>/home</code>.</td>
</tr>
<tr>
<td>config.links.logout.redirectParameterName</td>
<td>String</td>
<td>Optional</td>
<td>Changes the name of the redirect parameter</td>
</tr>
<tr>
<td>config.links.logout.disableRedirectParameter</td>
<td>Boolean</td>
<td>Optional</td>
<td>Whether or not to allow the redirect parameter on logout</td>
</tr>
<tr>
<td>config.links.logout.whitelist</td>
<td>Array</td>
<td>Optional</td>
<td>List of allowed whitelist redirects</td>
</tr>
<tr>
<td>config.links.selfService.selfServiceLinksEnabled</td>
<td>Boolean</td>
<td>Optional</td>
<td>Whether or not users are allowed to sign up or reset their passwords via the UI</td>
</tr>
<tr>
<td>config.links.selfService.signup</td>
<td>Null</td>
<td>Optional</td>
<td>Where users are directed upon clicking the account creation link</td>
</tr>
<tr>
<td>config.links.selfService.passwd</td>
<td>Null</td>
<td>Optional</td>
<td>Where users are directed upon clicking the password reset link</td>
</tr>
<tr>
<td>config.prompts[]</td>
<td>Array</td>
<td>Optional</td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td>config.prompts[].name</td>
<td>String</td>
<td>Optional</td>
<td>Name of field</td>
</tr>
<tr>
<td>config.prompts[].type</td>
<td>String</td>
<td>Optional</td>
<td>What kind of field this is (e.g. text or password)</td>
</tr>
<tr>
<td>config.prompts[].text</td>
<td>String</td>
<td>Optional</td>
<td>Actual text displayed on prompt for field</td>
</tr>
<tr>
<td>config.idpDiscoveryEnabled</td>
<td>Boolean</td>
<td>Optional</td>
<td>IDP Discovery should be set to true if you have configured more than one identity provider for UAA. The discovery relies on email domain being set for each additional provider</td>
</tr>
<tr>
<td>config.accountChooserEnabled</td>
<td>Boolean</td>
<td>Optional</td>
<td>This flag is required to enable account choosing functionality for IDP discovery page.</td>
</tr>
<tr>
<td>config.branding.companyName</td>
<td>String</td>
<td>Optional</td>
<td>This name is used on the UAA Pages and in account management related communication in UAA</td>
</tr>
<tr>
<td>config.branding.productLogo</td>
<td>String</td>
<td>Optional</td>
<td>This is a base64Url encoded PNG image which will be used as the logo on all UAA pages like Login, Sign Up etc.</td>
</tr>
<tr>
<td>config.branding.squareLogo</td>
<td>String</td>
<td>Optional</td>
<td>This is a base64 encoded PNG image which will be used as the favicon for the UAA pages</td>
</tr>
<tr>
<td>config.branding.footerLegalText</td>
<td>String</td>
<td>Optional</td>
<td>This text appears on the footer of all UAA pages</td>
</tr>
<tr>
<td>config.branding.footerLinks.*</td>
<td>Array</td>
<td>Optional</td>
<td>These links (Map<String,String>) appear on the footer of all UAA pages. You may choose to add multiple urls for things like Support, Terms of Service etc.</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.allowedOrigins</td>
<td>Array</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Origin header</code>. Indicates whether a resource can be shared based by returning the value of the Origin request header, &quot;*&quot;, or &quot;null&quot; in the response.</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.allowedOriginPatterns</td>
<td>Array</td>
<td>Optional</td>
<td>Indicates whether a resource can be shared based by returning the value of the Origin patterns.</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.allowedUris</td>
<td>Array</td>
<td>Optional</td>
<td>The list of allowed URIs.</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.allowedUriPatterns</td>
<td>Array</td>
<td>Optional</td>
<td>The list of allowed URI patterns.</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.allowedHeaders</td>
<td>Array</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Headers</code> header. Indicates which header field names can be used during the actual response</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.allowedMethods</td>
<td>Array</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Methods</code> header. Indicates which method will be used in the actual request as part of the preflight request.</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.allowedCredentials</td>
<td>Boolean</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Credentials</code> header. Indicates whether the response to request can be exposed when the omit credentials flag is unset. When part of the response to a preflight request it indicates that the actual request can include user credentials..</td>
</tr>
<tr>
<td>config.corsPolicy.xhrConfiguration.maxAge</td>
<td>Number</td>
<td>Optional</td>
<td><code>Access-Control-Max-Age</code> header. Indicates how long the results of a preflight request can be cached in a preflight result cache</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.allowedOrigins</td>
<td>Array</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Origin header</code>. Indicates whether a resource can be shared based by returning the value of the Origin request header, &quot;*&quot;, or &quot;null&quot; in the response.</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.allowedOriginPatterns</td>
<td>Array</td>
<td>Optional</td>
<td>Indicates whether a resource can be shared based by returning the value of the Origin patterns.</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.allowedUris</td>
<td>Array</td>
<td>Optional</td>
<td>The list of allowed URIs.</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.allowedUriPatterns</td>
<td>Array</td>
<td>Optional</td>
<td>The list of allowed URI patterns.</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.allowedHeaders</td>
<td>Array</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Headers</code> header. Indicates which header field names can be used during the actual response</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.allowedMethods</td>
<td>Array</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Methods</code> header. Indicates which method will be used in the actual request as part of the preflight request.</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.allowedCredentials</td>
<td>Boolean</td>
<td>Optional</td>
<td><code>Access-Control-Allow-Credentials</code> header. Indicates whether the response to request can be exposed when the omit credentials flag is unset. When part of the response to a preflight request it indicates that the actual request can include user credentials..</td>
</tr>
<tr>
<td>config.corsPolicy.defaultConfiguration.maxAge</td>
<td>Number</td>
<td>Optional</td>
<td><code>Access-Control-Max-Age</code> header. Indicates how long the results of a preflight request can be cached in a preflight result cache</td>
</tr>
<tr>
<td>config.userConfig.defaultGroups</td>
<td>Array</td>
<td>Optional</td>
<td>Default groups each user in the zone inherits.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique ID of the identity zone</td>
</tr>
<tr>
<td><code>subdomain</code></td>
<td><code>String</code></td>
<td>Unique subdomain for the running instance. May only contain legal characters for a subdomain name.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>Human-readable zone name</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>String</code></td>
<td>Description of the zone</td>
</tr>
<tr>
<td><code>version</code></td>
<td><code>Number</code></td>
<td>Reserved for future use of E-Tag versioning</td>
</tr>
<tr>
<td><code>config.tokenPolicy.activeKeyId</code></td>
<td><code>String</code></td>
<td>The ID for the key that is being used to sign tokens</td>
</tr>
<tr>
<td><code>config.tokenPolicy.accessTokenValidity</code></td>
<td><code>Number</code></td>
<td>Time in seconds between when a access token is issued and when it expires. Defaults to global <code>accessTokenValidity</code></td>
</tr>
<tr>
<td><code>config.tokenPolicy.refreshTokenValidity</code></td>
<td><code>Number</code></td>
<td>Time in seconds between when a refresh token is issued and when it expires. Defaults to global <code>refreshTokenValidity</code></td>
</tr>
<tr>
<td><code>config.tokenPolicy.jwtRevocable</code></td>
<td><code>Boolean</code></td>
<td>Set to true if JWT tokens should be stored in the token store, and thus made individually revocable. Opaque tokens are always stored and revocable.</td>
</tr>
<tr>
<td><code>config.tokenPolicy.refreshTokenUnique</code></td>
<td><code>Boolean</code></td>
<td>If true, uaa will only issue one refresh token per client_id/user_id combination. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td><code>config.tokenPolicy.refreshTokenFormat</code></td>
<td><code>String</code></td>
<td>The format for the refresh token. Allowed values are <code>jwt</code>, <code>opaque</code>. Defaults to <code>jwt</code>.</td>
</tr>
<tr>
<td><code>config.samlConfig.assertionSigned</code></td>
<td><code>Boolean</code></td>
<td>If <code>true</code>, the SAML provider will sign all assertions</td>
</tr>
<tr>
<td><code>config.samlConfig.wantAssertionSigned</code></td>
<td><code>Boolean</code></td>
<td>Exposed SAML metadata property. If <code>true</code>, all assertions received by the SAML provider must be signed. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td><code>config.samlConfig.requestSigned</code></td>
<td><code>Boolean</code></td>
<td>Exposed SAML metadata property. If <code>true</code>, the service provider will sign all outgoing authentication requests. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td><code>config.samlConfig.wantAuthnRequestSigned</code></td>
<td><code>Boolean</code></td>
<td>If <code>true</code>, the authentication request from the partner service provider must be signed.</td>
</tr>
<tr>
<td><code>config.samlConfig.assertionTimeToLiveSeconds</code></td>
<td><code>Number</code></td>
<td>The lifetime of a SAML assertion in seconds. Defaults to 600.</td>
</tr>
<tr>
<td><code>config.samlConfig.certificate</code></td>
<td><code>String</code></td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td><code>config.samlConfig.activeKeyId</code></td>
<td><code>String</code></td>
<td>The ID of the key that should be used for signing metadata and assertions.</td>
</tr>
<tr>
<td><code>config.samlConfig.keys.*.certificate</code></td>
<td><code>String</code></td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td><code>config.links.logout.redirectUrl</code></td>
<td><code>String</code></td>
<td>Logout redirect url</td>
</tr>
<tr>
<td><code>config.links.homeRedirect</code></td>
<td><code>String</code></td>
<td>Overrides the UAA home page and issues a redirect to this URL when the browser requests <code>/</code> and <code>/home</code>.</td>
</tr>
<tr>
<td><code>config.links.logout.redirectParameterName</code></td>
<td><code>String</code></td>
<td>Changes the name of the redirect parameter</td>
</tr>
<tr>
<td><code>config.links.logout.disableRedirectParameter</code></td>
<td><code>Boolean</code></td>
<td>Whether or not to allow the redirect parameter on logout</td>
</tr>
<tr>
<td><code>config.links.logout.whitelist</code></td>
<td><code>Array</code></td>
<td>List of allowed whitelist redirects</td>
</tr>
<tr>
<td><code>config.links.selfService.selfServiceLinksEnabled</code></td>
<td><code>Boolean</code></td>
<td>Whether or not users are allowed to sign up or reset their passwords via the UI</td>
</tr>
<tr>
<td><code>config.links.selfService.signup</code></td>
<td><code>Null</code></td>
<td>Where users are directed upon clicking the account creation link</td>
</tr>
<tr>
<td><code>config.links.selfService.passwd</code></td>
<td><code>Null</code></td>
<td>Where users are directed upon clicking the password reset link</td>
</tr>
<tr>
<td><code>config.prompts[]</code></td>
<td><code>Array</code></td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td><code>config.prompts[].name</code></td>
<td><code>String</code></td>
<td>Name of field</td>
</tr>
<tr>
<td><code>config.prompts[].type</code></td>
<td><code>String</code></td>
<td>What kind of field this is (e.g. text or password)</td>
</tr>
<tr>
<td><code>config.prompts[].text</code></td>
<td><code>String</code></td>
<td>Actual text displayed on prompt for field</td>
</tr>
<tr>
<td><code>config.idpDiscoveryEnabled</code></td>
<td><code>Boolean</code></td>
<td>IDP Discovery should be set to true if you have configured more than one identity provider for UAA. The discovery relies on email domain being set for each additional provider</td>
</tr>
<tr>
<td><code>config.accountChooserEnabled</code></td>
<td><code>Boolean</code></td>
<td>This flag is required to enable account choosing functionality for IDP discovery page.</td>
</tr>
<tr>
<td><code>config.branding.companyName</code></td>
<td><code>String</code></td>
<td>This name is used on the UAA Pages and in account management related communication in UAA</td>
</tr>
<tr>
<td><code>config.branding.productLogo</code></td>
<td><code>String</code></td>
<td>This is a base64Url encoded PNG image which will be used as the logo on all UAA pages like Login, Sign Up etc.</td>
</tr>
<tr>
<td><code>config.branding.squareLogo</code></td>
<td><code>String</code></td>
<td>This is a base64 encoded PNG image which will be used as the favicon for the UAA pages</td>
</tr>
<tr>
<td><code>config.branding.footerLegalText</code></td>
<td><code>String</code></td>
<td>This text appears on the footer of all UAA pages</td>
</tr>
<tr>
<td><code>config.branding.footerLinks.*</code></td>
<td><code>Array</code></td>
<td>These links (Map<String,String>) appear on the footer of all UAA pages. You may choose to add multiple urls for things like Support, Terms of Service etc.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedOrigins</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Origin header</code>. Indicates whether a resource can be shared based by returning the value of the Origin request header, &quot;*&quot;, or &quot;null&quot; in the response.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedOriginPatterns</code></td>
<td><code>Array</code></td>
<td>Indicates whether a resource can be shared based by returning the value of the Origin patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedUris</code></td>
<td><code>Array</code></td>
<td>The list of allowed URIs.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedUriPatterns</code></td>
<td><code>Array</code></td>
<td>The list of allowed URI patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedHeaders</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Headers</code> header. Indicates which header field names can be used during the actual response</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedMethods</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Methods</code> header. Indicates which method will be used in the actual request as part of the preflight request.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedCredentials</code></td>
<td><code>Boolean</code></td>
<td><code>Access-Control-Allow-Credentials</code> header. Indicates whether the response to request can be exposed when the omit credentials flag is unset. When part of the response to a preflight request it indicates that the actual request can include user credentials..</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.maxAge</code></td>
<td><code>Number</code></td>
<td><code>Access-Control-Max-Age</code> header. Indicates how long the results of a preflight request can be cached in a preflight result cache</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedOrigins</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Origin header</code>. Indicates whether a resource can be shared based by returning the value of the Origin request header, &quot;*&quot;, or &quot;null&quot; in the response.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedOriginPatterns</code></td>
<td><code>Array</code></td>
<td>Indicates whether a resource can be shared based by returning the value of the Origin patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedUris</code></td>
<td><code>Array</code></td>
<td>The list of allowed URIs.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedUriPatterns</code></td>
<td><code>Array</code></td>
<td>The list of allowed URI patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedHeaders</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Headers</code> header. Indicates which header field names can be used during the actual response</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedMethods</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Methods</code> header. Indicates which method will be used in the actual request as part of the preflight request.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedCredentials</code></td>
<td><code>Boolean</code></td>
<td><code>Access-Control-Allow-Credentials</code> header. Indicates whether the response to request can be exposed when the omit credentials flag is unset. When part of the response to a preflight request it indicates that the actual request can include user credentials..</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.maxAge</code></td>
<td><code>Number</code></td>
<td><code>Access-Control-Max-Age</code> header. Indicates how long the results of a preflight request can be cached in a preflight result cache</td>
</tr>
<tr>
<td><code>config.userConfig.defaultGroups</code></td>
<td><code>Array</code></td>
<td>Default groups each user in the zone inherits.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (zone admins can only update own zone)</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Update to nonexistent zone</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid zone details</td>
</tr>
</tbody></table>
<h2 id='deleting-an-identity-zone-96716'>Deleting an Identity Zone</h2>
<pre><code class="bash">$ curl &#39;http://localhost/identity-zones/twiglet-delete&#39; -i -X DELETE \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer e19c5a7581994ef7a23b34617cf2d783&#39;
</code></pre>

<pre><code class="http">DELETE /identity-zones/twiglet-delete HTTP/1.1
Content-Type: application/json
Authorization: Bearer e19c5a7581994ef7a23b34617cf2d783
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 4347

{
  &quot;id&quot; : &quot;twiglet-delete&quot;,
  &quot;subdomain&quot; : &quot;twiglet-delete&quot;,
  &quot;config&quot; : {
    &quot;tokenPolicy&quot; : {
      &quot;accessTokenValidity&quot; : -1,
      &quot;refreshTokenValidity&quot; : -1,
      &quot;jwtRevocable&quot; : false,
      &quot;refreshTokenUnique&quot; : false,
      &quot;refreshTokenFormat&quot; : &quot;jwt&quot;,
      &quot;activeKeyId&quot; : null
    },
    &quot;samlConfig&quot; : {
      &quot;assertionSigned&quot; : true,
      &quot;requestSigned&quot; : true,
      &quot;wantAssertionSigned&quot; : true,
      &quot;wantAuthnRequestSigned&quot; : false,
      &quot;assertionTimeToLiveSeconds&quot; : 600,
      &quot;activeKeyId&quot; : &quot;legacy-saml-key&quot;,
      &quot;keys&quot; : {
        &quot;legacy-saml-key&quot; : {
          &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
        }
      },
      &quot;certificate&quot; : &quot;-----BEGIN CERTIFICATE-----\nMIICEjCCAXsCAg36MA0GCSqGSIb3DQEBBQUAMIGbMQswCQYDVQQGEwJKUDEOMAwG\nA1UECBMFVG9reW8xEDAOBgNVBAcTB0NodW8ta3UxETAPBgNVBAoTCEZyYW5rNERE\nMRgwFgYDVQQLEw9XZWJDZXJ0IFN1cHBvcnQxGDAWBgNVBAMTD0ZyYW5rNEREIFdl\nYiBDQTEjMCEGCSqGSIb3DQEJARYUc3VwcG9ydEBmcmFuazRkZC5jb20wHhcNMTIw\nODIyMDUyNjU0WhcNMTcwODIxMDUyNjU0WjBKMQswCQYDVQQGEwJKUDEOMAwGA1UE\nCAwFVG9reW8xETAPBgNVBAoMCEZyYW5rNEREMRgwFgYDVQQDDA93d3cuZXhhbXBs\nZS5jb20wXDANBgkqhkiG9w0BAQEFAANLADBIAkEAm/xmkHmEQrurE/0re/jeFRLl\n8ZPjBop7uLHhnia7lQG/5zDtZIUC3RVpqDSwBuw/NTweGyuP+o8AG98HxqxTBwID\nAQABMA0GCSqGSIb3DQEBBQUAA4GBABS2TLuBeTPmcaTaUW/LCB2NYOy8GMdzR1mx\n8iBIu2H6/E2tiY3RIevV2OW61qY2/XRQg7YPxx3ffeUugX9F4J/iPnnu1zAxxyBy\n2VguKv4SWjRFoRkIfIlHX0qVviMhSlNy2ioFLy7JcPZb+v3ftDGywUqcBiVDoea0\nHn+GmxZA\n-----END CERTIFICATE-----\n&quot;
    },
    &quot;corsPolicy&quot; : {
      &quot;xhrConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      },
      &quot;defaultConfiguration&quot; : {
        &quot;allowedOrigins&quot; : [ &quot;.*&quot; ],
        &quot;allowedOriginPatterns&quot; : [ ],
        &quot;allowedUris&quot; : [ &quot;.*&quot; ],
        &quot;allowedUriPatterns&quot; : [ ],
        &quot;allowedHeaders&quot; : [ &quot;Accept&quot;, &quot;Authorization&quot;, &quot;Content-Type&quot; ],
        &quot;allowedMethods&quot; : [ &quot;GET&quot; ],
        &quot;allowedCredentials&quot; : false,
        &quot;maxAge&quot; : 1728000
      }
    },
    &quot;links&quot; : {
      &quot;logout&quot; : {
        &quot;redirectUrl&quot; : &quot;/login&quot;,
        &quot;redirectParameterName&quot; : &quot;redirect&quot;,
        &quot;disableRedirectParameter&quot; : false,
        &quot;whitelist&quot; : null
      },
      &quot;homeRedirect&quot; : &quot;http://my.hosted.homepage.com/&quot;,
      &quot;selfService&quot; : {
        &quot;selfServiceLinksEnabled&quot; : true,
        &quot;signup&quot; : null,
        &quot;passwd&quot; : null
      }
    },
    &quot;prompts&quot; : [ {
      &quot;name&quot; : &quot;username&quot;,
      &quot;type&quot; : &quot;text&quot;,
      &quot;text&quot; : &quot;Email&quot;
    }, {
      &quot;name&quot; : &quot;password&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;Password&quot;
    }, {
      &quot;name&quot; : &quot;passcode&quot;,
      &quot;type&quot; : &quot;password&quot;,
      &quot;text&quot; : &quot;One Time Code (Get on at /passcode)&quot;
    } ],
    &quot;idpDiscoveryEnabled&quot; : false,
    &quot;branding&quot; : {
      &quot;companyName&quot; : &quot;Test Company&quot;,
      &quot;productLogo&quot; : &quot;VGVzdFByb2R1Y3RMb2dv&quot;,
      &quot;squareLogo&quot; : &quot;VGVzdFNxdWFyZUxvZ28=&quot;,
      &quot;footerLegalText&quot; : &quot;Test footer legal text&quot;,
      &quot;footerLinks&quot; : {
        &quot;Support&quot; : &quot;http://support.example.com&quot;
      }
    },
    &quot;accountChooserEnabled&quot; : false,
    &quot;userConfig&quot; : {
      &quot;defaultGroups&quot; : [ &quot;openid&quot;, &quot;password.write&quot;, &quot;uaa.user&quot;, &quot;approvals.me&quot;, &quot;profile&quot;, &quot;roles&quot;, &quot;user_attributes&quot;, &quot;uaa.offline_token&quot; ]
    }
  },
  &quot;name&quot; : &quot;The Twiglet Zone&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286168876,
  &quot;last_modified&quot; : 1501286168876
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/identity-zones/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique ID of the identity zone to delete</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.write</code></td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique ID of the identity zone</td>
</tr>
<tr>
<td><code>subdomain</code></td>
<td><code>String</code></td>
<td>Unique subdomain for the running instance. May only contain legal characters for a subdomain name.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>Human-readable zone name</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>String</code></td>
<td>Description of the zone</td>
</tr>
<tr>
<td><code>version</code></td>
<td><code>Number</code></td>
<td>Reserved for future use of E-Tag versioning</td>
</tr>
<tr>
<td><code>config.tokenPolicy.activeKeyId</code></td>
<td><code>String</code></td>
<td>The ID for the key that is being used to sign tokens</td>
</tr>
<tr>
<td><code>config.tokenPolicy.accessTokenValidity</code></td>
<td><code>Number</code></td>
<td>Time in seconds between when a access token is issued and when it expires. Defaults to global <code>accessTokenValidity</code></td>
</tr>
<tr>
<td><code>config.tokenPolicy.refreshTokenValidity</code></td>
<td><code>Number</code></td>
<td>Time in seconds between when a refresh token is issued and when it expires. Defaults to global <code>refreshTokenValidity</code></td>
</tr>
<tr>
<td><code>config.tokenPolicy.jwtRevocable</code></td>
<td><code>Boolean</code></td>
<td>Set to true if JWT tokens should be stored in the token store, and thus made individually revocable. Opaque tokens are always stored and revocable.</td>
</tr>
<tr>
<td><code>config.tokenPolicy.refreshTokenUnique</code></td>
<td><code>Boolean</code></td>
<td>If true, uaa will only issue one refresh token per client_id/user_id combination. Defaults to <code>false</code>.</td>
</tr>
<tr>
<td><code>config.tokenPolicy.refreshTokenFormat</code></td>
<td><code>String</code></td>
<td>The format for the refresh token. Allowed values are <code>jwt</code>, <code>opaque</code>. Defaults to <code>jwt</code>.</td>
</tr>
<tr>
<td><code>config.samlConfig.assertionSigned</code></td>
<td><code>Boolean</code></td>
<td>If <code>true</code>, the SAML provider will sign all assertions</td>
</tr>
<tr>
<td><code>config.samlConfig.wantAssertionSigned</code></td>
<td><code>Boolean</code></td>
<td>Exposed SAML metadata property. If <code>true</code>, all assertions received by the SAML provider must be signed. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td><code>config.samlConfig.requestSigned</code></td>
<td><code>Boolean</code></td>
<td>Exposed SAML metadata property. If <code>true</code>, the service provider will sign all outgoing authentication requests. Defaults to <code>true</code>.</td>
</tr>
<tr>
<td><code>config.samlConfig.wantAuthnRequestSigned</code></td>
<td><code>Boolean</code></td>
<td>If <code>true</code>, the authentication request from the partner service provider must be signed.</td>
</tr>
<tr>
<td><code>config.samlConfig.assertionTimeToLiveSeconds</code></td>
<td><code>Number</code></td>
<td>The lifetime of a SAML assertion in seconds. Defaults to 600.</td>
</tr>
<tr>
<td><code>config.samlConfig.certificate</code></td>
<td><code>String</code></td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td><code>config.samlConfig.activeKeyId</code></td>
<td><code>String</code></td>
<td>The ID of the key that should be used for signing metadata and assertions.</td>
</tr>
<tr>
<td><code>config.samlConfig.keys.*.certificate</code></td>
<td><code>String</code></td>
<td>Exposed SAML metadata property. The certificate used to verify the authenticity all communications.</td>
</tr>
<tr>
<td><code>config.links.logout.redirectUrl</code></td>
<td><code>String</code></td>
<td>Logout redirect url</td>
</tr>
<tr>
<td><code>config.links.homeRedirect</code></td>
<td><code>String</code></td>
<td>Overrides the UAA home page and issues a redirect to this URL when the browser requests <code>/</code> and <code>/home</code>.</td>
</tr>
<tr>
<td><code>config.links.logout.redirectParameterName</code></td>
<td><code>String</code></td>
<td>Changes the name of the redirect parameter</td>
</tr>
<tr>
<td><code>config.links.logout.disableRedirectParameter</code></td>
<td><code>Boolean</code></td>
<td>Whether or not to allow the redirect parameter on logout</td>
</tr>
<tr>
<td><code>config.links.logout.whitelist</code></td>
<td><code>Array</code></td>
<td>List of allowed whitelist redirects</td>
</tr>
<tr>
<td><code>config.links.selfService.selfServiceLinksEnabled</code></td>
<td><code>Boolean</code></td>
<td>Whether or not users are allowed to sign up or reset their passwords via the UI</td>
</tr>
<tr>
<td><code>config.links.selfService.signup</code></td>
<td><code>Null</code></td>
<td>Where users are directed upon clicking the account creation link</td>
</tr>
<tr>
<td><code>config.links.selfService.passwd</code></td>
<td><code>Null</code></td>
<td>Where users are directed upon clicking the password reset link</td>
</tr>
<tr>
<td><code>config.prompts[]</code></td>
<td><code>Array</code></td>
<td>List of fields that users are prompted for to login. Defaults to username, password, and passcode.</td>
</tr>
<tr>
<td><code>config.prompts[].name</code></td>
<td><code>String</code></td>
<td>Name of field</td>
</tr>
<tr>
<td><code>config.prompts[].type</code></td>
<td><code>String</code></td>
<td>What kind of field this is (e.g. text or password)</td>
</tr>
<tr>
<td><code>config.prompts[].text</code></td>
<td><code>String</code></td>
<td>Actual text displayed on prompt for field</td>
</tr>
<tr>
<td><code>config.idpDiscoveryEnabled</code></td>
<td><code>Boolean</code></td>
<td>IDP Discovery should be set to true if you have configured more than one identity provider for UAA. The discovery relies on email domain being set for each additional provider</td>
</tr>
<tr>
<td><code>config.accountChooserEnabled</code></td>
<td><code>Boolean</code></td>
<td>This flag is required to enable account choosing functionality for IDP discovery page.</td>
</tr>
<tr>
<td><code>config.branding.companyName</code></td>
<td><code>String</code></td>
<td>This name is used on the UAA Pages and in account management related communication in UAA</td>
</tr>
<tr>
<td><code>config.branding.productLogo</code></td>
<td><code>String</code></td>
<td>This is a base64Url encoded PNG image which will be used as the logo on all UAA pages like Login, Sign Up etc.</td>
</tr>
<tr>
<td><code>config.branding.squareLogo</code></td>
<td><code>String</code></td>
<td>This is a base64 encoded PNG image which will be used as the favicon for the UAA pages</td>
</tr>
<tr>
<td><code>config.branding.footerLegalText</code></td>
<td><code>String</code></td>
<td>This text appears on the footer of all UAA pages</td>
</tr>
<tr>
<td><code>config.branding.footerLinks.*</code></td>
<td><code>Array</code></td>
<td>These links (Map<String,String>) appear on the footer of all UAA pages. You may choose to add multiple urls for things like Support, Terms of Service etc.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedOrigins</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Origin header</code>. Indicates whether a resource can be shared based by returning the value of the Origin request header, &quot;*&quot;, or &quot;null&quot; in the response.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedOriginPatterns</code></td>
<td><code>Array</code></td>
<td>Indicates whether a resource can be shared based by returning the value of the Origin patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedUris</code></td>
<td><code>Array</code></td>
<td>The list of allowed URIs.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedUriPatterns</code></td>
<td><code>Array</code></td>
<td>The list of allowed URI patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedHeaders</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Headers</code> header. Indicates which header field names can be used during the actual response</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedMethods</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Methods</code> header. Indicates which method will be used in the actual request as part of the preflight request.</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.allowedCredentials</code></td>
<td><code>Boolean</code></td>
<td><code>Access-Control-Allow-Credentials</code> header. Indicates whether the response to request can be exposed when the omit credentials flag is unset. When part of the response to a preflight request it indicates that the actual request can include user credentials..</td>
</tr>
<tr>
<td><code>config.corsPolicy.defaultConfiguration.maxAge</code></td>
<td><code>Number</code></td>
<td><code>Access-Control-Max-Age</code> header. Indicates how long the results of a preflight request can be cached in a preflight result cache</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedOrigins</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Origin header</code>. Indicates whether a resource can be shared based by returning the value of the Origin request header, &quot;*&quot;, or &quot;null&quot; in the response.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedOriginPatterns</code></td>
<td><code>Array</code></td>
<td>Indicates whether a resource can be shared based by returning the value of the Origin patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedUris</code></td>
<td><code>Array</code></td>
<td>The list of allowed URIs.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedUriPatterns</code></td>
<td><code>Array</code></td>
<td>The list of allowed URI patterns.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedHeaders</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Headers</code> header. Indicates which header field names can be used during the actual response</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedMethods</code></td>
<td><code>Array</code></td>
<td><code>Access-Control-Allow-Methods</code> header. Indicates which method will be used in the actual request as part of the preflight request.</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.allowedCredentials</code></td>
<td><code>Boolean</code></td>
<td><code>Access-Control-Allow-Credentials</code> header. Indicates whether the response to request can be exposed when the omit credentials flag is unset. When part of the response to a preflight request it indicates that the actual request can include user credentials..</td>
</tr>
<tr>
<td><code>config.corsPolicy.xhrConfiguration.maxAge</code></td>
<td><code>Number</code></td>
<td><code>Access-Control-Max-Age</code> header. Indicates how long the results of a preflight request can be cached in a preflight result cache</td>
</tr>
<tr>
<td><code>config.userConfig.defaultGroups</code></td>
<td><code>Array</code></td>
<td>Default groups each user in the zone inherits.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (zone admins can only delete their own zone)</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Zone does not exist</td>
</tr>
</tbody></table>
<h1 id='identity-providers-82425'>Identity Providers</h1><h2 id='create-77245'>Create</h2><h3 id='saml-71055'>SAML</h3>
<pre><code class="bash">$ curl &#39;http://localhost/identity-providers?rawConfig=true&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer f4bafdc554aa41ee90b4ed25126edc19&#39; \
    -d &#39;{
  &quot;type&quot; : &quot;saml&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;externalGroupsWhitelist&quot; : [ ],
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;metaDataLocation&quot; : &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\&quot;urn:oasis:names:tc:SAML:2.0:metadata\&quot; entityID=\&quot;http://www.okta.com/SAML\&quot;&gt;&lt;md:IDPSSODescriptor WantAuthnRequestsSigned=\&quot;true\&quot; protocolSupportEnumeration=\&quot;urn:oasis:names:tc:SAML:2.0:protocol\&quot;&gt;&lt;md:KeyDescriptor use=\&quot;signing\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\&quot;http://www.w3.org/2000/09/xmldsig#\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmTCCAgKgAwIBAgIGAUPATqmEMA0GCSqGSIb3DQEBBQUAMIGPMQswCQYDVQQGEwJVUzETMBEG\nA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEU\nMBIGA1UECwwLU1NPUHJvdmlkZXIxEDAOBgNVBAMMB1Bpdm90YWwxHDAaBgkqhkiG9w0BCQEWDWlu\nZm9Ab2t0YS5jb20wHhcNMTQwMTIzMTgxMjM3WhcNNDQwMTIzMTgxMzM3WjCBjzELMAkGA1UEBhMC\nVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoM\nBE9rdGExFDASBgNVBAsMC1NTT1Byb3ZpZGVyMRAwDgYDVQQDDAdQaXZvdGFsMRwwGgYJKoZIhvcN\nAQkBFg1pbmZvQG9rdGEuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCeil67/TLOiTZU\nWWgW2XEGgFZ94bVO90v5J1XmcHMwL8v5Z/8qjdZLpGdwI7Ph0CyXMMNklpaR/Ljb8fsls3amdT5O\nBw92Zo8ulcpjw2wuezTwL0eC0wY/GQDAZiXL59npE6U+fH1lbJIq92hx0HJSru/0O1q3+A/+jjZL\n3tL/SwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAI5BoWZoH6Mz9vhypZPOJCEKa/K+biZQsA4Zqsuk\nvvphhSERhqk/Nv76Vkl8uvJwwHbQrR9KJx4L3PRkGCG24rix71jEuXVGZUsDNM3CUKnARx4MEab6\nGFHNkZ6DmoT/PFagngecHu+EwmuDtaG0rEkFrARwe+d8Ru0BN558abFb&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:SingleSignOnService Binding=\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\&quot; Location=\&quot;https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\&quot;/&gt;&lt;md:SingleSignOnService Binding=\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\&quot; Location=\&quot;https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\&quot;/&gt;&lt;/md:IDPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\n&quot;,
    &quot;nameID&quot; : &quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot;,
    &quot;assertionConsumerIndex&quot; : 0,
    &quot;metadataTrustCheck&quot; : false,
    &quot;showSamlLink&quot; : false,
    &quot;linkText&quot; : &quot;IDPEndpointsMockTests Saml Provider:SAML&quot;,
    &quot;iconUrl&quot; : null,
    &quot;groupMappingMode&quot; : &quot;EXPLICITLY_MAPPED&quot;,
    &quot;skipSslValidation&quot; : false,
    &quot;authnContext&quot; : null,
    &quot;socketFactoryClassName&quot; : null
  },
  &quot;originKey&quot; : &quot;SAML&quot;,
  &quot;name&quot; : &quot;SAML name&quot;,
  &quot;active&quot; : true
}&#39;
</code></pre>

<pre><code class="http">POST /identity-providers?rawConfig=true HTTP/1.1
Content-Type: application/json
Authorization: Bearer f4bafdc554aa41ee90b4ed25126edc19
Host: localhost
Content-Length: 2718

{
  &quot;type&quot; : &quot;saml&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;externalGroupsWhitelist&quot; : [ ],
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;metaDataLocation&quot; : &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\&quot;urn:oasis:names:tc:SAML:2.0:metadata\&quot; entityID=\&quot;http://www.okta.com/SAML\&quot;&gt;&lt;md:IDPSSODescriptor WantAuthnRequestsSigned=\&quot;true\&quot; protocolSupportEnumeration=\&quot;urn:oasis:names:tc:SAML:2.0:protocol\&quot;&gt;&lt;md:KeyDescriptor use=\&quot;signing\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\&quot;http://www.w3.org/2000/09/xmldsig#\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmTCCAgKgAwIBAgIGAUPATqmEMA0GCSqGSIb3DQEBBQUAMIGPMQswCQYDVQQGEwJVUzETMBEG\nA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEU\nMBIGA1UECwwLU1NPUHJvdmlkZXIxEDAOBgNVBAMMB1Bpdm90YWwxHDAaBgkqhkiG9w0BCQEWDWlu\nZm9Ab2t0YS5jb20wHhcNMTQwMTIzMTgxMjM3WhcNNDQwMTIzMTgxMzM3WjCBjzELMAkGA1UEBhMC\nVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoM\nBE9rdGExFDASBgNVBAsMC1NTT1Byb3ZpZGVyMRAwDgYDVQQDDAdQaXZvdGFsMRwwGgYJKoZIhvcN\nAQkBFg1pbmZvQG9rdGEuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCeil67/TLOiTZU\nWWgW2XEGgFZ94bVO90v5J1XmcHMwL8v5Z/8qjdZLpGdwI7Ph0CyXMMNklpaR/Ljb8fsls3amdT5O\nBw92Zo8ulcpjw2wuezTwL0eC0wY/GQDAZiXL59npE6U+fH1lbJIq92hx0HJSru/0O1q3+A/+jjZL\n3tL/SwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAI5BoWZoH6Mz9vhypZPOJCEKa/K+biZQsA4Zqsuk\nvvphhSERhqk/Nv76Vkl8uvJwwHbQrR9KJx4L3PRkGCG24rix71jEuXVGZUsDNM3CUKnARx4MEab6\nGFHNkZ6DmoT/PFagngecHu+EwmuDtaG0rEkFrARwe+d8Ru0BN558abFb&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:SingleSignOnService Binding=\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\&quot; Location=\&quot;https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\&quot;/&gt;&lt;md:SingleSignOnService Binding=\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\&quot; Location=\&quot;https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\&quot;/&gt;&lt;/md:IDPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\n&quot;,
    &quot;nameID&quot; : &quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot;,
    &quot;assertionConsumerIndex&quot; : 0,
    &quot;metadataTrustCheck&quot; : false,
    &quot;showSamlLink&quot; : false,
    &quot;linkText&quot; : &quot;IDPEndpointsMockTests Saml Provider:SAML&quot;,
    &quot;iconUrl&quot; : null,
    &quot;groupMappingMode&quot; : &quot;EXPLICITLY_MAPPED&quot;,
    &quot;skipSslValidation&quot; : false,
    &quot;authnContext&quot; : null,
    &quot;socketFactoryClassName&quot; : null
  },
  &quot;originKey&quot; : &quot;SAML&quot;,
  &quot;name&quot; : &quot;SAML name&quot;,
  &quot;active&quot; : true
}
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 2967

{
  &quot;type&quot; : &quot;saml&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;additionalConfiguration&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;externalGroupsWhitelist&quot; : [ ],
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;metaDataLocation&quot; : &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\&quot;urn:oasis:names:tc:SAML:2.0:metadata\&quot; entityID=\&quot;http://www.okta.com/SAML\&quot;&gt;&lt;md:IDPSSODescriptor WantAuthnRequestsSigned=\&quot;true\&quot; protocolSupportEnumeration=\&quot;urn:oasis:names:tc:SAML:2.0:protocol\&quot;&gt;&lt;md:KeyDescriptor use=\&quot;signing\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\&quot;http://www.w3.org/2000/09/xmldsig#\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmTCCAgKgAwIBAgIGAUPATqmEMA0GCSqGSIb3DQEBBQUAMIGPMQswCQYDVQQGEwJVUzETMBEG\nA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEU\nMBIGA1UECwwLU1NPUHJvdmlkZXIxEDAOBgNVBAMMB1Bpdm90YWwxHDAaBgkqhkiG9w0BCQEWDWlu\nZm9Ab2t0YS5jb20wHhcNMTQwMTIzMTgxMjM3WhcNNDQwMTIzMTgxMzM3WjCBjzELMAkGA1UEBhMC\nVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoM\nBE9rdGExFDASBgNVBAsMC1NTT1Byb3ZpZGVyMRAwDgYDVQQDDAdQaXZvdGFsMRwwGgYJKoZIhvcN\nAQkBFg1pbmZvQG9rdGEuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCeil67/TLOiTZU\nWWgW2XEGgFZ94bVO90v5J1XmcHMwL8v5Z/8qjdZLpGdwI7Ph0CyXMMNklpaR/Ljb8fsls3amdT5O\nBw92Zo8ulcpjw2wuezTwL0eC0wY/GQDAZiXL59npE6U+fH1lbJIq92hx0HJSru/0O1q3+A/+jjZL\n3tL/SwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAI5BoWZoH6Mz9vhypZPOJCEKa/K+biZQsA4Zqsuk\nvvphhSERhqk/Nv76Vkl8uvJwwHbQrR9KJx4L3PRkGCG24rix71jEuXVGZUsDNM3CUKnARx4MEab6\nGFHNkZ6DmoT/PFagngecHu+EwmuDtaG0rEkFrARwe+d8Ru0BN558abFb&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:SingleSignOnService Binding=\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\&quot; Location=\&quot;https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\&quot;/&gt;&lt;md:SingleSignOnService Binding=\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\&quot; Location=\&quot;https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\&quot;/&gt;&lt;/md:IDPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\n&quot;,
    &quot;idpEntityAlias&quot; : &quot;SAML&quot;,
    &quot;zoneId&quot; : &quot;uaa&quot;,
    &quot;nameID&quot; : &quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot;,
    &quot;assertionConsumerIndex&quot; : 0,
    &quot;metadataTrustCheck&quot; : false,
    &quot;showSamlLink&quot; : false,
    &quot;linkText&quot; : &quot;IDPEndpointsMockTests Saml Provider:SAML&quot;,
    &quot;iconUrl&quot; : null,
    &quot;groupMappingMode&quot; : &quot;EXPLICITLY_MAPPED&quot;,
    &quot;skipSslValidation&quot; : false,
    &quot;authnContext&quot; : null,
    &quot;socketFactoryClassName&quot; : null
  },
  &quot;id&quot; : &quot;76905a39-f00d-47a6-89ed-7080ff731199&quot;,
  &quot;originKey&quot; : &quot;SAML&quot;,
  &quot;name&quot; : &quot;SAML name&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286162997,
  &quot;last_modified&quot; : 1501286162997,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> or <code>idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code>config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>config.storeCustomAttributes</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code>saml</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>A unique alias for the SAML provider</td>
</tr>
<tr>
<td>config.skipSslValidation</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>Set to true, to skip SSL validation when fetching metadata.</td>
</tr>
<tr>
<td>config.storeCustomAttributes</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td>config.metaDataLocation</td>
<td>String</td>
<td>Required</td>
<td>SAML Metadata - either an XML string or a URL that will deliver XML content</td>
</tr>
<tr>
<td>config.nameID</td>
<td>String</td>
<td>Optional</td>
<td>The name ID to use for the username, default is &quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;.</td>
</tr>
<tr>
<td>config.assertionConsumerIndex</td>
<td>Number</td>
<td>Optional</td>
<td>SAML assertion consumer index, default is 0</td>
</tr>
<tr>
<td>config.metadataTrustCheck</td>
<td>Boolean</td>
<td>Optional</td>
<td>Should metadata be validated, defaults to false</td>
</tr>
<tr>
<td>config.showSamlLink</td>
<td>Boolean</td>
<td>Optional</td>
<td>Should the SAML login link be displayed on the login page, defaults to false</td>
</tr>
<tr>
<td>config.linkText</td>
<td>String</td>
<td>Required if the <code>showSamlLink</code> is set to true</td>
<td>The link text for the SAML IDP on the login page</td>
</tr>
<tr>
<td>config.groupMappingMode</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;EXPLICITLY_MAPPED&quot;</code>)</td>
<td>Either <code>EXPLICITLY_MAPPED</code> in order to map external groups to OAuth scopes using the group mappings, or <code>AS_SCOPES</code> to use SAML group names as scopes.</td>
</tr>
<tr>
<td>config.iconUrl</td>
<td>String</td>
<td>Optional</td>
<td>Reserved for future use</td>
</tr>
<tr>
<td>config.socketFactoryClassName</td>
<td>Null</td>
<td>Optional</td>
<td>Either <code>&quot;org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory&quot;</code> or<code>&quot;org.apache.commons.httpclient.contrib.ssl.EasySSLProtocolSocketFactory&quot;</code> depending on if the <code>metaDataLocation</code> of type <code>URL</code> is HTTP or HTTPS, respectively</td>
</tr>
<tr>
<td>config.authnContext</td>
<td>Array</td>
<td>Optional</td>
<td>List of AuthnContextClassRef to include in the SAMLRequest. If not specified no AuthnContext will be requested.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Determines whether or not shadow users must be created before login by an administrator.</td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>Object</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.given_name</td>
<td>String</td>
<td>Optional</td>
<td>Map <code>given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Optional</td>
<td>Map <code>family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.email</td>
<td>String</td>
<td>Optional</td>
<td>Map <code>email</code> to the attribute for email in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Optional</td>
<td>Map <code>phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td><code>config.providerDescription</code></td>
<td><code>String</code></td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td><code>config.emailDomain</code></td>
<td><code>Array</code></td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td><code>active</code></td>
<td><code>Boolean</code></td>
<td>Defaults to true.</td>
</tr>
<tr>
<td><code>config.addShadowUserOnLogin</code></td>
<td><code>Boolean</code></td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td><code>config.storeCustomAttributes</code></td>
<td><code>Boolean</code></td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>String</code></td>
<td><code>saml</code></td>
</tr>
<tr>
<td><code>originKey</code></td>
<td><code>String</code></td>
<td>A unique alias for the SAML provider</td>
</tr>
<tr>
<td><code>config.skipSslValidation</code></td>
<td><code>Boolean</code></td>
<td>Set to true, to skip SSL validation when fetching metadata.</td>
</tr>
<tr>
<td><code>config.storeCustomAttributes</code></td>
<td><code>Boolean</code></td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td><code>config.metaDataLocation</code></td>
<td><code>String</code></td>
<td>SAML Metadata - either an XML string or a URL that will deliver XML content</td>
</tr>
<tr>
<td><code>config.nameID</code></td>
<td><code>String</code></td>
<td>The name ID to use for the username, default is &quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;.</td>
</tr>
<tr>
<td><code>config.assertionConsumerIndex</code></td>
<td><code>Number</code></td>
<td>SAML assertion consumer index, default is 0</td>
</tr>
<tr>
<td><code>config.metadataTrustCheck</code></td>
<td><code>Boolean</code></td>
<td>Should metadata be validated, defaults to false</td>
</tr>
<tr>
<td><code>config.showSamlLink</code></td>
<td><code>Boolean</code></td>
<td>Should the SAML login link be displayed on the login page, defaults to false</td>
</tr>
<tr>
<td><code>config.linkText</code></td>
<td><code>String</code></td>
<td>The link text for the SAML IDP on the login page</td>
</tr>
<tr>
<td><code>config.groupMappingMode</code></td>
<td><code>String</code></td>
<td>Either <code>EXPLICITLY_MAPPED</code> in order to map external groups to OAuth scopes using the group mappings, or <code>AS_SCOPES</code> to use SAML group names as scopes.</td>
</tr>
<tr>
<td><code>config.iconUrl</code></td>
<td><code>String</code></td>
<td>Reserved for future use</td>
</tr>
<tr>
<td><code>config.socketFactoryClassName</code></td>
<td><code>Null</code></td>
<td>Either <code>&quot;org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory&quot;</code> or<code>&quot;org.apache.commons.httpclient.contrib.ssl.EasySSLProtocolSocketFactory&quot;</code> depending on if the <code>metaDataLocation</code> of type <code>URL</code> is HTTP or HTTPS, respectively</td>
</tr>
<tr>
<td><code>config.authnContext</code></td>
<td><code>Array</code></td>
<td>List of AuthnContextClassRef to include in the SAMLRequest. If not specified no AuthnContext will be requested.</td>
</tr>
<tr>
<td><code>config.addShadowUserOnLogin</code></td>
<td><code>Boolean</code></td>
<td>Determines whether or not shadow users must be created before login by an administrator.</td>
</tr>
<tr>
<td><code>config.attributeMappings</code></td>
<td><code>Object</code></td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td><code>config.attributeMappings.given_name</code></td>
<td><code>String</code></td>
<td>Map <code>given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td><code>config.attributeMappings.family_name</code></td>
<td><code>String</code></td>
<td>Map <code>family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td><code>config.attributeMappings.email</code></td>
<td><code>String</code></td>
<td>Map <code>email</code> to the attribute for email in the provider assertion.</td>
</tr>
<tr>
<td><code>config.attributeMappings.phone_number</code></td>
<td><code>String</code></td>
<td>Map <code>phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
<tr>
<td><code>version</code></td>
<td><code>Number</code></td>
<td>Version of the identity provider data. Clients can use this to protect against conflicting updates</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
<tr>
<td><code>config.additionalConfiguration</code></td>
<td><code>Object</code></td>
<td>(Unused.)</td>
</tr>
<tr>
<td><code>identityZoneId</code></td>
<td><code>String</code></td>
<td>Set to the zone that this provider will be active in. Determined either by the Host header or the zone switch header.</td>
</tr>
<tr>
<td><code>created</code></td>
<td><code>Number</code></td>
<td>UAA sets the creation date</td>
</tr>
<tr>
<td><code>last_modified</code></td>
<td><code>Number</code></td>
<td>UAA sets the modification date</td>
</tr>
<tr>
<td><code>config.idpEntityAlias</code></td>
<td><code>String</code></td>
<td>This will be set to <code>originKey</code></td>
</tr>
<tr>
<td><code>config.zoneId</code></td>
<td><code>String</code></td>
<td>This will be set to the ID of the zone where the provider is being created</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - Provider with same origin and zone id exists</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid configuration</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
</tbody></table>
<h3 id='ldap-5402'>LDAP</h3>
<p>LDAP supports several different configurations. The most common one is that authentication is done using a search and bind strategy.
The available strategies for authentication are</p>

<ul>
<li>Bind authentication - the UAA uses the user&#39;s credentials to construct a DN and attempt a BIND operation to the LDAP server</li>
<li>Search and Bind authentication - We take the username and password, search for the user DN, and attempt a bind operation to the LDAP server</li>
<li>Search and Compare authentication - We take the username and password, search for the user DN and the user password, and perform a comparison of the provided password with the LDAP password</li>
</ul>

<p>Group integration also supports different strategies</p>

<ul>
<li>No group integration - LDAP is only used for authentication</li>
<li>Map a group to a UAA scope - using external group mappings</li>
<li>LDAP groups contain scopes - an entry in the LDAP record contains UAA scope names</li>
</ul>
<h4 id='ldap-simple-bind-89499'>LDAP Simple Bind</h4>
<pre><code class="bash">$ curl &#39;http://localhost/identity-providers?rawConfig=true&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;X-Identity-Zone-Subdomain: ym7fgjpf&#39; \
    -H &#39;Authorization: Bearer cf912d80be454130882250199e8fbc5e&#39; \
    -d &#39;{
  &quot;type&quot; : &quot;ldap&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;externalGroupsWhitelist&quot; : [ ],
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;ldapProfileFile&quot; : &quot;ldap/ldap-simple-bind.xml&quot;,
    &quot;baseUrl&quot; : &quot;ldap://localhost:23389&quot;,
    &quot;referral&quot; : null,
    &quot;skipSSLVerification&quot; : false,
    &quot;userDNPattern&quot; : &quot;cn={0},ou=Users,dc=test,dc=com&quot;,
    &quot;userDNPatternDelimiter&quot; : &quot;;&quot;,
    &quot;bindUserDn&quot; : null,
    &quot;userSearchBase&quot; : null,
    &quot;userSearchFilter&quot; : null,
    &quot;passwordAttributeName&quot; : null,
    &quot;passwordEncoder&quot; : null,
    &quot;localPasswordCompare&quot; : null,
    &quot;mailAttributeName&quot; : &quot;mail&quot;,
    &quot;mailSubstitute&quot; : null,
    &quot;mailSubstituteOverridesLdap&quot; : false,
    &quot;ldapGroupFile&quot; : &quot;ldap/ldap-groups-null.xml&quot;,
    &quot;groupSearchBase&quot; : null,
    &quot;groupSearchFilter&quot; : null,
    &quot;groupsIgnorePartialResults&quot; : null,
    &quot;autoAddGroups&quot; : true,
    &quot;groupSearchSubTree&quot; : true,
    &quot;maxGroupSearchDepth&quot; : 10,
    &quot;groupRoleAttribute&quot; : null,
    &quot;tlsConfiguration&quot; : &quot;none&quot;
  },
  &quot;originKey&quot; : &quot;ldap&quot;,
  &quot;name&quot; : &quot;ldap name&quot;,
  &quot;active&quot; : true
}&#39;
</code></pre>

<pre><code class="http">POST /identity-providers?rawConfig=true HTTP/1.1
Content-Type: application/json
X-Identity-Zone-Subdomain: ym7fgjpf
Authorization: Bearer cf912d80be454130882250199e8fbc5e
Host: localhost
Content-Length: 1156

{
  &quot;type&quot; : &quot;ldap&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;externalGroupsWhitelist&quot; : [ ],
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;ldapProfileFile&quot; : &quot;ldap/ldap-simple-bind.xml&quot;,
    &quot;baseUrl&quot; : &quot;ldap://localhost:23389&quot;,
    &quot;referral&quot; : null,
    &quot;skipSSLVerification&quot; : false,
    &quot;userDNPattern&quot; : &quot;cn={0},ou=Users,dc=test,dc=com&quot;,
    &quot;userDNPatternDelimiter&quot; : &quot;;&quot;,
    &quot;bindUserDn&quot; : null,
    &quot;userSearchBase&quot; : null,
    &quot;userSearchFilter&quot; : null,
    &quot;passwordAttributeName&quot; : null,
    &quot;passwordEncoder&quot; : null,
    &quot;localPasswordCompare&quot; : null,
    &quot;mailAttributeName&quot; : &quot;mail&quot;,
    &quot;mailSubstitute&quot; : null,
    &quot;mailSubstituteOverridesLdap&quot; : false,
    &quot;ldapGroupFile&quot; : &quot;ldap/ldap-groups-null.xml&quot;,
    &quot;groupSearchBase&quot; : null,
    &quot;groupSearchFilter&quot; : null,
    &quot;groupsIgnorePartialResults&quot; : null,
    &quot;autoAddGroups&quot; : true,
    &quot;groupSearchSubTree&quot; : true,
    &quot;maxGroupSearchDepth&quot; : 10,
    &quot;groupRoleAttribute&quot; : null,
    &quot;tlsConfiguration&quot; : &quot;none&quot;
  },
  &quot;originKey&quot; : &quot;ldap&quot;,
  &quot;name&quot; : &quot;ldap name&quot;,
  &quot;active&quot; : true
}
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 1357

{
  &quot;type&quot; : &quot;ldap&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;additionalConfiguration&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;externalGroupsWhitelist&quot; : [ ],
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;ldapProfileFile&quot; : &quot;ldap/ldap-simple-bind.xml&quot;,
    &quot;baseUrl&quot; : &quot;ldap://localhost:23389&quot;,
    &quot;referral&quot; : null,
    &quot;skipSSLVerification&quot; : false,
    &quot;userDNPattern&quot; : &quot;cn={0},ou=Users,dc=test,dc=com&quot;,
    &quot;userDNPatternDelimiter&quot; : &quot;;&quot;,
    &quot;bindUserDn&quot; : null,
    &quot;userSearchBase&quot; : null,
    &quot;userSearchFilter&quot; : null,
    &quot;passwordAttributeName&quot; : null,
    &quot;passwordEncoder&quot; : null,
    &quot;localPasswordCompare&quot; : null,
    &quot;mailAttributeName&quot; : &quot;mail&quot;,
    &quot;mailSubstitute&quot; : null,
    &quot;mailSubstituteOverridesLdap&quot; : false,
    &quot;ldapGroupFile&quot; : &quot;ldap/ldap-groups-null.xml&quot;,
    &quot;groupSearchBase&quot; : null,
    &quot;groupSearchFilter&quot; : null,
    &quot;groupsIgnorePartialResults&quot; : null,
    &quot;autoAddGroups&quot; : true,
    &quot;groupSearchSubTree&quot; : true,
    &quot;maxGroupSearchDepth&quot; : 10,
    &quot;groupRoleAttribute&quot; : null,
    &quot;tlsConfiguration&quot; : &quot;none&quot;
  },
  &quot;id&quot; : &quot;5f99aa0b-4a98-4c00-b6fc-77bbad9cb67b&quot;,
  &quot;originKey&quot; : &quot;ldap&quot;,
  &quot;name&quot; : &quot;ldap name&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286166419,
  &quot;last_modified&quot; : 1501286166419,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;ym7fgjpf&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> or <code>idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code>config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>config.storeCustomAttributes</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code>ldap</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>Origin key must be <code>ldap</code> for an LDAP provider</td>
</tr>
<tr>
<td>config.ldapProfileFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for configuring the LDAP authentication. Options are: <code>ldap/ldap-simple-bind.xml</code>, <code>ldap/ldap-search-and-bind.xml</code>, <code>ldap/ldap-search-and-compare.xml</code></td>
</tr>
<tr>
<td>config.ldapGroupFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for group integration. Options are: <code>ldap/ldap-groups-null.xml</code>, <code>ldap/ldap-groups-as-scopes.xml</code>, <code>ldap/ldap-groups-map-to-scopes.xml</code></td>
</tr>
<tr>
<td>config.baseUrl</td>
<td>String</td>
<td>Required</td>
<td>The URL to the ldap server, must start with <code>ldap://</code> or <code>ldaps://</code></td>
</tr>
<tr>
<td>config.mailAttributeName</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;mail&quot;</code>)</td>
<td>The name of the LDAP attribute that contains the user&#39;s email address</td>
</tr>
<tr>
<td>config.mailSubstitute</td>
<td>String</td>
<td>Optional</td>
<td>Defines an email pattern containing a <code>{0}</code> to generate an email address for an LDAP user during authentication</td>
</tr>
<tr>
<td>config.mailSubstituteOverridesLdap</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>Set to true if you wish to override an LDAP user email address with a generated one</td>
</tr>
<tr>
<td>config.skipSSLVerification</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>Skips validation of the LDAP cert if set to true.</td>
</tr>
<tr>
<td>config.tlsConfiguration</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;none&quot;</code>)</td>
<td>Sets the StartTLS options, valid values are <code>none</code>, <code>simple</code> or <code>external</code></td>
</tr>
<tr>
<td>config.referral</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;follow&quot;</code>)</td>
<td>Configures the UAA LDAP referral behavior. The following values are possible:  <ul><li>follow &rarr; Referrals are followed</li>  <li>ignore &rarr; Referrals are ignored and the partial result is returned</li>  <li>throw  &rarr; An error is thrown and the authentication is aborted</li></ul>  Reference: <a href="http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html">http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html</a></td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>Object</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.first_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;givenname&quot;</code>)</td>
<td>Map <code>given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;sn&quot;</code>)</td>
<td>Map <code>family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;telephonenumber&quot;</code>)</td>
<td>Map <code>phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>config.storeCustomAttributes</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code>ldap</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>Origin key must be <code>ldap</code> for an LDAP provider</td>
</tr>
<tr>
<td>config.ldapProfileFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for configuring the LDAP authentication. Options are: <code>ldap/ldap-simple-bind.xml</code>, <code>ldap/ldap-search-and-bind.xml</code>, <code>ldap/ldap-search-and-compare.xml</code></td>
</tr>
<tr>
<td>config.ldapGroupFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for group integration. Options are: <code>ldap/ldap-groups-null.xml</code>, <code>ldap/ldap-groups-as-scopes.xml</code>, <code>ldap/ldap-groups-map-to-scopes.xml</code></td>
</tr>
<tr>
<td>config.baseUrl</td>
<td>String</td>
<td>Required</td>
<td>The URL to the ldap server, must start with <code>ldap://</code> or <code>ldaps://</code></td>
</tr>
<tr>
<td>config.mailAttributeName</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;mail&quot;</code>)</td>
<td>The name of the LDAP attribute that contains the user&#39;s email address</td>
</tr>
<tr>
<td>config.mailSubstitute</td>
<td>String</td>
<td>Optional</td>
<td>Defines an email pattern containing a <code>{0}</code> to generate an email address for an LDAP user during authentication</td>
</tr>
<tr>
<td>config.mailSubstituteOverridesLdap</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>Set to true if you wish to override an LDAP user email address with a generated one</td>
</tr>
<tr>
<td>config.skipSSLVerification</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>Skips validation of the LDAP cert if set to true.</td>
</tr>
<tr>
<td>config.tlsConfiguration</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;none&quot;</code>)</td>
<td>Sets the StartTLS options, valid values are <code>none</code>, <code>simple</code> or <code>external</code></td>
</tr>
<tr>
<td>config.referral</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;follow&quot;</code>)</td>
<td>Configures the UAA LDAP referral behavior. The following values are possible:  <ul><li>follow &rarr; Referrals are followed</li>  <li>ignore &rarr; Referrals are ignored and the partial result is returned</li>  <li>throw  &rarr; An error is thrown and the authentication is aborted</li></ul>  Reference: <a href="http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html">http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html</a></td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>Object</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.first_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;givenname&quot;</code>)</td>
<td>Map <code>given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;sn&quot;</code>)</td>
<td>Map <code>family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;telephonenumber&quot;</code>)</td>
<td>Map <code>phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized - Missing or invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - Provider with same origin and zone id exists</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid configuration</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
</tbody></table>
<h4 id='ldap-search-and-bind-22138'>LDAP Search and Bind</h4>
<pre><code class="bash">$ curl &#39;http://localhost/identity-providers?rawConfig=true&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;X-Identity-Zone-Subdomain: wxcaakm0&#39; \
    -H &#39;Authorization: Bearer 730c8c133efc40b5969ade5eab4e8ef8&#39; \
    -d &#39;{
  &quot;type&quot; : &quot;ldap&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;externalGroupsWhitelist&quot; : [ ],
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;ldapProfileFile&quot; : &quot;ldap/ldap-search-and-bind.xml&quot;,
    &quot;baseUrl&quot; : &quot;ldap://localhost:23389&quot;,
    &quot;referral&quot; : null,
    &quot;skipSSLVerification&quot; : false,
    &quot;userDNPattern&quot; : null,
    &quot;userDNPatternDelimiter&quot; : null,
    &quot;bindUserDn&quot; : &quot;cn=admin,ou=Users,dc=test,dc=com&quot;,
    &quot;bindPassword&quot; : &quot;adminsecret&quot;,
    &quot;userSearchBase&quot; : &quot;dc=test,dc=com&quot;,
    &quot;userSearchFilter&quot; : &quot;cn={0}&quot;,
    &quot;passwordAttributeName&quot; : null,
    &quot;passwordEncoder&quot; : null,
    &quot;localPasswordCompare&quot; : null,
    &quot;mailAttributeName&quot; : &quot;mail&quot;,
    &quot;mailSubstitute&quot; : &quot;{0}@my.org&quot;,
    &quot;mailSubstituteOverridesLdap&quot; : false,
    &quot;ldapGroupFile&quot; : &quot;ldap/ldap-groups-map-to-scopes.xml&quot;,
    &quot;groupSearchBase&quot; : &quot;ou=scopes,dc=test,dc=com&quot;,
    &quot;groupSearchFilter&quot; : &quot;member={0}&quot;,
    &quot;groupsIgnorePartialResults&quot; : null,
    &quot;autoAddGroups&quot; : true,
    &quot;groupSearchSubTree&quot; : true,
    &quot;maxGroupSearchDepth&quot; : 3,
    &quot;groupRoleAttribute&quot; : null,
    &quot;tlsConfiguration&quot; : &quot;none&quot;
  },
  &quot;originKey&quot; : &quot;ldap&quot;,
  &quot;name&quot; : &quot;ldap name&quot;,
  &quot;active&quot; : true
}&#39;
</code></pre>

<pre><code class="http">POST /identity-providers?rawConfig=true HTTP/1.1
Content-Type: application/json
X-Identity-Zone-Subdomain: wxcaakm0
Authorization: Bearer 730c8c133efc40b5969ade5eab4e8ef8
Host: localhost
Content-Length: 1261

{
  &quot;type&quot; : &quot;ldap&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;externalGroupsWhitelist&quot; : [ ],
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;ldapProfileFile&quot; : &quot;ldap/ldap-search-and-bind.xml&quot;,
    &quot;baseUrl&quot; : &quot;ldap://localhost:23389&quot;,
    &quot;referral&quot; : null,
    &quot;skipSSLVerification&quot; : false,
    &quot;userDNPattern&quot; : null,
    &quot;userDNPatternDelimiter&quot; : null,
    &quot;bindUserDn&quot; : &quot;cn=admin,ou=Users,dc=test,dc=com&quot;,
    &quot;bindPassword&quot; : &quot;adminsecret&quot;,
    &quot;userSearchBase&quot; : &quot;dc=test,dc=com&quot;,
    &quot;userSearchFilter&quot; : &quot;cn={0}&quot;,
    &quot;passwordAttributeName&quot; : null,
    &quot;passwordEncoder&quot; : null,
    &quot;localPasswordCompare&quot; : null,
    &quot;mailAttributeName&quot; : &quot;mail&quot;,
    &quot;mailSubstitute&quot; : &quot;{0}@my.org&quot;,
    &quot;mailSubstituteOverridesLdap&quot; : false,
    &quot;ldapGroupFile&quot; : &quot;ldap/ldap-groups-map-to-scopes.xml&quot;,
    &quot;groupSearchBase&quot; : &quot;ou=scopes,dc=test,dc=com&quot;,
    &quot;groupSearchFilter&quot; : &quot;member={0}&quot;,
    &quot;groupsIgnorePartialResults&quot; : null,
    &quot;autoAddGroups&quot; : true,
    &quot;groupSearchSubTree&quot; : true,
    &quot;maxGroupSearchDepth&quot; : 3,
    &quot;groupRoleAttribute&quot; : null,
    &quot;tlsConfiguration&quot; : &quot;none&quot;
  },
  &quot;originKey&quot; : &quot;ldap&quot;,
  &quot;name&quot; : &quot;ldap name&quot;,
  &quot;active&quot; : true
}
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 1426

{
  &quot;type&quot; : &quot;ldap&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;additionalConfiguration&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;externalGroupsWhitelist&quot; : [ ],
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;ldapProfileFile&quot; : &quot;ldap/ldap-search-and-bind.xml&quot;,
    &quot;baseUrl&quot; : &quot;ldap://localhost:23389&quot;,
    &quot;referral&quot; : null,
    &quot;skipSSLVerification&quot; : false,
    &quot;userDNPattern&quot; : null,
    &quot;userDNPatternDelimiter&quot; : null,
    &quot;bindUserDn&quot; : &quot;cn=admin,ou=Users,dc=test,dc=com&quot;,
    &quot;userSearchBase&quot; : &quot;dc=test,dc=com&quot;,
    &quot;userSearchFilter&quot; : &quot;cn={0}&quot;,
    &quot;passwordAttributeName&quot; : null,
    &quot;passwordEncoder&quot; : null,
    &quot;localPasswordCompare&quot; : null,
    &quot;mailAttributeName&quot; : &quot;mail&quot;,
    &quot;mailSubstitute&quot; : &quot;{0}@my.org&quot;,
    &quot;mailSubstituteOverridesLdap&quot; : false,
    &quot;ldapGroupFile&quot; : &quot;ldap/ldap-groups-map-to-scopes.xml&quot;,
    &quot;groupSearchBase&quot; : &quot;ou=scopes,dc=test,dc=com&quot;,
    &quot;groupSearchFilter&quot; : &quot;member={0}&quot;,
    &quot;groupsIgnorePartialResults&quot; : null,
    &quot;autoAddGroups&quot; : true,
    &quot;groupSearchSubTree&quot; : true,
    &quot;maxGroupSearchDepth&quot; : 3,
    &quot;groupRoleAttribute&quot; : null,
    &quot;tlsConfiguration&quot; : &quot;none&quot;
  },
  &quot;id&quot; : &quot;02ef02d0-b766-4384-a435-0ab389451de1&quot;,
  &quot;originKey&quot; : &quot;ldap&quot;,
  &quot;name&quot; : &quot;ldap name&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286163648,
  &quot;last_modified&quot; : 1501286163648,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;wxcaakm0&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> or <code>idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code>config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>config.storeCustomAttributes</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code>ldap</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>Origin key must be <code>ldap</code> for an LDAP provider</td>
</tr>
<tr>
<td>config.ldapProfileFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for configuring the LDAP authentication. Options are: <code>ldap/ldap-simple-bind.xml</code>, <code>ldap/ldap-search-and-bind.xml</code>, <code>ldap/ldap-search-and-compare.xml</code></td>
</tr>
<tr>
<td>config.ldapGroupFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for group integration. Options are: <code>ldap/ldap-groups-null.xml</code>, <code>ldap/ldap-groups-as-scopes.xml</code>, <code>ldap/ldap-groups-map-to-scopes.xml</code></td>
</tr>
<tr>
<td>config.baseUrl</td>
<td>String</td>
<td>Required</td>
<td>The URL to the ldap server, must start with <code>ldap://</code> or <code>ldaps://</code></td>
</tr>
<tr>
<td>config.bindPassword</td>
<td>String</td>
<td>Required</td>
<td>Used with <code>search-and-bind</code> and <code>search-and-compare</code>. Password for the LDAP ID that performs a search of the LDAP tree for user information.</td>
</tr>
<tr>
<td>config.mailAttributeName</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;mail&quot;</code>)</td>
<td>The name of the LDAP attribute that contains the user&#39;s email address</td>
</tr>
<tr>
<td>config.mailSubstitute</td>
<td>String</td>
<td>Optional</td>
<td>Defines an email pattern containing a <code>{0}</code> to generate an email address for an LDAP user during authentication</td>
</tr>
<tr>
<td>config.mailSubstituteOverridesLdap</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>Set to true if you wish to override an LDAP user email address with a generated one</td>
</tr>
<tr>
<td>config.skipSSLVerification</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>Skips validation of the LDAP cert if set to true.</td>
</tr>
<tr>
<td>config.tlsConfiguration</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;none&quot;</code>)</td>
<td>Sets the StartTLS options, valid values are <code>none</code>, <code>simple</code> or <code>external</code></td>
</tr>
<tr>
<td>config.referral</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;follow&quot;</code>)</td>
<td>Configures the UAA LDAP referral behavior. The following values are possible:  <ul><li>follow &rarr; Referrals are followed</li>  <li>ignore &rarr; Referrals are ignored and the partial result is returned</li>  <li>throw  &rarr; An error is thrown and the authentication is aborted</li></ul>  Reference: <a href="http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html">http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html</a></td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>Object</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.first_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;givenname&quot;</code>)</td>
<td>Map <code>given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;sn&quot;</code>)</td>
<td>Map <code>family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;telephonenumber&quot;</code>)</td>
<td>Map <code>phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
<tr>
<td>config.bindPassword</td>
<td>String</td>
<td>Required</td>
<td>Used with <code>search-and-bind</code> and <code>search-and-compare</code>. Password for the LDAP ID that performs a search of the LDAP tree for user information.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>config.storeCustomAttributes</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code>ldap</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>Origin key must be <code>ldap</code> for an LDAP provider</td>
</tr>
<tr>
<td>config.ldapProfileFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for configuring the LDAP authentication. Options are: <code>ldap/ldap-simple-bind.xml</code>, <code>ldap/ldap-search-and-bind.xml</code>, <code>ldap/ldap-search-and-compare.xml</code></td>
</tr>
<tr>
<td>config.ldapGroupFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for group integration. Options are: <code>ldap/ldap-groups-null.xml</code>, <code>ldap/ldap-groups-as-scopes.xml</code>, <code>ldap/ldap-groups-map-to-scopes.xml</code></td>
</tr>
<tr>
<td>config.baseUrl</td>
<td>String</td>
<td>Required</td>
<td>The URL to the ldap server, must start with <code>ldap://</code> or <code>ldaps://</code></td>
</tr>
<tr>
<td>config.bindPassword</td>
<td>String</td>
<td>Required</td>
<td>Used with <code>search-and-bind</code> and <code>search-and-compare</code>. Password for the LDAP ID that performs a search of the LDAP tree for user information.</td>
</tr>
<tr>
<td>config.mailAttributeName</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;mail&quot;</code>)</td>
<td>The name of the LDAP attribute that contains the user&#39;s email address</td>
</tr>
<tr>
<td>config.mailSubstitute</td>
<td>String</td>
<td>Optional</td>
<td>Defines an email pattern containing a <code>{0}</code> to generate an email address for an LDAP user during authentication</td>
</tr>
<tr>
<td>config.mailSubstituteOverridesLdap</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>Set to true if you wish to override an LDAP user email address with a generated one</td>
</tr>
<tr>
<td>config.skipSSLVerification</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>Skips validation of the LDAP cert if set to true.</td>
</tr>
<tr>
<td>config.tlsConfiguration</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;none&quot;</code>)</td>
<td>Sets the StartTLS options, valid values are <code>none</code>, <code>simple</code> or <code>external</code></td>
</tr>
<tr>
<td>config.referral</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;follow&quot;</code>)</td>
<td>Configures the UAA LDAP referral behavior. The following values are possible:  <ul><li>follow &rarr; Referrals are followed</li>  <li>ignore &rarr; Referrals are ignored and the partial result is returned</li>  <li>throw  &rarr; An error is thrown and the authentication is aborted</li></ul>  Reference: <a href="http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html">http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html</a></td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>Object</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.first_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;givenname&quot;</code>)</td>
<td>Map <code>given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;sn&quot;</code>)</td>
<td>Map <code>family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;telephonenumber&quot;</code>)</td>
<td>Map <code>phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
<tr>
<td>config.bindPassword</td>
<td>String</td>
<td>Required</td>
<td>Used with <code>search-and-bind</code> and <code>search-and-compare</code>. Password for the LDAP ID that performs a search of the LDAP tree for user information.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized - Missing or invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - Provider with same origin and zone id exists</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid configuration</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
</tbody></table>
<h4 id='ldap-search-and-compare-25627'>LDAP Search and Compare</h4>
<pre><code class="bash">$ curl &#39;http://localhost/identity-providers?rawConfig=true&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;X-Identity-Zone-Subdomain: jkyets5q&#39; \
    -H &#39;Authorization: Bearer 2cb10d08e72341d8af99c8371604a6f0&#39; \
    -d &#39;{
  &quot;type&quot; : &quot;ldap&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;externalGroupsWhitelist&quot; : [ ],
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;ldapProfileFile&quot; : &quot;ldap/ldap-search-and-compare.xml&quot;,
    &quot;baseUrl&quot; : &quot;ldap://localhost:23389&quot;,
    &quot;referral&quot; : null,
    &quot;skipSSLVerification&quot; : false,
    &quot;userDNPattern&quot; : null,
    &quot;userDNPatternDelimiter&quot; : null,
    &quot;bindUserDn&quot; : &quot;cn=admin,ou=Users,dc=test,dc=com&quot;,
    &quot;bindPassword&quot; : &quot;adminsecret&quot;,
    &quot;userSearchBase&quot; : &quot;dc=test,dc=com&quot;,
    &quot;userSearchFilter&quot; : &quot;cn={0}&quot;,
    &quot;passwordAttributeName&quot; : &quot;userPassword&quot;,
    &quot;passwordEncoder&quot; : &quot;org.cloudfoundry.identity.uaa.provider.ldap.DynamicPasswordComparator&quot;,
    &quot;localPasswordCompare&quot; : true,
    &quot;mailAttributeName&quot; : &quot;mail&quot;,
    &quot;mailSubstitute&quot; : null,
    &quot;mailSubstituteOverridesLdap&quot; : false,
    &quot;ldapGroupFile&quot; : &quot;ldap/ldap-groups-as-scopes.xml&quot;,
    &quot;groupSearchBase&quot; : &quot;ou=scopes,dc=test,dc=com&quot;,
    &quot;groupSearchFilter&quot; : &quot;member={0}&quot;,
    &quot;groupsIgnorePartialResults&quot; : null,
    &quot;autoAddGroups&quot; : true,
    &quot;groupSearchSubTree&quot; : true,
    &quot;maxGroupSearchDepth&quot; : 3,
    &quot;groupRoleAttribute&quot; : &quot;description&quot;,
    &quot;tlsConfiguration&quot; : &quot;none&quot;
  },
  &quot;originKey&quot; : &quot;ldap&quot;,
  &quot;name&quot; : &quot;ldap name&quot;,
  &quot;active&quot; : true
}&#39;
</code></pre>

<pre><code class="http">POST /identity-providers?rawConfig=true HTTP/1.1
Content-Type: application/json
X-Identity-Zone-Subdomain: jkyets5q
Authorization: Bearer 2cb10d08e72341d8af99c8371604a6f0
Host: localhost
Content-Length: 1338

{
  &quot;type&quot; : &quot;ldap&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;externalGroupsWhitelist&quot; : [ ],
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;ldapProfileFile&quot; : &quot;ldap/ldap-search-and-compare.xml&quot;,
    &quot;baseUrl&quot; : &quot;ldap://localhost:23389&quot;,
    &quot;referral&quot; : null,
    &quot;skipSSLVerification&quot; : false,
    &quot;userDNPattern&quot; : null,
    &quot;userDNPatternDelimiter&quot; : null,
    &quot;bindUserDn&quot; : &quot;cn=admin,ou=Users,dc=test,dc=com&quot;,
    &quot;bindPassword&quot; : &quot;adminsecret&quot;,
    &quot;userSearchBase&quot; : &quot;dc=test,dc=com&quot;,
    &quot;userSearchFilter&quot; : &quot;cn={0}&quot;,
    &quot;passwordAttributeName&quot; : &quot;userPassword&quot;,
    &quot;passwordEncoder&quot; : &quot;org.cloudfoundry.identity.uaa.provider.ldap.DynamicPasswordComparator&quot;,
    &quot;localPasswordCompare&quot; : true,
    &quot;mailAttributeName&quot; : &quot;mail&quot;,
    &quot;mailSubstitute&quot; : null,
    &quot;mailSubstituteOverridesLdap&quot; : false,
    &quot;ldapGroupFile&quot; : &quot;ldap/ldap-groups-as-scopes.xml&quot;,
    &quot;groupSearchBase&quot; : &quot;ou=scopes,dc=test,dc=com&quot;,
    &quot;groupSearchFilter&quot; : &quot;member={0}&quot;,
    &quot;groupsIgnorePartialResults&quot; : null,
    &quot;autoAddGroups&quot; : true,
    &quot;groupSearchSubTree&quot; : true,
    &quot;maxGroupSearchDepth&quot; : 3,
    &quot;groupRoleAttribute&quot; : &quot;description&quot;,
    &quot;tlsConfiguration&quot; : &quot;none&quot;
  },
  &quot;originKey&quot; : &quot;ldap&quot;,
  &quot;name&quot; : &quot;ldap name&quot;,
  &quot;active&quot; : true
}
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 1503

{
  &quot;type&quot; : &quot;ldap&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;additionalConfiguration&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;externalGroupsWhitelist&quot; : [ ],
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;ldapProfileFile&quot; : &quot;ldap/ldap-search-and-compare.xml&quot;,
    &quot;baseUrl&quot; : &quot;ldap://localhost:23389&quot;,
    &quot;referral&quot; : null,
    &quot;skipSSLVerification&quot; : false,
    &quot;userDNPattern&quot; : null,
    &quot;userDNPatternDelimiter&quot; : null,
    &quot;bindUserDn&quot; : &quot;cn=admin,ou=Users,dc=test,dc=com&quot;,
    &quot;userSearchBase&quot; : &quot;dc=test,dc=com&quot;,
    &quot;userSearchFilter&quot; : &quot;cn={0}&quot;,
    &quot;passwordAttributeName&quot; : &quot;userPassword&quot;,
    &quot;passwordEncoder&quot; : &quot;org.cloudfoundry.identity.uaa.provider.ldap.DynamicPasswordComparator&quot;,
    &quot;localPasswordCompare&quot; : true,
    &quot;mailAttributeName&quot; : &quot;mail&quot;,
    &quot;mailSubstitute&quot; : null,
    &quot;mailSubstituteOverridesLdap&quot; : false,
    &quot;ldapGroupFile&quot; : &quot;ldap/ldap-groups-as-scopes.xml&quot;,
    &quot;groupSearchBase&quot; : &quot;ou=scopes,dc=test,dc=com&quot;,
    &quot;groupSearchFilter&quot; : &quot;member={0}&quot;,
    &quot;groupsIgnorePartialResults&quot; : null,
    &quot;autoAddGroups&quot; : true,
    &quot;groupSearchSubTree&quot; : true,
    &quot;maxGroupSearchDepth&quot; : 3,
    &quot;groupRoleAttribute&quot; : &quot;description&quot;,
    &quot;tlsConfiguration&quot; : &quot;none&quot;
  },
  &quot;id&quot; : &quot;6484af27-8b34-4c40-90f6-2026343b002b&quot;,
  &quot;originKey&quot; : &quot;ldap&quot;,
  &quot;name&quot; : &quot;ldap name&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286165394,
  &quot;last_modified&quot; : 1501286165394,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;jkyets5q&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> or <code>idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code>config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>config.storeCustomAttributes</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code>ldap</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>Origin key must be <code>ldap</code> for an LDAP provider</td>
</tr>
<tr>
<td>config.ldapProfileFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for configuring the LDAP authentication. Options are: <code>ldap/ldap-simple-bind.xml</code>, <code>ldap/ldap-search-and-bind.xml</code>, <code>ldap/ldap-search-and-compare.xml</code></td>
</tr>
<tr>
<td>config.ldapGroupFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for group integration. Options are: <code>ldap/ldap-groups-null.xml</code>, <code>ldap/ldap-groups-as-scopes.xml</code>, <code>ldap/ldap-groups-map-to-scopes.xml</code></td>
</tr>
<tr>
<td>config.baseUrl</td>
<td>String</td>
<td>Required</td>
<td>The URL to the ldap server, must start with <code>ldap://</code> or <code>ldaps://</code></td>
</tr>
<tr>
<td>config.bindPassword</td>
<td>String</td>
<td>Required</td>
<td>Used with <code>search-and-bind</code> and <code>search-and-compare</code>. Password for the LDAP ID that performs a search of the LDAP tree for user information.</td>
</tr>
<tr>
<td>config.mailAttributeName</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;mail&quot;</code>)</td>
<td>The name of the LDAP attribute that contains the user&#39;s email address</td>
</tr>
<tr>
<td>config.mailSubstitute</td>
<td>String</td>
<td>Optional</td>
<td>Defines an email pattern containing a <code>{0}</code> to generate an email address for an LDAP user during authentication</td>
</tr>
<tr>
<td>config.mailSubstituteOverridesLdap</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>Set to true if you wish to override an LDAP user email address with a generated one</td>
</tr>
<tr>
<td>config.skipSSLVerification</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>Skips validation of the LDAP cert if set to true.</td>
</tr>
<tr>
<td>config.tlsConfiguration</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;none&quot;</code>)</td>
<td>Sets the StartTLS options, valid values are <code>none</code>, <code>simple</code> or <code>external</code></td>
</tr>
<tr>
<td>config.referral</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;follow&quot;</code>)</td>
<td>Configures the UAA LDAP referral behavior. The following values are possible:  <ul><li>follow &rarr; Referrals are followed</li>  <li>ignore &rarr; Referrals are ignored and the partial result is returned</li>  <li>throw  &rarr; An error is thrown and the authentication is aborted</li></ul>  Reference: <a href="http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html">http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html</a></td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>Object</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.first_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;givenname&quot;</code>)</td>
<td>Map <code>given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;sn&quot;</code>)</td>
<td>Map <code>family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;telephonenumber&quot;</code>)</td>
<td>Map <code>phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>config.storeCustomAttributes</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code>ldap</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>Origin key must be <code>ldap</code> for an LDAP provider</td>
</tr>
<tr>
<td>config.ldapProfileFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for configuring the LDAP authentication. Options are: <code>ldap/ldap-simple-bind.xml</code>, <code>ldap/ldap-search-and-bind.xml</code>, <code>ldap/ldap-search-and-compare.xml</code></td>
</tr>
<tr>
<td>config.ldapGroupFile</td>
<td>String</td>
<td>Required</td>
<td>The file to be used for group integration. Options are: <code>ldap/ldap-groups-null.xml</code>, <code>ldap/ldap-groups-as-scopes.xml</code>, <code>ldap/ldap-groups-map-to-scopes.xml</code></td>
</tr>
<tr>
<td>config.baseUrl</td>
<td>String</td>
<td>Required</td>
<td>The URL to the ldap server, must start with <code>ldap://</code> or <code>ldaps://</code></td>
</tr>
<tr>
<td>config.bindPassword</td>
<td>String</td>
<td>Required</td>
<td>Used with <code>search-and-bind</code> and <code>search-and-compare</code>. Password for the LDAP ID that performs a search of the LDAP tree for user information.</td>
</tr>
<tr>
<td>config.mailAttributeName</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;mail&quot;</code>)</td>
<td>The name of the LDAP attribute that contains the user&#39;s email address</td>
</tr>
<tr>
<td>config.mailSubstitute</td>
<td>String</td>
<td>Optional</td>
<td>Defines an email pattern containing a <code>{0}</code> to generate an email address for an LDAP user during authentication</td>
</tr>
<tr>
<td>config.mailSubstituteOverridesLdap</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>Set to true if you wish to override an LDAP user email address with a generated one</td>
</tr>
<tr>
<td>config.skipSSLVerification</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>Skips validation of the LDAP cert if set to true.</td>
</tr>
<tr>
<td>config.tlsConfiguration</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;none&quot;</code>)</td>
<td>Sets the StartTLS options, valid values are <code>none</code>, <code>simple</code> or <code>external</code></td>
</tr>
<tr>
<td>config.referral</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;follow&quot;</code>)</td>
<td>Configures the UAA LDAP referral behavior. The following values are possible:  <ul><li>follow &rarr; Referrals are followed</li>  <li>ignore &rarr; Referrals are ignored and the partial result is returned</li>  <li>throw  &rarr; An error is thrown and the authentication is aborted</li></ul>  Reference: <a href="http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html">http://docs.oracle.com/javase/jndi/tutorial/ldap/referral/jndi.html</a></td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>Object</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.first_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;givenname&quot;</code>)</td>
<td>Map <code>given_name</code> to the attribute for given name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.family_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;sn&quot;</code>)</td>
<td>Map <code>family_name</code> to the attribute for family name in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings.phone_number</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;telephonenumber&quot;</code>)</td>
<td>Map <code>phone_number</code> to the attribute for phone number in the provider assertion.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized - Missing or invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - Provider with same origin and zone id exists</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid configuration</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
</tbody></table>
<h3 id='oauth-oidc-95285'>OAuth/OIDC</h3>
<aside class="success">
  Added in UAA 3.3.0
</aside>

<pre><code class="bash">$ curl &#39;http://localhost/identity-providers?rawConfig=true&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 80a4ecbc484f4a2da59c5d8a1e6b58df&#39; \
    -d &#39;{
  &quot;type&quot; : &quot;oauth2.0&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;authUrl&quot; : &quot;http://auth.url&quot;,
    &quot;tokenUrl&quot; : &quot;http://token.url&quot;,
    &quot;tokenKeyUrl&quot; : null,
    &quot;tokenKey&quot; : &quot;token-key&quot;,
    &quot;linkText&quot; : null,
    &quot;showLinkText&quot; : false,
    &quot;skipSslValidation&quot; : false,
    &quot;relyingPartyId&quot; : &quot;uaa&quot;,
    &quot;relyingPartySecret&quot; : &quot;secret&quot;,
    &quot;scopes&quot; : null,
    &quot;issuer&quot; : null,
    &quot;responseType&quot; : &quot;code&quot;
  },
  &quot;originKey&quot; : &quot;my-oauth2-provider&quot;,
  &quot;name&quot; : &quot;UAA Provider&quot;,
  &quot;active&quot; : true
}&#39;
</code></pre>

<pre><code class="http">POST /identity-providers?rawConfig=true HTTP/1.1
Content-Type: application/json
Authorization: Bearer 80a4ecbc484f4a2da59c5d8a1e6b58df
Host: localhost
Content-Length: 640

{
  &quot;type&quot; : &quot;oauth2.0&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;authUrl&quot; : &quot;http://auth.url&quot;,
    &quot;tokenUrl&quot; : &quot;http://token.url&quot;,
    &quot;tokenKeyUrl&quot; : null,
    &quot;tokenKey&quot; : &quot;token-key&quot;,
    &quot;linkText&quot; : null,
    &quot;showLinkText&quot; : false,
    &quot;skipSslValidation&quot; : false,
    &quot;relyingPartyId&quot; : &quot;uaa&quot;,
    &quot;relyingPartySecret&quot; : &quot;secret&quot;,
    &quot;scopes&quot; : null,
    &quot;issuer&quot; : null,
    &quot;responseType&quot; : &quot;code&quot;
  },
  &quot;originKey&quot; : &quot;my-oauth2-provider&quot;,
  &quot;name&quot; : &quot;UAA Provider&quot;,
  &quot;active&quot; : true
}
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 864

{
  &quot;type&quot; : &quot;oauth2.0&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;additionalConfiguration&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;externalGroupsWhitelist&quot; : [ ],
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;authUrl&quot; : &quot;http://auth.url&quot;,
    &quot;tokenUrl&quot; : &quot;http://token.url&quot;,
    &quot;tokenKeyUrl&quot; : null,
    &quot;tokenKey&quot; : &quot;token-key&quot;,
    &quot;linkText&quot; : null,
    &quot;showLinkText&quot; : false,
    &quot;skipSslValidation&quot; : false,
    &quot;relyingPartyId&quot; : &quot;uaa&quot;,
    &quot;scopes&quot; : null,
    &quot;issuer&quot; : null,
    &quot;responseType&quot; : &quot;code&quot;,
    &quot;checkTokenUrl&quot; : null
  },
  &quot;id&quot; : &quot;7737a564-64e6-4c8e-96d7-49c59d6a14f6&quot;,
  &quot;originKey&quot; : &quot;my-oauth2-provider&quot;,
  &quot;name&quot; : &quot;UAA Provider&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286164732,
  &quot;last_modified&quot; : 1501286164732,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> or <code>idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code>config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>config.storeCustomAttributes</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code>&quot;oauth2.0&quot;</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>A unique alias for a OAuth provider</td>
</tr>
<tr>
<td>config.authUrl</td>
<td>String</td>
<td>Required</td>
<td>The OAuth 2.0 authorization endpoint URL</td>
</tr>
<tr>
<td>config.tokenUrl</td>
<td>String</td>
<td>Required</td>
<td>The OAuth 2.0 token endpoint URL</td>
</tr>
<tr>
<td>config.tokenKeyUrl</td>
<td>String</td>
<td>Optional</td>
<td>The URL of the token key endpoint which renders a verification key for validating token signatures</td>
</tr>
<tr>
<td>config.tokenKey</td>
<td>String</td>
<td>Optional</td>
<td>A verification key for validating token signatures, set to null if a <code>tokenKeyUrl</code> is provided.</td>
</tr>
<tr>
<td>config.showLinkText</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>A flag controlling whether a link to this provider&#39;s login will be shown on the UAA login page</td>
</tr>
<tr>
<td>config.linkText</td>
<td>String</td>
<td>Optional</td>
<td>Text to use for the login link to the provider</td>
</tr>
<tr>
<td>config.relyingPartyId</td>
<td>String</td>
<td>Required</td>
<td>The client ID which is registered with the external OAuth provider for use by the UAA</td>
</tr>
<tr>
<td>config.skipSslValidation</td>
<td>Boolean</td>
<td>Optional</td>
<td>A flag controlling whether SSL validation should be skipped when communicating with the external OAuth server</td>
</tr>
<tr>
<td>config.scopes</td>
<td>Array</td>
<td>Optional</td>
<td>What scopes to request on a call to the external OAuth provider</td>
</tr>
<tr>
<td>config.checkTokenUrl</td>
<td>Object</td>
<td>Optional</td>
<td>Reserved for future OAuth use.</td>
</tr>
<tr>
<td>config.responseType</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;code&quot;</code>)</td>
<td>Response type for the authorize request, will be sent to OAuth server, defaults to <code>code</code></td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Determines whether or not shadow users must be created before login by an administrator.</td>
</tr>
<tr>
<td>config.attributeMappings.external_groups</td>
<td>Object</td>
<td>Optional</td>
<td>Map <code>external_groups</code> to the attribute for groups in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>Object</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.user_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;preferred_username&quot;</code>)</td>
<td>Map <code>user_name</code> to the attribute for username in the provider assertion.</td>
</tr>
<tr>
<td>config.issuer</td>
<td>String</td>
<td>Optional</td>
<td>The OAuth 2.0 token issuer. This value is used to validate the issuer inside the token.</td>
</tr>
<tr>
<td>config.relyingPartySecret</td>
<td>String</td>
<td>Required</td>
<td>The client secret of the relying party at the external OAuth provider</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>config.storeCustomAttributes</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code>&quot;oauth2.0&quot;</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>A unique alias for a OAuth provider</td>
</tr>
<tr>
<td>config.authUrl</td>
<td>String</td>
<td>Required</td>
<td>The OAuth 2.0 authorization endpoint URL</td>
</tr>
<tr>
<td>config.tokenUrl</td>
<td>String</td>
<td>Required</td>
<td>The OAuth 2.0 token endpoint URL</td>
</tr>
<tr>
<td>config.tokenKeyUrl</td>
<td>String</td>
<td>Optional</td>
<td>The URL of the token key endpoint which renders a verification key for validating token signatures</td>
</tr>
<tr>
<td>config.tokenKey</td>
<td>String</td>
<td>Optional</td>
<td>A verification key for validating token signatures, set to null if a <code>tokenKeyUrl</code> is provided.</td>
</tr>
<tr>
<td>config.showLinkText</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>A flag controlling whether a link to this provider&#39;s login will be shown on the UAA login page</td>
</tr>
<tr>
<td>config.linkText</td>
<td>String</td>
<td>Optional</td>
<td>Text to use for the login link to the provider</td>
</tr>
<tr>
<td>config.relyingPartyId</td>
<td>String</td>
<td>Required</td>
<td>The client ID which is registered with the external OAuth provider for use by the UAA</td>
</tr>
<tr>
<td>config.skipSslValidation</td>
<td>Boolean</td>
<td>Optional</td>
<td>A flag controlling whether SSL validation should be skipped when communicating with the external OAuth server</td>
</tr>
<tr>
<td>config.scopes</td>
<td>Array</td>
<td>Optional</td>
<td>What scopes to request on a call to the external OAuth provider</td>
</tr>
<tr>
<td>config.checkTokenUrl</td>
<td>Object</td>
<td>Optional</td>
<td>Reserved for future OAuth use.</td>
</tr>
<tr>
<td>config.responseType</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;code&quot;</code>)</td>
<td>Response type for the authorize request, will be sent to OAuth server, defaults to <code>code</code></td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Determines whether or not shadow users must be created before login by an administrator.</td>
</tr>
<tr>
<td>config.attributeMappings.external_groups</td>
<td>Object</td>
<td>Optional</td>
<td>Map <code>external_groups</code> to the attribute for groups in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>Object</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.user_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;preferred_username&quot;</code>)</td>
<td>Map <code>user_name</code> to the attribute for username in the provider assertion.</td>
</tr>
<tr>
<td>config.issuer</td>
<td>String</td>
<td>Optional</td>
<td>The OAuth 2.0 token issuer. This value is used to validate the issuer inside the token.</td>
</tr>
<tr>
<td>config.relyingPartySecret</td>
<td>String</td>
<td>Required</td>
<td>The client secret of the relying party at the external OAuth provider</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - Provider with same origin and zone id exists</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid configuration</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
</tbody></table>

<aside class="success">
  Added in UAA 3.3.0, Discovery URL added in UAA 3.10.0
</aside>

<pre><code class="bash">$ curl &#39;http://localhost/identity-providers?rawConfig=true&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 5af139457e6b44fbb1a85e9ecc636020&#39; \
    -d &#39;{
  &quot;type&quot; : &quot;oidc1.0&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;authUrl&quot; : null,
    &quot;tokenUrl&quot; : null,
    &quot;tokenKeyUrl&quot; : null,
    &quot;tokenKey&quot; : null,
    &quot;linkText&quot; : null,
    &quot;showLinkText&quot; : false,
    &quot;skipSslValidation&quot; : true,
    &quot;relyingPartyId&quot; : &quot;uaa&quot;,
    &quot;relyingPartySecret&quot; : &quot;secret&quot;,
    &quot;scopes&quot; : null,
    &quot;issuer&quot; : null,
    &quot;responseType&quot; : &quot;code&quot;,
    &quot;userInfoUrl&quot; : null,
    &quot;discoveryUrl&quot; : &quot;https://accounts.google.com/.well-known/openid-configuration&quot;
  },
  &quot;originKey&quot; : &quot;my-oidc-provider-dk7jgn&quot;,
  &quot;name&quot; : &quot;UAA Provider&quot;,
  &quot;active&quot; : true
}&#39;
</code></pre>

<pre><code class="http">POST /identity-providers?rawConfig=true HTTP/1.1
Content-Type: application/json
Authorization: Bearer 5af139457e6b44fbb1a85e9ecc636020
Host: localhost
Content-Length: 720

{
  &quot;type&quot; : &quot;oidc1.0&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;authUrl&quot; : null,
    &quot;tokenUrl&quot; : null,
    &quot;tokenKeyUrl&quot; : null,
    &quot;tokenKey&quot; : null,
    &quot;linkText&quot; : null,
    &quot;showLinkText&quot; : false,
    &quot;skipSslValidation&quot; : true,
    &quot;relyingPartyId&quot; : &quot;uaa&quot;,
    &quot;relyingPartySecret&quot; : &quot;secret&quot;,
    &quot;scopes&quot; : null,
    &quot;issuer&quot; : null,
    &quot;responseType&quot; : &quot;code&quot;,
    &quot;userInfoUrl&quot; : null,
    &quot;discoveryUrl&quot; : &quot;https://accounts.google.com/.well-known/openid-configuration&quot;
  },
  &quot;originKey&quot; : &quot;my-oidc-provider-dk7jgn&quot;,
  &quot;name&quot; : &quot;UAA Provider&quot;,
  &quot;active&quot; : true
}
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 916

{
  &quot;type&quot; : &quot;oidc1.0&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;additionalConfiguration&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;externalGroupsWhitelist&quot; : [ ],
    &quot;attributeMappings&quot; : { },
    &quot;addShadowUserOnLogin&quot; : true,
    &quot;storeCustomAttributes&quot; : true,
    &quot;authUrl&quot; : null,
    &quot;tokenUrl&quot; : null,
    &quot;tokenKeyUrl&quot; : null,
    &quot;tokenKey&quot; : null,
    &quot;linkText&quot; : null,
    &quot;showLinkText&quot; : false,
    &quot;skipSslValidation&quot; : true,
    &quot;relyingPartyId&quot; : &quot;uaa&quot;,
    &quot;scopes&quot; : null,
    &quot;issuer&quot; : null,
    &quot;responseType&quot; : &quot;code&quot;,
    &quot;userInfoUrl&quot; : null,
    &quot;discoveryUrl&quot; : &quot;https://accounts.google.com/.well-known/openid-configuration&quot;
  },
  &quot;id&quot; : &quot;dd670931-15d5-4b5c-94b5-4ccb14f0591f&quot;,
  &quot;originKey&quot; : &quot;my-oidc-provider-dk7jgn&quot;,
  &quot;name&quot; : &quot;UAA Provider&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286164820,
  &quot;last_modified&quot; : 1501286164820,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> or <code>idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code>config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>config.storeCustomAttributes</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code>&quot;oidc1.0&quot;</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>A unique alias for the OIDC 1.0 provider</td>
</tr>
<tr>
<td>config.discoveryUrl</td>
<td>String</td>
<td>Optional</td>
<td>The OpenID Connect Discovery URL, typically ends with /.well-known/openid-configurationmit</td>
</tr>
<tr>
<td>config.authUrl</td>
<td>String</td>
<td>Required unless <code>discoveryUrl</code> is set.</td>
<td>The OIDC 1.0 authorization endpoint URL. This can be left blank if a discovery URL is provided. If both are provided, this property overrides the discovery URL.</td>
</tr>
<tr>
<td>config.tokenUrl</td>
<td>String</td>
<td>Required unless <code>discoveryUrl</code> is set.</td>
<td>The OIDC 1.0 token endpoint URL.  This can be left blank if a discovery URL is provided. If both are provided, this property overrides the discovery URL.</td>
</tr>
<tr>
<td>config.tokenKeyUrl</td>
<td>String</td>
<td>Required unless <code>discoveryUrl</code> is set.</td>
<td>The URL of the token key endpoint which renders a verification key for validating token signatures.  This can be left blank if a discovery URL is provided. If both are provided, this property overrides the discovery URL.</td>
</tr>
<tr>
<td>config.tokenKey</td>
<td>String</td>
<td>Required unless <code>discoveryUrl</code> is set.</td>
<td>A verification key for validating token signatures. We recommend not setting this as it will not allow for key rotation.  This can be left blank if a discovery URL is provided. If both are provided, this property overrides the discovery URL.</td>
</tr>
<tr>
<td>config.showLinkText</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>A flag controlling whether a link to this provider&#39;s login will be shown on the UAA login page</td>
</tr>
<tr>
<td>config.linkText</td>
<td>String</td>
<td>Optional</td>
<td>Text to use for the login link to the provider</td>
</tr>
<tr>
<td>config.relyingPartyId</td>
<td>String</td>
<td>Required</td>
<td>The client ID which is registered with the external OAuth provider for use by the UAA</td>
</tr>
<tr>
<td>config.skipSslValidation</td>
<td>Boolean</td>
<td>Optional</td>
<td>A flag controlling whether SSL validation should be skipped when communicating with the external OAuth server</td>
</tr>
<tr>
<td>config.scopes</td>
<td>Array</td>
<td>Optional</td>
<td>What scopes to request on a call to the external OAuth/OpenID provider. For example, can provide <code>openid</code>, <code>roles</code>, or <code>profile</code> to request ID token, scopes populated in the ID token external groups attribute mappings, or the user profile information, respectively.</td>
</tr>
<tr>
<td>config.checkTokenUrl</td>
<td>Object</td>
<td>Optional</td>
<td>Reserved for future OAuth/OIDC use.</td>
</tr>
<tr>
<td>config.userInfoUrl</td>
<td>Object</td>
<td>Optional</td>
<td>Reserved for future OIDC use.  This can be left blank if a discovery URL is provided. If both are provided, this property overrides the discovery URL.</td>
</tr>
<tr>
<td>config.responseType</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;code&quot;</code>)</td>
<td>Response type for the authorize request, defaults to <code>code</code>, but can be <code>code id_token</code> if the OIDC server can return an id_token as a query parameter in the redirect.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Determines whether or not shadow users must be created before login by an administrator.</td>
</tr>
<tr>
<td>config.attributeMappings.external_groups</td>
<td>Object</td>
<td>Optional</td>
<td>Map <code>external_groups</code> to the attribute for groups in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>Object</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.user_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;preferred_username&quot;</code>)</td>
<td>Map <code>user_name</code> to the attribute for username in the provider assertion.</td>
</tr>
<tr>
<td>config.issuer</td>
<td>String</td>
<td>Optional</td>
<td>The OAuth 2.0 token issuer. This value is used to validate the issuer inside the token.</td>
</tr>
<tr>
<td>config.relyingPartySecret</td>
<td>String</td>
<td>Required</td>
<td>The client secret of the relying party at the external OAuth provider</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>config.storeCustomAttributes</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code>&quot;oidc1.0&quot;</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>A unique alias for the OIDC 1.0 provider</td>
</tr>
<tr>
<td>config.discoveryUrl</td>
<td>String</td>
<td>Optional</td>
<td>The OpenID Connect Discovery URL, typically ends with /.well-known/openid-configurationmit</td>
</tr>
<tr>
<td>config.authUrl</td>
<td>String</td>
<td>Required unless <code>discoveryUrl</code> is set.</td>
<td>The OIDC 1.0 authorization endpoint URL. This can be left blank if a discovery URL is provided. If both are provided, this property overrides the discovery URL.</td>
</tr>
<tr>
<td>config.tokenUrl</td>
<td>String</td>
<td>Required unless <code>discoveryUrl</code> is set.</td>
<td>The OIDC 1.0 token endpoint URL.  This can be left blank if a discovery URL is provided. If both are provided, this property overrides the discovery URL.</td>
</tr>
<tr>
<td>config.tokenKeyUrl</td>
<td>String</td>
<td>Required unless <code>discoveryUrl</code> is set.</td>
<td>The URL of the token key endpoint which renders a verification key for validating token signatures.  This can be left blank if a discovery URL is provided. If both are provided, this property overrides the discovery URL.</td>
</tr>
<tr>
<td>config.tokenKey</td>
<td>String</td>
<td>Required unless <code>discoveryUrl</code> is set.</td>
<td>A verification key for validating token signatures. We recommend not setting this as it will not allow for key rotation.  This can be left blank if a discovery URL is provided. If both are provided, this property overrides the discovery URL.</td>
</tr>
<tr>
<td>config.showLinkText</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>A flag controlling whether a link to this provider&#39;s login will be shown on the UAA login page</td>
</tr>
<tr>
<td>config.linkText</td>
<td>String</td>
<td>Optional</td>
<td>Text to use for the login link to the provider</td>
</tr>
<tr>
<td>config.relyingPartyId</td>
<td>String</td>
<td>Required</td>
<td>The client ID which is registered with the external OAuth provider for use by the UAA</td>
</tr>
<tr>
<td>config.skipSslValidation</td>
<td>Boolean</td>
<td>Optional</td>
<td>A flag controlling whether SSL validation should be skipped when communicating with the external OAuth server</td>
</tr>
<tr>
<td>config.scopes</td>
<td>Array</td>
<td>Optional</td>
<td>What scopes to request on a call to the external OAuth/OpenID provider. For example, can provide <code>openid</code>, <code>roles</code>, or <code>profile</code> to request ID token, scopes populated in the ID token external groups attribute mappings, or the user profile information, respectively.</td>
</tr>
<tr>
<td>config.checkTokenUrl</td>
<td>Object</td>
<td>Optional</td>
<td>Reserved for future OAuth/OIDC use.</td>
</tr>
<tr>
<td>config.userInfoUrl</td>
<td>Object</td>
<td>Optional</td>
<td>Reserved for future OIDC use.  This can be left blank if a discovery URL is provided. If both are provided, this property overrides the discovery URL.</td>
</tr>
<tr>
<td>config.responseType</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;code&quot;</code>)</td>
<td>Response type for the authorize request, defaults to <code>code</code>, but can be <code>code id_token</code> if the OIDC server can return an id_token as a query parameter in the redirect.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Determines whether or not shadow users must be created before login by an administrator.</td>
</tr>
<tr>
<td>config.attributeMappings.external_groups</td>
<td>Object</td>
<td>Optional</td>
<td>Map <code>external_groups</code> to the attribute for groups in the provider assertion.</td>
</tr>
<tr>
<td>config.attributeMappings</td>
<td>Object</td>
<td>Optional</td>
<td>Map external attribute to UAA recognized mappings.</td>
</tr>
<tr>
<td>config.attributeMappings.user_name</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;preferred_username&quot;</code>)</td>
<td>Map <code>user_name</code> to the attribute for username in the provider assertion.</td>
</tr>
<tr>
<td>config.issuer</td>
<td>String</td>
<td>Optional</td>
<td>The OAuth 2.0 token issuer. This value is used to validate the issuer inside the token.</td>
</tr>
<tr>
<td>config.relyingPartySecret</td>
<td>String</td>
<td>Required</td>
<td>The client secret of the relying party at the external OAuth provider</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - Provider with same origin and zone id exists</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid configuration</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
</tbody></table>
<h2 id='retrieve-all-27870'>Retrieve All</h2>
<pre><code class="bash">$ curl &#39;http://localhost/identity-providers?rawConfig=false&#39; -i \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 1c766b1785b44642a908051562ba1ec7&#39;
</code></pre>

<pre><code class="http">GET /identity-providers?rawConfig=false HTTP/1.1
Content-Type: application/json
Authorization: Bearer 1c766b1785b44642a908051562ba1ec7
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 5627

[ {
  &quot;type&quot; : &quot;saml&quot;,
  &quot;config&quot; : &quot;{\&quot;emailDomain\&quot;:null,\&quot;additionalConfiguration\&quot;:null,\&quot;providerDescription\&quot;:null,\&quot;externalGroupsWhitelist\&quot;:[],\&quot;attributeMappings\&quot;:{},\&quot;addShadowUserOnLogin\&quot;:true,\&quot;storeCustomAttributes\&quot;:true,\&quot;metaDataLocation\&quot;:\&quot;&lt;?xml version=\\\&quot;1.0\\\&quot; encoding=\\\&quot;UTF-8\\\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\\\&quot;urn:oasis:names:tc:SAML:2.0:metadata\\\&quot; entityID=\\\&quot;http://www.okta.com/SAML\\\&quot;&gt;&lt;md:IDPSSODescriptor WantAuthnRequestsSigned=\\\&quot;true\\\&quot; protocolSupportEnumeration=\\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\\&quot;&gt;&lt;md:KeyDescriptor use=\\\&quot;signing\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmTCCAgKgAwIBAgIGAUPATqmEMA0GCSqGSIb3DQEBBQUAMIGPMQswCQYDVQQGEwJVUzETMBEG\\nA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEU\\nMBIGA1UECwwLU1NPUHJvdmlkZXIxEDAOBgNVBAMMB1Bpdm90YWwxHDAaBgkqhkiG9w0BCQEWDWlu\\nZm9Ab2t0YS5jb20wHhcNMTQwMTIzMTgxMjM3WhcNNDQwMTIzMTgxMzM3WjCBjzELMAkGA1UEBhMC\\nVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoM\\nBE9rdGExFDASBgNVBAsMC1NTT1Byb3ZpZGVyMRAwDgYDVQQDDAdQaXZvdGFsMRwwGgYJKoZIhvcN\\nAQkBFg1pbmZvQG9rdGEuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCeil67/TLOiTZU\\nWWgW2XEGgFZ94bVO90v5J1XmcHMwL8v5Z/8qjdZLpGdwI7Ph0CyXMMNklpaR/Ljb8fsls3amdT5O\\nBw92Zo8ulcpjw2wuezTwL0eC0wY/GQDAZiXL59npE6U+fH1lbJIq92hx0HJSru/0O1q3+A/+jjZL\\n3tL/SwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAI5BoWZoH6Mz9vhypZPOJCEKa/K+biZQsA4Zqsuk\\nvvphhSERhqk/Nv76Vkl8uvJwwHbQrR9KJx4L3PRkGCG24rix71jEuXVGZUsDNM3CUKnARx4MEab6\\nGFHNkZ6DmoT/PFagngecHu+EwmuDtaG0rEkFrARwe+d8Ru0BN558abFb&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:SingleSignOnService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\\\&quot;/&gt;&lt;md:SingleSignOnService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\&quot; Location=\\\&quot;https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\\\&quot;/&gt;&lt;/md:IDPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\\n\&quot;,\&quot;idpEntityAlias\&quot;:\&quot;SAML\&quot;,\&quot;zoneId\&quot;:\&quot;uaa\&quot;,\&quot;nameID\&quot;:\&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress\&quot;,\&quot;assertionConsumerIndex\&quot;:0,\&quot;metadataTrustCheck\&quot;:false,\&quot;showSamlLink\&quot;:false,\&quot;linkText\&quot;:\&quot;IDPEndpointsMockTests Saml Provider:SAML\&quot;,\&quot;iconUrl\&quot;:null,\&quot;groupMappingMode\&quot;:\&quot;EXPLICITLY_MAPPED\&quot;,\&quot;skipSslValidation\&quot;:false,\&quot;authnContext\&quot;:null,\&quot;socketFactoryClassName\&quot;:null}&quot;,
  &quot;id&quot; : &quot;76905a39-f00d-47a6-89ed-7080ff731199&quot;,
  &quot;originKey&quot; : &quot;SAML&quot;,
  &quot;name&quot; : &quot;SAML name&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286162997,
  &quot;last_modified&quot; : 1501286162997,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}, {
  &quot;type&quot; : &quot;keystone&quot;,
  &quot;config&quot; : &quot;null&quot;,
  &quot;id&quot; : &quot;05803bae-7c59-453e-8a20-a16f52923837&quot;,
  &quot;originKey&quot; : &quot;keystone&quot;,
  &quot;name&quot; : &quot;keystone&quot;,
  &quot;version&quot; : 1,
  &quot;created&quot; : 946684800000,
  &quot;last_modified&quot; : 1501286122676,
  &quot;active&quot; : false,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}, {
  &quot;type&quot; : &quot;ldap&quot;,
  &quot;config&quot; : &quot;null&quot;,
  &quot;id&quot; : &quot;11cf8c30-585f-41a0-bf31-6524c85568e7&quot;,
  &quot;originKey&quot; : &quot;ldap&quot;,
  &quot;name&quot; : &quot;ldap&quot;,
  &quot;version&quot; : 1,
  &quot;created&quot; : 946684800000,
  &quot;last_modified&quot; : 1501286123628,
  &quot;active&quot; : false,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}, {
  &quot;type&quot; : &quot;login-server&quot;,
  &quot;config&quot; : &quot;null&quot;,
  &quot;id&quot; : &quot;95223707-609a-47f8-9a57-274d0cb9a912&quot;,
  &quot;originKey&quot; : &quot;login-server&quot;,
  &quot;name&quot; : &quot;login-server&quot;,
  &quot;version&quot; : 1,
  &quot;created&quot; : 946684800000,
  &quot;last_modified&quot; : 1501286123639,
  &quot;active&quot; : false,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}, {
  &quot;type&quot; : &quot;oauth2.0&quot;,
  &quot;config&quot; : &quot;{\&quot;emailDomain\&quot;:null,\&quot;additionalConfiguration\&quot;:null,\&quot;providerDescription\&quot;:null,\&quot;externalGroupsWhitelist\&quot;:[],\&quot;attributeMappings\&quot;:{},\&quot;addShadowUserOnLogin\&quot;:true,\&quot;storeCustomAttributes\&quot;:true,\&quot;authUrl\&quot;:\&quot;http://auth.url\&quot;,\&quot;tokenUrl\&quot;:\&quot;http://token.url\&quot;,\&quot;tokenKeyUrl\&quot;:null,\&quot;tokenKey\&quot;:\&quot;token-key\&quot;,\&quot;linkText\&quot;:null,\&quot;showLinkText\&quot;:false,\&quot;skipSslValidation\&quot;:false,\&quot;relyingPartyId\&quot;:\&quot;uaa\&quot;,\&quot;scopes\&quot;:null,\&quot;issuer\&quot;:null,\&quot;responseType\&quot;:\&quot;code\&quot;,\&quot;checkTokenUrl\&quot;:null}&quot;,
  &quot;id&quot; : &quot;7737a564-64e6-4c8e-96d7-49c59d6a14f6&quot;,
  &quot;originKey&quot; : &quot;my-oauth2-provider&quot;,
  &quot;name&quot; : &quot;UAA Provider&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286164732,
  &quot;last_modified&quot; : 1501286164732,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}, {
  &quot;type&quot; : &quot;oidc1.0&quot;,
  &quot;config&quot; : &quot;{\&quot;emailDomain\&quot;:null,\&quot;additionalConfiguration\&quot;:null,\&quot;providerDescription\&quot;:null,\&quot;externalGroupsWhitelist\&quot;:[],\&quot;attributeMappings\&quot;:{},\&quot;addShadowUserOnLogin\&quot;:true,\&quot;storeCustomAttributes\&quot;:true,\&quot;authUrl\&quot;:null,\&quot;tokenUrl\&quot;:null,\&quot;tokenKeyUrl\&quot;:null,\&quot;tokenKey\&quot;:null,\&quot;linkText\&quot;:null,\&quot;showLinkText\&quot;:false,\&quot;skipSslValidation\&quot;:true,\&quot;relyingPartyId\&quot;:\&quot;uaa\&quot;,\&quot;scopes\&quot;:null,\&quot;issuer\&quot;:null,\&quot;responseType\&quot;:\&quot;code\&quot;,\&quot;userInfoUrl\&quot;:null,\&quot;discoveryUrl\&quot;:\&quot;https://accounts.google.com/.well-known/openid-configuration\&quot;}&quot;,
  &quot;id&quot; : &quot;dd670931-15d5-4b5c-94b5-4ccb14f0591f&quot;,
  &quot;originKey&quot; : &quot;my-oidc-provider-dk7jgn&quot;,
  &quot;name&quot; : &quot;UAA Provider&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286164820,
  &quot;last_modified&quot; : 1501286164820,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}, {
  &quot;type&quot; : &quot;uaa&quot;,
  &quot;config&quot; : &quot;null&quot;,
  &quot;id&quot; : &quot;f444b969-eb86-4bc6-b2ea-26f8424957f0&quot;,
  &quot;originKey&quot; : &quot;uaa&quot;,
  &quot;name&quot; : &quot;uaa&quot;,
  &quot;version&quot; : 3,
  &quot;created&quot; : 946684800000,
  &quot;last_modified&quot; : 1501286164896,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
} ]
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.&lt;zone id&gt;.admin</code> or <code>zones.&lt;zone id&gt;.idps.read</code> or <code>uaa.admin</code> or <code>idps.read</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>zones.&lt;zone id&gt;.idps.read</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code>config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>[].type</code></td>
<td><code>String</code></td>
<td>Type of the identity provider.</td>
</tr>
<tr>
<td><code>[].originKey</code></td>
<td><code>String</code></td>
<td>Unique identifier for the identity provider.</td>
</tr>
<tr>
<td><code>[].name</code></td>
<td><code>String</code></td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td><code>[].config</code></td>
<td><code>String</code></td>
<td>Json config for the Identity Provider</td>
</tr>
<tr>
<td><code>[].version</code></td>
<td><code>Number</code></td>
<td>Version of the identity provider data. Clients can use this to protect against conflicting updates</td>
</tr>
<tr>
<td><code>[].active</code></td>
<td><code>Boolean</code></td>
<td>Defaults to true.</td>
</tr>
<tr>
<td><code>[].id</code></td>
<td><code>String</code></td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
<tr>
<td><code>[].identityZoneId</code></td>
<td><code>String</code></td>
<td>Set to the zone that this provider will be active in. Determined either by the Host header or the zone switch header.</td>
</tr>
<tr>
<td><code>[].created</code></td>
<td><code>Number</code></td>
<td>UAA sets the creation date</td>
</tr>
<tr>
<td><code>[].last_modified</code></td>
<td><code>Number</code></td>
<td>UAA sets the modification date</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>
<h2 id='retrieve-65512'>Retrieve</h2>
<pre><code class="bash">$ curl &#39;http://localhost/identity-providers/791afba4-16f9-47f1-aab3-b092e38ce2ce?rawConfig=false&#39; -i \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 35af2c131093481d88a06466b3648a49&#39;
</code></pre>

<pre><code class="http">GET /identity-providers/791afba4-16f9-47f1-aab3-b092e38ce2ce?rawConfig=false HTTP/1.1
Content-Type: application/json
Authorization: Bearer 35af2c131093481d88a06466b3648a49
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 2976

{
  &quot;type&quot; : &quot;saml&quot;,
  &quot;config&quot; : &quot;{\&quot;emailDomain\&quot;:null,\&quot;additionalConfiguration\&quot;:null,\&quot;providerDescription\&quot;:null,\&quot;externalGroupsWhitelist\&quot;:[],\&quot;attributeMappings\&quot;:{},\&quot;addShadowUserOnLogin\&quot;:true,\&quot;storeCustomAttributes\&quot;:true,\&quot;metaDataLocation\&quot;:\&quot;&lt;?xml version=\\\&quot;1.0\\\&quot; encoding=\\\&quot;UTF-8\\\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\\\&quot;urn:oasis:names:tc:SAML:2.0:metadata\\\&quot; entityID=\\\&quot;http://www.okta.com/saml-for-get\\\&quot;&gt;&lt;md:IDPSSODescriptor WantAuthnRequestsSigned=\\\&quot;true\\\&quot; protocolSupportEnumeration=\\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\\&quot;&gt;&lt;md:KeyDescriptor use=\\\&quot;signing\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmTCCAgKgAwIBAgIGAUPATqmEMA0GCSqGSIb3DQEBBQUAMIGPMQswCQYDVQQGEwJVUzETMBEG\\nA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEU\\nMBIGA1UECwwLU1NPUHJvdmlkZXIxEDAOBgNVBAMMB1Bpdm90YWwxHDAaBgkqhkiG9w0BCQEWDWlu\\nZm9Ab2t0YS5jb20wHhcNMTQwMTIzMTgxMjM3WhcNNDQwMTIzMTgxMzM3WjCBjzELMAkGA1UEBhMC\\nVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoM\\nBE9rdGExFDASBgNVBAsMC1NTT1Byb3ZpZGVyMRAwDgYDVQQDDAdQaXZvdGFsMRwwGgYJKoZIhvcN\\nAQkBFg1pbmZvQG9rdGEuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCeil67/TLOiTZU\\nWWgW2XEGgFZ94bVO90v5J1XmcHMwL8v5Z/8qjdZLpGdwI7Ph0CyXMMNklpaR/Ljb8fsls3amdT5O\\nBw92Zo8ulcpjw2wuezTwL0eC0wY/GQDAZiXL59npE6U+fH1lbJIq92hx0HJSru/0O1q3+A/+jjZL\\n3tL/SwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAI5BoWZoH6Mz9vhypZPOJCEKa/K+biZQsA4Zqsuk\\nvvphhSERhqk/Nv76Vkl8uvJwwHbQrR9KJx4L3PRkGCG24rix71jEuXVGZUsDNM3CUKnARx4MEab6\\nGFHNkZ6DmoT/PFagngecHu+EwmuDtaG0rEkFrARwe+d8Ru0BN558abFb&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:SingleSignOnService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\\\&quot;/&gt;&lt;md:SingleSignOnService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\&quot; Location=\\\&quot;https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\\\&quot;/&gt;&lt;/md:IDPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\\n\&quot;,\&quot;idpEntityAlias\&quot;:\&quot;saml-for-get\&quot;,\&quot;zoneId\&quot;:\&quot;uaa\&quot;,\&quot;nameID\&quot;:\&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress\&quot;,\&quot;assertionConsumerIndex\&quot;:0,\&quot;metadataTrustCheck\&quot;:false,\&quot;showSamlLink\&quot;:false,\&quot;linkText\&quot;:\&quot;IDPEndpointsMockTests Saml Provider:saml-for-get\&quot;,\&quot;iconUrl\&quot;:null,\&quot;groupMappingMode\&quot;:\&quot;EXPLICITLY_MAPPED\&quot;,\&quot;skipSslValidation\&quot;:false,\&quot;authnContext\&quot;:null,\&quot;socketFactoryClassName\&quot;:null}&quot;,
  &quot;id&quot; : &quot;791afba4-16f9-47f1-aab3-b092e38ce2ce&quot;,
  &quot;originKey&quot; : &quot;saml-for-get&quot;,
  &quot;name&quot; : &quot;saml-for-get name&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286164630,
  &quot;last_modified&quot; : 1501286164630,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/identity-providers/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.&lt;zone id&gt;.admin</code> or <code>zones.&lt;zone id&gt;.idps.read</code> or <code>uaa.admin</code> or <code>idps.read</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>zones.&lt;zone id&gt;.idps.read</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code>config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td><code>config.providerDescription</code></td>
<td><code>String</code></td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td><code>config.emailDomain</code></td>
<td><code>Array</code></td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td><code>active</code></td>
<td><code>Boolean</code></td>
<td>Defaults to true.</td>
</tr>
<tr>
<td><code>config.addShadowUserOnLogin</code></td>
<td><code>Boolean</code></td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td><code>config.storeCustomAttributes</code></td>
<td><code>Boolean</code></td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>String</code></td>
<td>Type of the identity provider.</td>
</tr>
<tr>
<td><code>originKey</code></td>
<td><code>String</code></td>
<td>Unique identifier for the identity provider.</td>
</tr>
<tr>
<td><code>config</code></td>
<td><code>String</code></td>
<td>Various configuration properties for the identity provider.</td>
</tr>
<tr>
<td><code>config.additionalConfiguration</code></td>
<td><code>Object</code></td>
<td>(Unused.)</td>
</tr>
<tr>
<td><code>version</code></td>
<td><code>Number</code></td>
<td>Version of the identity provider data. Clients can use this to protect against conflicting updates</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
<tr>
<td><code>identityZoneId</code></td>
<td><code>String</code></td>
<td>Set to the zone that this provider will be active in. Determined either by the Host header or the zone switch header.</td>
</tr>
<tr>
<td><code>created</code></td>
<td><code>Number</code></td>
<td>UAA sets the creation date</td>
</tr>
<tr>
<td><code>last_modified</code></td>
<td><code>Number</code></td>
<td>UAA sets the modification date</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>
<h2 id='update-45266'>Update</h2>
<pre><code class="bash">$ curl &#39;http://localhost/identity-providers/f444b969-eb86-4bc6-b2ea-26f8424957f0?rawConfig=true&#39; -i -X PUT \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer c867a38e7aa84aed91d67f1c54ade5d1&#39; \
    -d &#39;{&quot;type&quot;:&quot;uaa&quot;,&quot;config&quot;:{&quot;emailDomain&quot;:null,&quot;providerDescription&quot;:null,&quot;passwordPolicy&quot;:null,&quot;lockoutPolicy&quot;:{&quot;lockoutPeriodSeconds&quot;:8,&quot;lockoutAfterFailures&quot;:8,&quot;countFailuresWithin&quot;:8},&quot;disableInternalUserManagement&quot;:false},&quot;originKey&quot;:&quot;uaa&quot;,&quot;name&quot;:&quot;uaa&quot;,&quot;version&quot;:3,&quot;active&quot;:true}&#39;
</code></pre>

<pre><code class="http">PUT /identity-providers/f444b969-eb86-4bc6-b2ea-26f8424957f0?rawConfig=true HTTP/1.1
Content-Type: application/json
Authorization: Bearer c867a38e7aa84aed91d67f1c54ade5d1
Host: localhost
Content-Length: 280

{&quot;type&quot;:&quot;uaa&quot;,&quot;config&quot;:{&quot;emailDomain&quot;:null,&quot;providerDescription&quot;:null,&quot;passwordPolicy&quot;:null,&quot;lockoutPolicy&quot;:{&quot;lockoutPeriodSeconds&quot;:8,&quot;lockoutAfterFailures&quot;:8,&quot;countFailuresWithin&quot;:8},&quot;disableInternalUserManagement&quot;:false},&quot;originKey&quot;:&quot;uaa&quot;,&quot;name&quot;:&quot;uaa&quot;,&quot;version&quot;:3,&quot;active&quot;:true}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 559

{
  &quot;type&quot; : &quot;uaa&quot;,
  &quot;config&quot; : {
    &quot;emailDomain&quot; : null,
    &quot;additionalConfiguration&quot; : null,
    &quot;providerDescription&quot; : null,
    &quot;passwordPolicy&quot; : null,
    &quot;lockoutPolicy&quot; : {
      &quot;lockoutPeriodSeconds&quot; : 8,
      &quot;lockoutAfterFailures&quot; : 8,
      &quot;countFailuresWithin&quot; : 8
    },
    &quot;disableInternalUserManagement&quot; : false
  },
  &quot;id&quot; : &quot;f444b969-eb86-4bc6-b2ea-26f8424957f0&quot;,
  &quot;originKey&quot; : &quot;uaa&quot;,
  &quot;name&quot; : &quot;uaa&quot;,
  &quot;version&quot; : 4,
  &quot;created&quot; : 946684800000,
  &quot;last_modified&quot; : 1501286166061,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/identity-providers/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> or <code>idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code>config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<aside class="notice">
  This example is for updating the internal (uaa) identity provider. <br/>
  For SAML refer to <a href="#saml">SAML Provider Fields. </a> <br/>
  For LDAP identity provider refer to <a href="#ldap">LDAP Provider Fields. </a>
</aside>

<p><em>Request and Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td>config.providerDescription</td>
<td>String</td>
<td>Optional</td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td>config.emailDomain</td>
<td>Array</td>
<td>Optional</td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true.</td>
</tr>
<tr>
<td>config.addShadowUserOnLogin</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td>config.storeCustomAttributes</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td><code>uaa</code></td>
</tr>
<tr>
<td>originKey</td>
<td>String</td>
<td>Required</td>
<td>A unique identifier for the IDP. Cannot be updated.</td>
</tr>
<tr>
<td>version</td>
<td>Number</td>
<td>Required</td>
<td>Version of the identity provider data. Clients can use this to protect against conflicting updates</td>
</tr>
<tr>
<td>config.passwordPolicy.minLength</td>
<td>Number</td>
<td>Required when <code>passwordPolicy</code> in the config is not null</td>
<td>Minimum number of characters required for password to be considered valid (defaults to 0).</td>
</tr>
<tr>
<td>config.passwordPolicy.maxLength</td>
<td>Number</td>
<td>Required when <code>passwordPolicy</code> in the config is not null</td>
<td>Maximum number of characters required for password to be considered valid (defaults to 255).</td>
</tr>
<tr>
<td>config.passwordPolicy.requireUpperCaseCharacter</td>
<td>Number</td>
<td>Required when <code>passwordPolicy</code> in the config is not null</td>
<td>Minimum number of uppercase characters required for password to be considered valid (defaults to 0).</td>
</tr>
<tr>
<td>config.passwordPolicy.requireLowerCaseCharacter</td>
<td>Number</td>
<td>Required when <code>passwordPolicy</code> in the config is not null</td>
<td>Minimum number of lowercase characters required for password to be considered valid (defaults to 0).</td>
</tr>
<tr>
<td>config.passwordPolicy.requireDigit</td>
<td>Number</td>
<td>Required when <code>passwordPolicy</code> in the config is not null</td>
<td>Minimum number of digits required for password to be considered valid (defaults to 0).</td>
</tr>
<tr>
<td>config.passwordPolicy.requireSpecialCharacter</td>
<td>Number</td>
<td>Required when <code>passwordPolicy</code> in the config is not null</td>
<td>Minimum number of special characters required for password to be considered valid (defaults to 0).</td>
</tr>
<tr>
<td>config.passwordPolicy.expirePasswordInMonths</td>
<td>Number</td>
<td>Required when <code>passwordPolicy</code> in the config is not null</td>
<td>Number of months after which current password expires (defaults to 0).</td>
</tr>
<tr>
<td>config.passwordPolicy.passwordNewerThan</td>
<td>Number</td>
<td>Required when <code>passwordPolicy</code> in the config is not null</td>
<td>This timestamp value can be used to force change password for every user. If the user&#39;s passwordLastModified is older than this value, the password is expired (defaults to null).</td>
</tr>
<tr>
<td>config.lockoutPolicy.lockoutPeriodSeconds</td>
<td>Number</td>
<td>Required when <code>LockoutPolicy</code> in the config is not null</td>
<td>Number of seconds in which lockoutAfterFailures failures must occur in order for account to be locked (defaults to 3600).</td>
</tr>
<tr>
<td>config.lockoutPolicy.lockoutAfterFailures</td>
<td>Number</td>
<td>Required when <code>LockoutPolicy</code> in the config is not null</td>
<td>Number of allowed failures before account is locked (defaults to 5).</td>
</tr>
<tr>
<td>config.lockoutPolicy.countFailuresWithin</td>
<td>Number</td>
<td>Required when <code>LockoutPolicy</code> in the config is not null</td>
<td>Number of seconds to lock out an account when lockoutAfterFailures failures is exceeded (defaults to 300).</td>
</tr>
<tr>
<td>config.disableInternalUserManagement</td>
<td>Boolean</td>
<td>Optional</td>
<td>When set to true, user management is disabled for this provider, defaults to false</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid config</td>
</tr>
</tbody></table>
<h2 id='delete-74093'>Delete</h2>
<pre><code class="bash">$ curl &#39;http://localhost/identity-providers/9e07a09e-24c7-4d53-b864-9a4c0e8cfe14&#39; -i -X DELETE \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 6e31ac96f18f4ed5b83ecfb86a24ad81&#39;
</code></pre>

<pre><code class="http">DELETE /identity-providers/9e07a09e-24c7-4d53-b864-9a4c0e8cfe14 HTTP/1.1
Content-Type: application/json
Authorization: Bearer 6e31ac96f18f4ed5b83ecfb86a24ad81
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 2991

{
  &quot;type&quot; : &quot;saml&quot;,
  &quot;config&quot; : &quot;{\&quot;emailDomain\&quot;:null,\&quot;additionalConfiguration\&quot;:null,\&quot;providerDescription\&quot;:null,\&quot;externalGroupsWhitelist\&quot;:[],\&quot;attributeMappings\&quot;:{},\&quot;addShadowUserOnLogin\&quot;:true,\&quot;storeCustomAttributes\&quot;:true,\&quot;metaDataLocation\&quot;:\&quot;&lt;?xml version=\\\&quot;1.0\\\&quot; encoding=\\\&quot;UTF-8\\\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\\\&quot;urn:oasis:names:tc:SAML:2.0:metadata\\\&quot; entityID=\\\&quot;http://www.okta.com/saml-for-delete\\\&quot;&gt;&lt;md:IDPSSODescriptor WantAuthnRequestsSigned=\\\&quot;true\\\&quot; protocolSupportEnumeration=\\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\\&quot;&gt;&lt;md:KeyDescriptor use=\\\&quot;signing\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIICmTCCAgKgAwIBAgIGAUPATqmEMA0GCSqGSIb3DQEBBQUAMIGPMQswCQYDVQQGEwJVUzETMBEG\\nA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEU\\nMBIGA1UECwwLU1NPUHJvdmlkZXIxEDAOBgNVBAMMB1Bpdm90YWwxHDAaBgkqhkiG9w0BCQEWDWlu\\nZm9Ab2t0YS5jb20wHhcNMTQwMTIzMTgxMjM3WhcNNDQwMTIzMTgxMzM3WjCBjzELMAkGA1UEBhMC\\nVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xDTALBgNVBAoM\\nBE9rdGExFDASBgNVBAsMC1NTT1Byb3ZpZGVyMRAwDgYDVQQDDAdQaXZvdGFsMRwwGgYJKoZIhvcN\\nAQkBFg1pbmZvQG9rdGEuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCeil67/TLOiTZU\\nWWgW2XEGgFZ94bVO90v5J1XmcHMwL8v5Z/8qjdZLpGdwI7Ph0CyXMMNklpaR/Ljb8fsls3amdT5O\\nBw92Zo8ulcpjw2wuezTwL0eC0wY/GQDAZiXL59npE6U+fH1lbJIq92hx0HJSru/0O1q3+A/+jjZL\\n3tL/SwIDAQABMA0GCSqGSIb3DQEBBQUAA4GBAI5BoWZoH6Mz9vhypZPOJCEKa/K+biZQsA4Zqsuk\\nvvphhSERhqk/Nv76Vkl8uvJwwHbQrR9KJx4L3PRkGCG24rix71jEuXVGZUsDNM3CUKnARx4MEab6\\nGFHNkZ6DmoT/PFagngecHu+EwmuDtaG0rEkFrARwe+d8Ru0BN558abFb&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:SingleSignOnService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\\\&quot;/&gt;&lt;md:SingleSignOnService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\&quot; Location=\\\&quot;https://pivotal.oktapreview.com/app/pivotal_pivotalcfstaging_1/k2lw4l5bPODCMIIDBRYZ/sso/saml\\\&quot;/&gt;&lt;/md:IDPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\\n\&quot;,\&quot;idpEntityAlias\&quot;:\&quot;saml-for-delete\&quot;,\&quot;zoneId\&quot;:\&quot;uaa\&quot;,\&quot;nameID\&quot;:\&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress\&quot;,\&quot;assertionConsumerIndex\&quot;:0,\&quot;metadataTrustCheck\&quot;:false,\&quot;showSamlLink\&quot;:false,\&quot;linkText\&quot;:\&quot;IDPEndpointsMockTests Saml Provider:saml-for-delete\&quot;,\&quot;iconUrl\&quot;:null,\&quot;groupMappingMode\&quot;:\&quot;EXPLICITLY_MAPPED\&quot;,\&quot;skipSslValidation\&quot;:false,\&quot;authnContext\&quot;:null,\&quot;socketFactoryClassName\&quot;:null}&quot;,
  &quot;id&quot; : &quot;9e07a09e-24c7-4d53-b864-9a4c0e8cfe14&quot;,
  &quot;originKey&quot; : &quot;saml-for-delete&quot;,
  &quot;name&quot; : &quot;saml-for-delete name&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286165998,
  &quot;last_modified&quot; : 1501286165998,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/identity-providers/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> or <code>idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rawConfig</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td><small><mark>UAA 3.4.0</mark></small> Flag indicating whether the response should use raw, unescaped JSON for the <code>config</code> field of the IDP, rather than the default behavior of encoding the JSON as a string.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>Human-readable name for this provider</td>
</tr>
<tr>
<td><code>config.providerDescription</code></td>
<td><code>String</code></td>
<td>Human readable name/description of this provider</td>
</tr>
<tr>
<td><code>config.emailDomain</code></td>
<td><code>Array</code></td>
<td>List of email domains associated with the provider for the purpose of associating users to the correct origin upon invitation. If empty list, no invitations are accepted. Wildcards supported.</td>
</tr>
<tr>
<td><code>active</code></td>
<td><code>Boolean</code></td>
<td>Defaults to true.</td>
</tr>
<tr>
<td><code>config.addShadowUserOnLogin</code></td>
<td><code>Boolean</code></td>
<td>Whether users should be allowed to authenticate from LDAP without having a user pre-populated in the users database</td>
</tr>
<tr>
<td><code>config.storeCustomAttributes</code></td>
<td><code>Boolean</code></td>
<td>Set to true, to store custom user attributes to be fetched from the /userinfo endpoint</td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>String</code></td>
<td>Type of the identity provider.</td>
</tr>
<tr>
<td><code>originKey</code></td>
<td><code>String</code></td>
<td>Unique identifier for the identity provider.</td>
</tr>
<tr>
<td><code>config</code></td>
<td><code>String</code></td>
<td>Various configuration properties for the identity provider.</td>
</tr>
<tr>
<td><code>config.additionalConfiguration</code></td>
<td><code>Object</code></td>
<td>(Unused.)</td>
</tr>
<tr>
<td><code>version</code></td>
<td><code>Number</code></td>
<td>Version of the identity provider data. Clients can use this to protect against conflicting updates</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
<tr>
<td><code>identityZoneId</code></td>
<td><code>String</code></td>
<td>Set to the zone that this provider will be active in. Determined either by the Host header or the zone switch header.</td>
</tr>
<tr>
<td><code>created</code></td>
<td><code>Number</code></td>
<td>UAA sets the creation date</td>
</tr>
<tr>
<td><code>last_modified</code></td>
<td><code>Number</code></td>
<td>UAA sets the modification date</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity</td>
</tr>
</tbody></table>
<h2 id='force-password-change-for-users-81896'>Force password change for Users</h2>
<pre><code class="bash">$ curl &#39;http://localhost/identity-providers/f444b969-eb86-4bc6-b2ea-26f8424957f0/status&#39; -i -X PATCH \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer ecb657eab9cf48648d6f5a8565601c7a&#39; \
    -d &#39;{&quot;requirePasswordChange&quot;:true}&#39;
</code></pre>

<pre><code class="http">PATCH /identity-providers/f444b969-eb86-4bc6-b2ea-26f8424957f0/status HTTP/1.1
Content-Type: application/json
Authorization: Bearer ecb657eab9cf48648d6f5a8565601c7a
Host: localhost
Content-Length: 30

{&quot;requirePasswordChange&quot;:true}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 36

{
  &quot;requirePasswordChange&quot; : true
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/identity-providers/{id}/status</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for this provider - GUID generated by the UAA</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> or <code>idps.write</code> (only in the same zone that you are a user of)</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<aside class="notice">
  This example is for updating the internal (uaa) identity provider only. <br/>
  It is not a valid operation to update SAML or LDAP identity providers <br/>
</aside>

<p><em>Request and Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>requirePasswordChange</td>
<td>Boolean</td>
<td>Required</td>
<td>Set to <code>true</code> in order to force password change for all users. The <code>passwordNewerThan</code> property in PasswordPolicy of the IdentityProvider will be updated with current system time. If the user&#39;s passwordLastModified is older than this value, the password is expired.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity - Invalid config</td>
</tr>
</tbody></table>
<h1 id='service-providers-78244'>Service Providers</h1>
<p>UAA is capable of acting as a SAML Identity Provider (IdP). When UAA receives a SAML authentication request from a recognized SAML Service Provider (SP), UAA will authenticate the user then send a SAML authentication response back to the SAML SP. If UAA succesfully authenticated the user the SAML authentication response will contain a SAML assertion as per specification.</p>

<p>Obtaining the UAA SAML IdP metadata:</p>

<p>In order to establish trust, a SAML IdP and SAML SP exchange SAML metadata which contains pulbic certificates as well as the endpoints used to communicate amongst each other. Your SAML SP will likely require the UAA SAML IdP metadata in order to make authentication requests to UAA. You can obtain this metadata by making a GET request to the /saml/idp/metadata endpoint.</p>

<p>GET http://localhost:8080/uaa/saml/idp/metadata</p>
<h2 id='list-43757'>List</h2>
<pre><code class="bash">$ curl &#39;http://localhost/saml/service-providers&#39; -i \
    -H &#39;Authorization: Bearer 9aafe22d63374739aae72c9432906526&#39;
</code></pre>

<pre><code class="http">GET /saml/service-providers HTTP/1.1
Authorization: Bearer 9aafe22d63374739aae72c9432906526
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 7038

[ {
  &quot;config&quot; : &quot;{\&quot;metaDataLocation\&quot;:\&quot;&lt;?xml version=\\\&quot;1.0\\\&quot; encoding=\\\&quot;UTF-8\\\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\\\&quot;urn:oasis:names:tc:SAML:2.0:metadata\\\&quot; ID=\\\&quot;HmmjuhMDAs.cloudfoundry-saml-login\\\&quot; entityID=\\\&quot;HmmjuhMDAs.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Signature xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:SignedInfo&gt;&lt;ds:CanonicalizationMethod Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;ds:SignatureMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1\\\&quot;/&gt;&lt;ds:Reference URI=\\\&quot;#HmmjuhMDAs.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature\\\&quot;/&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#sha1\\\&quot;/&gt;&lt;ds:DigestValue&gt;zALgjEFJ7jJSwn2AOBH5H8CX93U=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;/ds:SignedInfo&gt;&lt;ds:SignatureValue&gt;Rp5XH8eT0ek/vlFGzHgIFOeESchOwSYZ9oh4JA9WqQ0jJtvNQ9IttY2QY9XK3n6TbbtPcEKVgljyTfwD5ymp+oMKfIYQC9JsN8mPADN5rjLFgC+xGceWLbcjoNsCJ7x2ZjyWRblSxoOU5qnzxEA3k3Bu+OkV+ZXcSbmgMWoQACg=&lt;/ds:SignatureValue&gt;&lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;md:SPSSODescriptor AuthnRequestsSigned=\\\&quot;true\\\&quot; WantAssertionsSigned=\\\&quot;true\\\&quot; protocolSupportEnumeration=\\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\\&quot;&gt;&lt;md:KeyDescriptor use=\\\&quot;signing\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:KeyDescriptor use=\\\&quot;encryption\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://HmmjuhMDAs.localhost:8080/uaa/saml/SingleLogout/alias/HmmjuhMDAs.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\&quot; Location=\\\&quot;http://HmmjuhMDAs.localhost:8080/uaa/saml/SingleLogout/alias/HmmjuhMDAs.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName&lt;/md:NameIDFormat&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://HmmjuhMDAs.localhost:8080/uaa/saml/SSO/alias/HmmjuhMDAs.cloudfoundry-saml-login\\\&quot; index=\\\&quot;0\\\&quot; isDefault=\\\&quot;true\\\&quot;/&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\\\&quot; Location=\\\&quot;http://HmmjuhMDAs.localhost:8080/uaa/saml/SSO/alias/HmmjuhMDAs.cloudfoundry-saml-login\\\&quot; index=\\\&quot;1\\\&quot;/&gt;&lt;/md:SPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\&quot;,\&quot;nameID\&quot;:null,\&quot;singleSignOnServiceIndex\&quot;:0,\&quot;metadataTrustCheck\&quot;:true,\&quot;skipSslValidation\&quot;:false}&quot;,
  &quot;id&quot; : &quot;8977835d-64d2-4873-b61f-ecc97418dccb&quot;,
  &quot;entityId&quot; : &quot;HmmjuhMDAs.cloudfoundry-saml-login&quot;,
  &quot;name&quot; : &quot;HmmjuhMDAs&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286191407,
  &quot;lastModified&quot; : 1501286191407,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
} ]
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>sps.read</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>[].id</code></td>
<td><code>String</code></td>
<td>Unique identifier for this provider - GUID generated by the UAA.</td>
</tr>
<tr>
<td><code>[].name</code></td>
<td><code>String</code></td>
<td>Human readable name for the SAML SP.</td>
</tr>
<tr>
<td><code>[].entityId</code></td>
<td><code>String</code></td>
<td>The entity id of the SAML SP.</td>
</tr>
<tr>
<td><code>[].active</code></td>
<td><code>Boolean</code></td>
<td>Defaults to true.</td>
</tr>
<tr>
<td><code>[].created</code></td>
<td><code>Number</code></td>
<td>UAA sets this to the UTC creation date.</td>
</tr>
<tr>
<td><code>[].identityZoneId</code></td>
<td><code>String</code></td>
<td>Set to the zone that this provider will be active in. Determined by either.</td>
</tr>
<tr>
<td><code>[].lastModified</code></td>
<td><code>Number</code></td>
<td>UAA sets this to the UTC last date of modification.</td>
</tr>
<tr>
<td><code>[].version</code></td>
<td><code>Number</code></td>
<td>Version of the identity provider data. Clients can use this.</td>
</tr>
<tr>
<td><code>[].config</code></td>
<td><code>String</code></td>
<td>Contains metaDataLocation and metadataTrustCheck fields as json fields.</td>
</tr>
<tr>
<td><code>[].config.metaDataLocation</code></td>
<td><code>String</code></td>
<td>The SAML SP Metadata - either an XML string or a URL that.</td>
</tr>
<tr>
<td><code>[].config.metadataTrustCheck</code></td>
<td><code>Boolean</code></td>
<td>Determines whether UAA should validate the SAML SP metadata.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>
<h2 id='get-39801'>Get</h2>
<pre><code class="bash">$ curl &#39;http://localhost/saml/service-providers/f3ea0ddc-1db3-4c7e-8819-4cb5c8b7a3d9&#39; -i \
    -H &#39;Authorization: Bearer e145613776f9452e89f66af4472b9474&#39;
</code></pre>

<pre><code class="http">GET /saml/service-providers/f3ea0ddc-1db3-4c7e-8819-4cb5c8b7a3d9 HTTP/1.1
Authorization: Bearer e145613776f9452e89f66af4472b9474
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 7034

{
  &quot;config&quot; : &quot;{\&quot;metaDataLocation\&quot;:\&quot;&lt;?xml version=\\\&quot;1.0\\\&quot; encoding=\\\&quot;UTF-8\\\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\\\&quot;urn:oasis:names:tc:SAML:2.0:metadata\\\&quot; ID=\\\&quot;YQ4XGrDwrW.cloudfoundry-saml-login\\\&quot; entityID=\\\&quot;YQ4XGrDwrW.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Signature xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:SignedInfo&gt;&lt;ds:CanonicalizationMethod Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;ds:SignatureMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1\\\&quot;/&gt;&lt;ds:Reference URI=\\\&quot;#YQ4XGrDwrW.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature\\\&quot;/&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#sha1\\\&quot;/&gt;&lt;ds:DigestValue&gt;zALgjEFJ7jJSwn2AOBH5H8CX93U=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;/ds:SignedInfo&gt;&lt;ds:SignatureValue&gt;Rp5XH8eT0ek/vlFGzHgIFOeESchOwSYZ9oh4JA9WqQ0jJtvNQ9IttY2QY9XK3n6TbbtPcEKVgljyTfwD5ymp+oMKfIYQC9JsN8mPADN5rjLFgC+xGceWLbcjoNsCJ7x2ZjyWRblSxoOU5qnzxEA3k3Bu+OkV+ZXcSbmgMWoQACg=&lt;/ds:SignatureValue&gt;&lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;md:SPSSODescriptor AuthnRequestsSigned=\\\&quot;true\\\&quot; WantAssertionsSigned=\\\&quot;true\\\&quot; protocolSupportEnumeration=\\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\\&quot;&gt;&lt;md:KeyDescriptor use=\\\&quot;signing\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:KeyDescriptor use=\\\&quot;encryption\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://YQ4XGrDwrW.localhost:8080/uaa/saml/SingleLogout/alias/YQ4XGrDwrW.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\&quot; Location=\\\&quot;http://YQ4XGrDwrW.localhost:8080/uaa/saml/SingleLogout/alias/YQ4XGrDwrW.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName&lt;/md:NameIDFormat&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://YQ4XGrDwrW.localhost:8080/uaa/saml/SSO/alias/YQ4XGrDwrW.cloudfoundry-saml-login\\\&quot; index=\\\&quot;0\\\&quot; isDefault=\\\&quot;true\\\&quot;/&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\\\&quot; Location=\\\&quot;http://YQ4XGrDwrW.localhost:8080/uaa/saml/SSO/alias/YQ4XGrDwrW.cloudfoundry-saml-login\\\&quot; index=\\\&quot;1\\\&quot;/&gt;&lt;/md:SPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\&quot;,\&quot;nameID\&quot;:null,\&quot;singleSignOnServiceIndex\&quot;:0,\&quot;metadataTrustCheck\&quot;:true,\&quot;skipSslValidation\&quot;:false}&quot;,
  &quot;id&quot; : &quot;f3ea0ddc-1db3-4c7e-8819-4cb5c8b7a3d9&quot;,
  &quot;entityId&quot; : &quot;YQ4XGrDwrW.cloudfoundry-saml-login&quot;,
  &quot;name&quot; : &quot;YQ4XGrDwrW&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286191470,
  &quot;lastModified&quot; : 1501286191470,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>sps.read</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Path Parameters</em></p>

<p>/saml/service-providers/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique ID of the service provider</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique identifier for this provider - GUID generated by the UAA.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>Human readable name for the SAML SP.</td>
</tr>
<tr>
<td><code>entityId</code></td>
<td><code>String</code></td>
<td>The entity id of the SAML SP.</td>
</tr>
<tr>
<td><code>active</code></td>
<td><code>Boolean</code></td>
<td>Defaults to true.</td>
</tr>
<tr>
<td><code>created</code></td>
<td><code>Number</code></td>
<td>UAA sets this to the UTC creation date.</td>
</tr>
<tr>
<td><code>identityZoneId</code></td>
<td><code>String</code></td>
<td>Set to the zone that this provider will be active in. Determined by either.</td>
</tr>
<tr>
<td><code>lastModified</code></td>
<td><code>Number</code></td>
<td>UAA sets this to the UTC last date of modification.</td>
</tr>
<tr>
<td><code>version</code></td>
<td><code>Number</code></td>
<td>Version of the identity provider data. Clients can use this.</td>
</tr>
<tr>
<td><code>config</code></td>
<td><code>String</code></td>
<td>Contains metaDataLocation and metadataTrustCheck fields as json fields.</td>
</tr>
<tr>
<td><code>config.metaDataLocation</code></td>
<td><code>String</code></td>
<td>The SAML SP Metadata - either an XML string or a URL that.</td>
</tr>
<tr>
<td><code>config.metadataTrustCheck</code></td>
<td><code>Boolean</code></td>
<td>Determines whether UAA should validate the SAML SP metadata.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>
<h2 id='create-62742'>Create</h2>
<pre><code class="bash">$ curl &#39;http://localhost/saml/service-providers&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 1ef8aae5bf7340c0ad846b2a091a2ac2&#39; \
    -d &#39;{
  &quot;name&quot; : &quot;08ozaQ6avW&quot;,
  &quot;entityId&quot; : &quot;08ozaQ6avW.cloudfoundry-saml-login&quot;,
  &quot;active&quot; : true,
  &quot;config&quot; : &quot;{\&quot;metaDataLocation\&quot; : \&quot;&lt;?xml version=\\\&quot;1.0\\\&quot; encoding=\\\&quot;UTF-8\\\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\\\&quot;urn:oasis:names:tc:SAML:2.0:metadata\\\&quot; ID=\\\&quot;08ozaQ6avW.cloudfoundry-saml-login\\\&quot; entityID=\\\&quot;08ozaQ6avW.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Signature xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:SignedInfo&gt;&lt;ds:CanonicalizationMethod Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;ds:SignatureMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1\\\&quot;/&gt;&lt;ds:Reference URI=\\\&quot;#08ozaQ6avW.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature\\\&quot;/&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#sha1\\\&quot;/&gt;&lt;ds:DigestValue&gt;zALgjEFJ7jJSwn2AOBH5H8CX93U=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;/ds:SignedInfo&gt;&lt;ds:SignatureValue&gt;Rp5XH8eT0ek/vlFGzHgIFOeESchOwSYZ9oh4JA9WqQ0jJtvNQ9IttY2QY9XK3n6TbbtPcEKVgljyTfwD5ymp+oMKfIYQC9JsN8mPADN5rjLFgC+xGceWLbcjoNsCJ7x2ZjyWRblSxoOU5qnzxEA3k3Bu+OkV+ZXcSbmgMWoQACg=&lt;/ds:SignatureValue&gt;&lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;md:SPSSODescriptor AuthnRequestsSigned=\\\&quot;true\\\&quot; WantAssertionsSigned=\\\&quot;true\\\&quot; protocolSupportEnumeration=\\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\\&quot;&gt;&lt;md:KeyDescriptor use=\\\&quot;signing\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:KeyDescriptor use=\\\&quot;encryption\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://08ozaQ6avW.localhost:8080/uaa/saml/SingleLogout/alias/08ozaQ6avW.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\&quot; Location=\\\&quot;http://08ozaQ6avW.localhost:8080/uaa/saml/SingleLogout/alias/08ozaQ6avW.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName&lt;/md:NameIDFormat&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://08ozaQ6avW.localhost:8080/uaa/saml/SSO/alias/08ozaQ6avW.cloudfoundry-saml-login\\\&quot; index=\\\&quot;0\\\&quot; isDefault=\\\&quot;true\\\&quot;/&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\\\&quot; Location=\\\&quot;http://08ozaQ6avW.localhost:8080/uaa/saml/SSO/alias/08ozaQ6avW.cloudfoundry-saml-login\\\&quot; index=\\\&quot;1\\\&quot;/&gt;&lt;/md:SPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\&quot;,\&quot;metadataTrustCheck\&quot; : true }&quot;
}&#39;
</code></pre>

<pre><code class="http">POST /saml/service-providers HTTP/1.1
Content-Type: application/json
Authorization: Bearer 1ef8aae5bf7340c0ad846b2a091a2ac2
Host: localhost
Content-Length: 6807

{
  &quot;name&quot; : &quot;08ozaQ6avW&quot;,
  &quot;entityId&quot; : &quot;08ozaQ6avW.cloudfoundry-saml-login&quot;,
  &quot;active&quot; : true,
  &quot;config&quot; : &quot;{\&quot;metaDataLocation\&quot; : \&quot;&lt;?xml version=\\\&quot;1.0\\\&quot; encoding=\\\&quot;UTF-8\\\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\\\&quot;urn:oasis:names:tc:SAML:2.0:metadata\\\&quot; ID=\\\&quot;08ozaQ6avW.cloudfoundry-saml-login\\\&quot; entityID=\\\&quot;08ozaQ6avW.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Signature xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:SignedInfo&gt;&lt;ds:CanonicalizationMethod Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;ds:SignatureMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1\\\&quot;/&gt;&lt;ds:Reference URI=\\\&quot;#08ozaQ6avW.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature\\\&quot;/&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#sha1\\\&quot;/&gt;&lt;ds:DigestValue&gt;zALgjEFJ7jJSwn2AOBH5H8CX93U=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;/ds:SignedInfo&gt;&lt;ds:SignatureValue&gt;Rp5XH8eT0ek/vlFGzHgIFOeESchOwSYZ9oh4JA9WqQ0jJtvNQ9IttY2QY9XK3n6TbbtPcEKVgljyTfwD5ymp+oMKfIYQC9JsN8mPADN5rjLFgC+xGceWLbcjoNsCJ7x2ZjyWRblSxoOU5qnzxEA3k3Bu+OkV+ZXcSbmgMWoQACg=&lt;/ds:SignatureValue&gt;&lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;md:SPSSODescriptor AuthnRequestsSigned=\\\&quot;true\\\&quot; WantAssertionsSigned=\\\&quot;true\\\&quot; protocolSupportEnumeration=\\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\\&quot;&gt;&lt;md:KeyDescriptor use=\\\&quot;signing\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:KeyDescriptor use=\\\&quot;encryption\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://08ozaQ6avW.localhost:8080/uaa/saml/SingleLogout/alias/08ozaQ6avW.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\&quot; Location=\\\&quot;http://08ozaQ6avW.localhost:8080/uaa/saml/SingleLogout/alias/08ozaQ6avW.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName&lt;/md:NameIDFormat&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://08ozaQ6avW.localhost:8080/uaa/saml/SSO/alias/08ozaQ6avW.cloudfoundry-saml-login\\\&quot; index=\\\&quot;0\\\&quot; isDefault=\\\&quot;true\\\&quot;/&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\\\&quot; Location=\\\&quot;http://08ozaQ6avW.localhost:8080/uaa/saml/SSO/alias/08ozaQ6avW.cloudfoundry-saml-login\\\&quot; index=\\\&quot;1\\\&quot;/&gt;&lt;/md:SPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\&quot;,\&quot;metadataTrustCheck\&quot; : true }&quot;
}
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 7034

{
  &quot;config&quot; : &quot;{\&quot;metaDataLocation\&quot;:\&quot;&lt;?xml version=\\\&quot;1.0\\\&quot; encoding=\\\&quot;UTF-8\\\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\\\&quot;urn:oasis:names:tc:SAML:2.0:metadata\\\&quot; ID=\\\&quot;08ozaQ6avW.cloudfoundry-saml-login\\\&quot; entityID=\\\&quot;08ozaQ6avW.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Signature xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:SignedInfo&gt;&lt;ds:CanonicalizationMethod Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;ds:SignatureMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1\\\&quot;/&gt;&lt;ds:Reference URI=\\\&quot;#08ozaQ6avW.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature\\\&quot;/&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#sha1\\\&quot;/&gt;&lt;ds:DigestValue&gt;zALgjEFJ7jJSwn2AOBH5H8CX93U=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;/ds:SignedInfo&gt;&lt;ds:SignatureValue&gt;Rp5XH8eT0ek/vlFGzHgIFOeESchOwSYZ9oh4JA9WqQ0jJtvNQ9IttY2QY9XK3n6TbbtPcEKVgljyTfwD5ymp+oMKfIYQC9JsN8mPADN5rjLFgC+xGceWLbcjoNsCJ7x2ZjyWRblSxoOU5qnzxEA3k3Bu+OkV+ZXcSbmgMWoQACg=&lt;/ds:SignatureValue&gt;&lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;md:SPSSODescriptor AuthnRequestsSigned=\\\&quot;true\\\&quot; WantAssertionsSigned=\\\&quot;true\\\&quot; protocolSupportEnumeration=\\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\\&quot;&gt;&lt;md:KeyDescriptor use=\\\&quot;signing\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:KeyDescriptor use=\\\&quot;encryption\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://08ozaQ6avW.localhost:8080/uaa/saml/SingleLogout/alias/08ozaQ6avW.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\&quot; Location=\\\&quot;http://08ozaQ6avW.localhost:8080/uaa/saml/SingleLogout/alias/08ozaQ6avW.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName&lt;/md:NameIDFormat&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://08ozaQ6avW.localhost:8080/uaa/saml/SSO/alias/08ozaQ6avW.cloudfoundry-saml-login\\\&quot; index=\\\&quot;0\\\&quot; isDefault=\\\&quot;true\\\&quot;/&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\\\&quot; Location=\\\&quot;http://08ozaQ6avW.localhost:8080/uaa/saml/SSO/alias/08ozaQ6avW.cloudfoundry-saml-login\\\&quot; index=\\\&quot;1\\\&quot;/&gt;&lt;/md:SPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\&quot;,\&quot;nameID\&quot;:null,\&quot;singleSignOnServiceIndex\&quot;:0,\&quot;metadataTrustCheck\&quot;:true,\&quot;skipSslValidation\&quot;:false}&quot;,
  &quot;id&quot; : &quot;b512c712-4767-4892-82a1-f0e5d121d8b2&quot;,
  &quot;entityId&quot; : &quot;08ozaQ6avW.cloudfoundry-saml-login&quot;,
  &quot;name&quot; : &quot;08ozaQ6avW&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286191593,
  &quot;lastModified&quot; : 1501286191593,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>sps.write</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human readable name for the SAML SP.</td>
</tr>
<tr>
<td>entityId</td>
<td>String</td>
<td>Optional</td>
<td>If provided, it should match the entityId in the SP metadata.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true</td>
</tr>
<tr>
<td>config</td>
<td>String</td>
<td>Required</td>
<td>Contains metaDataLocation and metadataTrustCheck fields as json fields.</td>
</tr>
<tr>
<td>config.metaDataLocation</td>
<td>String</td>
<td>Required</td>
<td>The SAML SP Metadata - either an XML string or a URL that</td>
</tr>
<tr>
<td>config.metadataTrustCheck</td>
<td>Boolean</td>
<td>Optional</td>
<td>Determines whether UAA should validate the SAML SP metadata.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique identifier for this provider - GUID generated by the UAA.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>Human readable name for the SAML SP.</td>
</tr>
<tr>
<td><code>entityId</code></td>
<td><code>String</code></td>
<td>The entity id of the SAML SP.</td>
</tr>
<tr>
<td><code>active</code></td>
<td><code>Boolean</code></td>
<td>Defaults to true.</td>
</tr>
<tr>
<td><code>created</code></td>
<td><code>Number</code></td>
<td>UAA sets this to the UTC creation date.</td>
</tr>
<tr>
<td><code>identityZoneId</code></td>
<td><code>String</code></td>
<td>Set to the zone that this provider will be active in. Determined by either.</td>
</tr>
<tr>
<td><code>lastModified</code></td>
<td><code>Number</code></td>
<td>UAA sets this to the UTC last date of modification.</td>
</tr>
<tr>
<td><code>version</code></td>
<td><code>Number</code></td>
<td>Version of the identity provider data. Clients can use this.</td>
</tr>
<tr>
<td><code>config</code></td>
<td><code>String</code></td>
<td>Contains metaDataLocation and metadataTrustCheck fields as json fields.</td>
</tr>
<tr>
<td><code>config.metaDataLocation</code></td>
<td><code>String</code></td>
<td>The SAML SP Metadata - either an XML string or a URL that.</td>
</tr>
<tr>
<td><code>config.metadataTrustCheck</code></td>
<td><code>Boolean</code></td>
<td>Determines whether UAA should validate the SAML SP metadata.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - A provider with the same entity id and zone id exists.</td>
</tr>
</tbody></table>
<h2 id='update-49829'>Update</h2>
<pre><code class="bash">$ curl &#39;http://localhost/saml/service-providers/f47b4f44-956a-40fc-bc4c-c7226613af87&#39; -i -X PUT \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer fc6989f4771e41d2978a2318b1684e23&#39; \
    -d &#39;{
  &quot;name&quot; : &quot;AkCfh5XEl8&quot;,
  &quot;entityId&quot; : &quot;AkCfh5XEl8.cloudfoundry-saml-login&quot;,
  &quot;active&quot; : true,
  &quot;config&quot; : &quot;{\&quot;metaDataLocation\&quot; : \&quot;&lt;?xml version=\\\&quot;1.0\\\&quot; encoding=\\\&quot;UTF-8\\\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\\\&quot;urn:oasis:names:tc:SAML:2.0:metadata\\\&quot; ID=\\\&quot;AkCfh5XEl8.cloudfoundry-saml-login\\\&quot; entityID=\\\&quot;AkCfh5XEl8.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Signature xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:SignedInfo&gt;&lt;ds:CanonicalizationMethod Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;ds:SignatureMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1\\\&quot;/&gt;&lt;ds:Reference URI=\\\&quot;#AkCfh5XEl8.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature\\\&quot;/&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#sha1\\\&quot;/&gt;&lt;ds:DigestValue&gt;zALgjEFJ7jJSwn2AOBH5H8CX93U=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;/ds:SignedInfo&gt;&lt;ds:SignatureValue&gt;Rp5XH8eT0ek/vlFGzHgIFOeESchOwSYZ9oh4JA9WqQ0jJtvNQ9IttY2QY9XK3n6TbbtPcEKVgljyTfwD5ymp+oMKfIYQC9JsN8mPADN5rjLFgC+xGceWLbcjoNsCJ7x2ZjyWRblSxoOU5qnzxEA3k3Bu+OkV+ZXcSbmgMWoQACg=&lt;/ds:SignatureValue&gt;&lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;md:SPSSODescriptor AuthnRequestsSigned=\\\&quot;true\\\&quot; WantAssertionsSigned=\\\&quot;true\\\&quot; protocolSupportEnumeration=\\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\\&quot;&gt;&lt;md:KeyDescriptor use=\\\&quot;signing\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:KeyDescriptor use=\\\&quot;encryption\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://AkCfh5XEl8.localhost:8080/uaa/saml/SingleLogout/alias/AkCfh5XEl8.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\&quot; Location=\\\&quot;http://AkCfh5XEl8.localhost:8080/uaa/saml/SingleLogout/alias/AkCfh5XEl8.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName&lt;/md:NameIDFormat&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://AkCfh5XEl8.localhost:8080/uaa/saml/SSO/alias/AkCfh5XEl8.cloudfoundry-saml-login\\\&quot; index=\\\&quot;0\\\&quot; isDefault=\\\&quot;true\\\&quot;/&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\\\&quot; Location=\\\&quot;http://AkCfh5XEl8.localhost:8080/uaa/saml/SSO/alias/AkCfh5XEl8.cloudfoundry-saml-login\\\&quot; index=\\\&quot;1\\\&quot;/&gt;&lt;/md:SPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\&quot;,\&quot;metadataTrustCheck\&quot; : true }&quot;
}&#39;
</code></pre>

<pre><code class="http">PUT /saml/service-providers/f47b4f44-956a-40fc-bc4c-c7226613af87 HTTP/1.1
Content-Type: application/json
Authorization: Bearer fc6989f4771e41d2978a2318b1684e23
Host: localhost
Content-Length: 6807

{
  &quot;name&quot; : &quot;AkCfh5XEl8&quot;,
  &quot;entityId&quot; : &quot;AkCfh5XEl8.cloudfoundry-saml-login&quot;,
  &quot;active&quot; : true,
  &quot;config&quot; : &quot;{\&quot;metaDataLocation\&quot; : \&quot;&lt;?xml version=\\\&quot;1.0\\\&quot; encoding=\\\&quot;UTF-8\\\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\\\&quot;urn:oasis:names:tc:SAML:2.0:metadata\\\&quot; ID=\\\&quot;AkCfh5XEl8.cloudfoundry-saml-login\\\&quot; entityID=\\\&quot;AkCfh5XEl8.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Signature xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:SignedInfo&gt;&lt;ds:CanonicalizationMethod Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;ds:SignatureMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1\\\&quot;/&gt;&lt;ds:Reference URI=\\\&quot;#AkCfh5XEl8.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature\\\&quot;/&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#sha1\\\&quot;/&gt;&lt;ds:DigestValue&gt;zALgjEFJ7jJSwn2AOBH5H8CX93U=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;/ds:SignedInfo&gt;&lt;ds:SignatureValue&gt;Rp5XH8eT0ek/vlFGzHgIFOeESchOwSYZ9oh4JA9WqQ0jJtvNQ9IttY2QY9XK3n6TbbtPcEKVgljyTfwD5ymp+oMKfIYQC9JsN8mPADN5rjLFgC+xGceWLbcjoNsCJ7x2ZjyWRblSxoOU5qnzxEA3k3Bu+OkV+ZXcSbmgMWoQACg=&lt;/ds:SignatureValue&gt;&lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;md:SPSSODescriptor AuthnRequestsSigned=\\\&quot;true\\\&quot; WantAssertionsSigned=\\\&quot;true\\\&quot; protocolSupportEnumeration=\\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\\&quot;&gt;&lt;md:KeyDescriptor use=\\\&quot;signing\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:KeyDescriptor use=\\\&quot;encryption\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://AkCfh5XEl8.localhost:8080/uaa/saml/SingleLogout/alias/AkCfh5XEl8.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\&quot; Location=\\\&quot;http://AkCfh5XEl8.localhost:8080/uaa/saml/SingleLogout/alias/AkCfh5XEl8.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName&lt;/md:NameIDFormat&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://AkCfh5XEl8.localhost:8080/uaa/saml/SSO/alias/AkCfh5XEl8.cloudfoundry-saml-login\\\&quot; index=\\\&quot;0\\\&quot; isDefault=\\\&quot;true\\\&quot;/&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\\\&quot; Location=\\\&quot;http://AkCfh5XEl8.localhost:8080/uaa/saml/SSO/alias/AkCfh5XEl8.cloudfoundry-saml-login\\\&quot; index=\\\&quot;1\\\&quot;/&gt;&lt;/md:SPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\&quot;,\&quot;metadataTrustCheck\&quot; : true }&quot;
}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 7034

{
  &quot;config&quot; : &quot;{\&quot;metaDataLocation\&quot;:\&quot;&lt;?xml version=\\\&quot;1.0\\\&quot; encoding=\\\&quot;UTF-8\\\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\\\&quot;urn:oasis:names:tc:SAML:2.0:metadata\\\&quot; ID=\\\&quot;AkCfh5XEl8.cloudfoundry-saml-login\\\&quot; entityID=\\\&quot;AkCfh5XEl8.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Signature xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:SignedInfo&gt;&lt;ds:CanonicalizationMethod Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;ds:SignatureMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1\\\&quot;/&gt;&lt;ds:Reference URI=\\\&quot;#AkCfh5XEl8.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature\\\&quot;/&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#sha1\\\&quot;/&gt;&lt;ds:DigestValue&gt;zALgjEFJ7jJSwn2AOBH5H8CX93U=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;/ds:SignedInfo&gt;&lt;ds:SignatureValue&gt;Rp5XH8eT0ek/vlFGzHgIFOeESchOwSYZ9oh4JA9WqQ0jJtvNQ9IttY2QY9XK3n6TbbtPcEKVgljyTfwD5ymp+oMKfIYQC9JsN8mPADN5rjLFgC+xGceWLbcjoNsCJ7x2ZjyWRblSxoOU5qnzxEA3k3Bu+OkV+ZXcSbmgMWoQACg=&lt;/ds:SignatureValue&gt;&lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;md:SPSSODescriptor AuthnRequestsSigned=\\\&quot;true\\\&quot; WantAssertionsSigned=\\\&quot;true\\\&quot; protocolSupportEnumeration=\\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\\&quot;&gt;&lt;md:KeyDescriptor use=\\\&quot;signing\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:KeyDescriptor use=\\\&quot;encryption\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://AkCfh5XEl8.localhost:8080/uaa/saml/SingleLogout/alias/AkCfh5XEl8.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\&quot; Location=\\\&quot;http://AkCfh5XEl8.localhost:8080/uaa/saml/SingleLogout/alias/AkCfh5XEl8.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName&lt;/md:NameIDFormat&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://AkCfh5XEl8.localhost:8080/uaa/saml/SSO/alias/AkCfh5XEl8.cloudfoundry-saml-login\\\&quot; index=\\\&quot;0\\\&quot; isDefault=\\\&quot;true\\\&quot;/&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\\\&quot; Location=\\\&quot;http://AkCfh5XEl8.localhost:8080/uaa/saml/SSO/alias/AkCfh5XEl8.cloudfoundry-saml-login\\\&quot; index=\\\&quot;1\\\&quot;/&gt;&lt;/md:SPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\&quot;,\&quot;nameID\&quot;:null,\&quot;singleSignOnServiceIndex\&quot;:0,\&quot;metadataTrustCheck\&quot;:true,\&quot;skipSslValidation\&quot;:false}&quot;,
  &quot;id&quot; : &quot;f47b4f44-956a-40fc-bc4c-c7226613af87&quot;,
  &quot;entityId&quot; : &quot;AkCfh5XEl8.cloudfoundry-saml-login&quot;,
  &quot;name&quot; : &quot;AkCfh5XEl8&quot;,
  &quot;version&quot; : 1,
  &quot;created&quot; : 1501286191648,
  &quot;lastModified&quot; : 1501286191668,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>sps.write</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Required</td>
<td>Human readable name for the SAML SP.</td>
</tr>
<tr>
<td>entityId</td>
<td>String</td>
<td>Optional</td>
<td>If provided, it should match the entityId in the SP metadata.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional</td>
<td>Defaults to true</td>
</tr>
<tr>
<td>config</td>
<td>String</td>
<td>Required</td>
<td>Contains metaDataLocation and metadataTrustCheck fields as json fields.</td>
</tr>
<tr>
<td>config.metaDataLocation</td>
<td>String</td>
<td>Required</td>
<td>The SAML SP Metadata - either an XML string or a URL that</td>
</tr>
<tr>
<td>config.metadataTrustCheck</td>
<td>Boolean</td>
<td>Optional</td>
<td>Determines whether UAA should validate the SAML SP metadata.</td>
</tr>
</tbody></table>

<p><em>Path Parameters</em></p>

<p>/saml/service-providers/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique ID of the service provider</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique identifier for this provider - GUID generated by the UAA.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>Human readable name for the SAML SP.</td>
</tr>
<tr>
<td><code>entityId</code></td>
<td><code>String</code></td>
<td>The entity id of the SAML SP.</td>
</tr>
<tr>
<td><code>active</code></td>
<td><code>Boolean</code></td>
<td>Defaults to true.</td>
</tr>
<tr>
<td><code>created</code></td>
<td><code>Number</code></td>
<td>UAA sets this to the UTC creation date.</td>
</tr>
<tr>
<td><code>identityZoneId</code></td>
<td><code>String</code></td>
<td>Set to the zone that this provider will be active in. Determined by either.</td>
</tr>
<tr>
<td><code>lastModified</code></td>
<td><code>Number</code></td>
<td>UAA sets this to the UTC last date of modification.</td>
</tr>
<tr>
<td><code>version</code></td>
<td><code>Number</code></td>
<td>Version of the identity provider data. Clients can use this.</td>
</tr>
<tr>
<td><code>config</code></td>
<td><code>String</code></td>
<td>Contains metaDataLocation and metadataTrustCheck fields as json fields.</td>
</tr>
<tr>
<td><code>config.metaDataLocation</code></td>
<td><code>String</code></td>
<td>The SAML SP Metadata - either an XML string or a URL that.</td>
</tr>
<tr>
<td><code>config.metadataTrustCheck</code></td>
<td><code>Boolean</code></td>
<td>Determines whether UAA should validate the SAML SP metadata.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - A provider with the same entity id and zone id exists.</td>
</tr>
</tbody></table>
<h2 id='delete-23749'>Delete</h2>
<pre><code class="bash">$ curl &#39;http://localhost/saml/service-providers/de427c8b-9744-4acf-9862-6d9cd254a16a&#39; -i -X DELETE \
    -H &#39;Authorization: Bearer c400e94cf895461e859c99eac51238c8&#39; \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">DELETE /saml/service-providers/de427c8b-9744-4acf-9862-6d9cd254a16a HTTP/1.1
Authorization: Bearer c400e94cf895461e859c99eac51238c8
Accept: application/json
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 7034

{
  &quot;config&quot; : &quot;{\&quot;metaDataLocation\&quot;:\&quot;&lt;?xml version=\\\&quot;1.0\\\&quot; encoding=\\\&quot;UTF-8\\\&quot;?&gt;&lt;md:EntityDescriptor xmlns:md=\\\&quot;urn:oasis:names:tc:SAML:2.0:metadata\\\&quot; ID=\\\&quot;fNM7BS8MEf.cloudfoundry-saml-login\\\&quot; entityID=\\\&quot;fNM7BS8MEf.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Signature xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:SignedInfo&gt;&lt;ds:CanonicalizationMethod Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;ds:SignatureMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1\\\&quot;/&gt;&lt;ds:Reference URI=\\\&quot;#fNM7BS8MEf.cloudfoundry-saml-login\\\&quot;&gt;&lt;ds:Transforms&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature\\\&quot;/&gt;&lt;ds:Transform Algorithm=\\\&quot;http://www.w3.org/2001/10/xml-exc-c14n#\\\&quot;/&gt;&lt;/ds:Transforms&gt;&lt;ds:DigestMethod Algorithm=\\\&quot;http://www.w3.org/2000/09/xmldsig#sha1\\\&quot;/&gt;&lt;ds:DigestValue&gt;zALgjEFJ7jJSwn2AOBH5H8CX93U=&lt;/ds:DigestValue&gt;&lt;/ds:Reference&gt;&lt;/ds:SignedInfo&gt;&lt;ds:SignatureValue&gt;Rp5XH8eT0ek/vlFGzHgIFOeESchOwSYZ9oh4JA9WqQ0jJtvNQ9IttY2QY9XK3n6TbbtPcEKVgljyTfwD5ymp+oMKfIYQC9JsN8mPADN5rjLFgC+xGceWLbcjoNsCJ7x2ZjyWRblSxoOU5qnzxEA3k3Bu+OkV+ZXcSbmgMWoQACg=&lt;/ds:SignatureValue&gt;&lt;ds:KeyInfo&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/ds:Signature&gt;&lt;md:SPSSODescriptor AuthnRequestsSigned=\\\&quot;true\\\&quot; WantAssertionsSigned=\\\&quot;true\\\&quot; protocolSupportEnumeration=\\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\\&quot;&gt;&lt;md:KeyDescriptor use=\\\&quot;signing\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:KeyDescriptor use=\\\&quot;encryption\\\&quot;&gt;&lt;ds:KeyInfo xmlns:ds=\\\&quot;http://www.w3.org/2000/09/xmldsig#\\\&quot;&gt;&lt;ds:X509Data&gt;&lt;ds:X509Certificate&gt;MIIDSTCCArKgAwIBAgIBADANBgkqhkiG9w0BAQQFADB8MQswCQYDVQQGEwJhdzEOMAwGA1UECBMF\\nYXJ1YmExDjAMBgNVBAoTBWFydWJhMQ4wDAYDVQQHEwVhcnViYTEOMAwGA1UECxMFYXJ1YmExDjAM\\nBgNVBAMTBWFydWJhMR0wGwYJKoZIhvcNAQkBFg5hcnViYUBhcnViYS5hcjAeFw0xNTExMjAyMjI2\\nMjdaFw0xNjExMTkyMjI2MjdaMHwxCzAJBgNVBAYTAmF3MQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UE\\nChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQLEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmEx\\nHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKB\\ngQDHtC5gUXxBKpEqZTLkNvFwNGnNIkggNOwOQVNbpO0WVHIivig5L39WqS9u0hnA+O7MCA/KlrAR\\n4bXaeVVhwfUPYBKIpaaTWFQR5cTR1UFZJL/OF9vAfpOwznoD66DDCnQVpbCjtDYWX+x6imxn8HCY\\nxhMol6ZnTbSsFW6VZjFMjQIDAQABo4HaMIHXMB0GA1UdDgQWBBTx0lDzjH/iOBnOSQaSEWQLx1sy\\nGDCBpwYDVR0jBIGfMIGcgBTx0lDzjH/iOBnOSQaSEWQLx1syGKGBgKR+MHwxCzAJBgNVBAYTAmF3\\nMQ4wDAYDVQQIEwVhcnViYTEOMAwGA1UEChMFYXJ1YmExDjAMBgNVBAcTBWFydWJhMQ4wDAYDVQQL\\nEwVhcnViYTEOMAwGA1UEAxMFYXJ1YmExHTAbBgkqhkiG9w0BCQEWDmFydWJhQGFydWJhLmFyggEA\\nMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEEBQADgYEAYvBJ0HOZbbHClXmGUjGs+GS+xC1FO/am\\n2suCSYqNB9dyMXfOWiJ1+TLJk+o/YZt8vuxCKdcZYgl4l/L6PxJ982SRhc83ZW2dkAZI4M0/Ud3o\\nePe84k8jm3A7EvH5wi5hvCkKRpuRBwn3Ei+jCRouxTbzKPsuCVB+1sNyxMTXzf0=&lt;/ds:X509Certificate&gt;&lt;/ds:X509Data&gt;&lt;/ds:KeyInfo&gt;&lt;/md:KeyDescriptor&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://fNM7BS8MEf.localhost:8080/uaa/saml/SingleLogout/alias/fNM7BS8MEf.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:SingleLogoutService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\&quot; Location=\\\&quot;http://fNM7BS8MEf.localhost:8080/uaa/saml/SingleLogout/alias/fNM7BS8MEf.cloudfoundry-saml-login\\\&quot;/&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:persistent&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&lt;/md:NameIDFormat&gt;&lt;md:NameIDFormat&gt;urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName&lt;/md:NameIDFormat&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\&quot; Location=\\\&quot;http://fNM7BS8MEf.localhost:8080/uaa/saml/SSO/alias/fNM7BS8MEf.cloudfoundry-saml-login\\\&quot; index=\\\&quot;0\\\&quot; isDefault=\\\&quot;true\\\&quot;/&gt;&lt;md:AssertionConsumerService Binding=\\\&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact\\\&quot; Location=\\\&quot;http://fNM7BS8MEf.localhost:8080/uaa/saml/SSO/alias/fNM7BS8MEf.cloudfoundry-saml-login\\\&quot; index=\\\&quot;1\\\&quot;/&gt;&lt;/md:SPSSODescriptor&gt;&lt;/md:EntityDescriptor&gt;\&quot;,\&quot;nameID\&quot;:null,\&quot;singleSignOnServiceIndex\&quot;:0,\&quot;metadataTrustCheck\&quot;:true,\&quot;skipSslValidation\&quot;:false}&quot;,
  &quot;id&quot; : &quot;de427c8b-9744-4acf-9862-6d9cd254a16a&quot;,
  &quot;entityId&quot; : &quot;fNM7BS8MEf.cloudfoundry-saml-login&quot;,
  &quot;name&quot; : &quot;fNM7BS8MEf&quot;,
  &quot;version&quot; : 0,
  &quot;created&quot; : 1501286191532,
  &quot;lastModified&quot; : 1501286191532,
  &quot;active&quot; : true,
  &quot;identityZoneId&quot; : &quot;uaa&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>sps.write</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Path Parameters</em></p>

<p>/saml/service-providers/{id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique ID of the service provider</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique identifier for this provider - GUID generated by the UAA.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>Human readable name for the SAML SP.</td>
</tr>
<tr>
<td><code>entityId</code></td>
<td><code>String</code></td>
<td>The entity id of the SAML SP.</td>
</tr>
<tr>
<td><code>active</code></td>
<td><code>Boolean</code></td>
<td>Defaults to true.</td>
</tr>
<tr>
<td><code>created</code></td>
<td><code>Number</code></td>
<td>UAA sets this to the UTC creation date.</td>
</tr>
<tr>
<td><code>identityZoneId</code></td>
<td><code>String</code></td>
<td>Set to the zone that this provider will be active in. Determined by either.</td>
</tr>
<tr>
<td><code>lastModified</code></td>
<td><code>Number</code></td>
<td>UAA sets this to the UTC last date of modification.</td>
</tr>
<tr>
<td><code>version</code></td>
<td><code>Number</code></td>
<td>Version of the identity provider data. Clients can use this.</td>
</tr>
<tr>
<td><code>config</code></td>
<td><code>String</code></td>
<td>Contains metaDataLocation and metadataTrustCheck fields as json fields.</td>
</tr>
<tr>
<td><code>config.metaDataLocation</code></td>
<td><code>String</code></td>
<td>The SAML SP Metadata - either an XML string or a URL that.</td>
</tr>
<tr>
<td><code>config.metadataTrustCheck</code></td>
<td><code>Boolean</code></td>
<td>Determines whether UAA should validate the SAML SP metadata.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>
<h1 id='users-93071'>Users</h1>
<p>Users can be queried, created and updated via the <code>/Users</code> endpoint.</p>
<h2 id='get-52471'>Get</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Users/72f37beb-523d-429f-b6bb-768436d4d3e8&#39; -i \
    -H &#39;Accept: application/json&#39; \
    -H &#39;Authorization: Bearer 8c73d3afe5504d86b1e57abe8e0900c4&#39; \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;If-Match: 0&#39;
</code></pre>

<pre><code class="http">GET /Users/72f37beb-523d-429f-b6bb-768436d4d3e8 HTTP/1.1
Accept: application/json
Authorization: Bearer 8c73d3afe5504d86b1e57abe8e0900c4
Content-Type: application/json
If-Match: 0
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
ETag: &quot;0&quot;
Content-Type: application/json;charset=UTF-8
Content-Length: 2880

{
  &quot;id&quot; : &quot;72f37beb-523d-429f-b6bb-768436d4d3e8&quot;,
  &quot;externalId&quot; : &quot;test-user&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:21.956Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:21.956Z&quot;
  },
  &quot;userName&quot; : &quot;2qL0fZ@test.org&quot;,
  &quot;name&quot; : {
    &quot;familyName&quot; : &quot;family name&quot;,
    &quot;givenName&quot; : &quot;given name&quot;
  },
  &quot;emails&quot; : [ {
    &quot;value&quot; : &quot;2qL0fZ@test.org&quot;,
    &quot;primary&quot; : false
  } ],
  &quot;groups&quot; : [ {
    &quot;value&quot; : &quot;3c7f7c24-6066-4345-8437-76be6b6697e0&quot;,
    &quot;display&quot; : &quot;roles&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;4738c2f9-6afd-4408-bfb3-71aaeba190f8&quot;,
    &quot;display&quot; : &quot;cloud_controller.read&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;651edf94-d34a-489b-ab95-470c4449f535&quot;,
    &quot;display&quot; : &quot;scim.userids&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;c7d9882c-c7bc-4745-9a47-b6656b0c8bef&quot;,
    &quot;display&quot; : &quot;openid&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;568d4b7d-4927-40fd-b8b7-c008cb9ee1b5&quot;,
    &quot;display&quot; : &quot;cloud_controller.write&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;4c6c93f9-7f37-4e9e-a1f5-5e588f5b95a9&quot;,
    &quot;display&quot; : &quot;uaa.user&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;989e123e-01a3-4d7f-aa56-b5a0b86892e1&quot;,
    &quot;display&quot; : &quot;uaa.offline_token&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;b3a35057-7d0e-4ab7-82fb-c2484d3b33dc&quot;,
    &quot;display&quot; : &quot;cloud_controller_service_permissions.read&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;e9e130d7-2e71-4a84-8201-2510a88c8b13&quot;,
    &quot;display&quot; : &quot;scim.me&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;55ff269c-5b51-4905-888a-7fd4a20a9522&quot;,
    &quot;display&quot; : &quot;profile&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;a15cd3d9-330f-4707-9e0c-ce94392100eb&quot;,
    &quot;display&quot; : &quot;password.write&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;ec78d7ae-f13b-4bc0-99b2-28f35ba164ba&quot;,
    &quot;display&quot; : &quot;approvals.me&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;511c0aff-6d9e-410f-9789-6f2cd720e411&quot;,
    &quot;display&quot; : &quot;user_attributes&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;1c830886-5cda-4614-8cfb-fef7bc8c916f&quot;,
    &quot;display&quot; : &quot;oauth.approvals&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  } ],
  &quot;approvals&quot; : [ {
    &quot;userId&quot; : &quot;72f37beb-523d-429f-b6bb-768436d4d3e8&quot;,
    &quot;clientId&quot; : &quot;identity&quot;,
    &quot;scope&quot; : &quot;uaa.user&quot;,
    &quot;status&quot; : &quot;APPROVED&quot;,
    &quot;lastUpdatedAt&quot; : &quot;2017-07-28T23:56:52.045Z&quot;,
    &quot;expiresAt&quot; : &quot;2017-07-28T23:56:52.045Z&quot;
  }, {
    &quot;userId&quot; : &quot;72f37beb-523d-429f-b6bb-768436d4d3e8&quot;,
    &quot;clientId&quot; : &quot;client id&quot;,
    &quot;scope&quot; : &quot;scim.read&quot;,
    &quot;status&quot; : &quot;APPROVED&quot;,
    &quot;lastUpdatedAt&quot; : &quot;2017-07-28T23:56:22.043Z&quot;,
    &quot;expiresAt&quot; : &quot;2017-07-28T23:56:32.043Z&quot;
  } ],
  &quot;phoneNumbers&quot; : [ {
    &quot;value&quot; : &quot;5555555555&quot;
  } ],
  &quot;active&quot; : true,
  &quot;verified&quot; : true,
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;passwordLastModified&quot; : &quot;2017-07-28T23:56:21.000Z&quot;,
  &quot;previousLogonTime&quot; : 1501286182046,
  &quot;lastLogonTime&quot; : 1501286182047,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Access token with scim.write or uaa.admin required</td>
</tr>
<tr>
<td><code>If-Match</code></td>
<td>The version of the SCIM object to be deleted. Optional.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td>SCIM Schemas used, currently always set to [ &quot;urn:scim:schemas:core:1.0&quot; ]</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique user identifier.</td>
</tr>
<tr>
<td><code>userName</code></td>
<td><code>String</code></td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>Object</code></td>
<td>A map with the user&#39;s first name and last name.</td>
</tr>
<tr>
<td><code>name.familyName</code></td>
<td><code>String</code></td>
<td>The user&#39;s last name.</td>
</tr>
<tr>
<td><code>name.givenName</code></td>
<td><code>String</code></td>
<td>The user&#39;s first name.</td>
</tr>
<tr>
<td><code>phoneNumbers</code></td>
<td><code>Array</code></td>
<td>The user&#39;s phone numbers.</td>
</tr>
<tr>
<td><code>phoneNumbers[].value</code></td>
<td><code>String</code></td>
<td>The phone number.</td>
</tr>
<tr>
<td><code>emails</code></td>
<td><code>Array</code></td>
<td>The user&#39;s email addresses.</td>
</tr>
<tr>
<td><code>emails[].value</code></td>
<td><code>String</code></td>
<td>The email address.</td>
</tr>
<tr>
<td><code>emails[].primary</code></td>
<td><code>Boolean</code></td>
<td>Set to true if this is the user&#39;s primary email address.</td>
</tr>
<tr>
<td><code>groups</code></td>
<td><code>Array</code></td>
<td>A list of groups the user belongs to.</td>
</tr>
<tr>
<td><code>groups[].value</code></td>
<td><code>String</code></td>
<td>Unique group identifier</td>
</tr>
<tr>
<td><code>groups[].display</code></td>
<td><code>String</code></td>
<td>The group display name, also referred to as scope during authorization.</td>
</tr>
<tr>
<td><code>groups[].type</code></td>
<td><code>String</code></td>
<td>Membership type - DIRECT means the user is directly associated with the group. INDIRECT means that the membership has been inherited from nested groups.</td>
</tr>
<tr>
<td><code>approvals</code></td>
<td><code>Array</code></td>
<td>A list of approvals for this user. Approvals are user&#39;s explicit approval or rejection for an application.</td>
</tr>
<tr>
<td><code>approvals[].userId</code></td>
<td><code>String</code></td>
<td>The user id on the approval. Will be the same as the id field.</td>
</tr>
<tr>
<td><code>approvals[].clientId</code></td>
<td><code>String</code></td>
<td>The client id on the approval. Represents the application this approval or denial was for.</td>
</tr>
<tr>
<td><code>approvals[].scope</code></td>
<td><code>String</code></td>
<td>The scope on the approval. Will be a group display value.</td>
</tr>
<tr>
<td><code>approvals[].status</code></td>
<td><code>String</code></td>
<td>The status of the approval. APPROVED or DENIED are the only valid values.</td>
</tr>
<tr>
<td><code>approvals[].lastUpdatedAt</code></td>
<td><code>String</code></td>
<td>Date this approval was last updated.</td>
</tr>
<tr>
<td><code>approvals[].expiresAt</code></td>
<td><code>String</code></td>
<td>Date this approval will expire.</td>
</tr>
<tr>
<td><code>active</code></td>
<td><code>Boolean</code></td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td><code>verified</code></td>
<td><code>Boolean</code></td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td><code>origin</code></td>
<td><code>String</code></td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&#39; is an internal UAA user.</td>
</tr>
<tr>
<td><code>zoneId</code></td>
<td><code>String</code></td>
<td>The zone this user belongs to. &#39;uaa&#39; is the default zone.</td>
</tr>
<tr>
<td><code>passwordLastModified</code></td>
<td><code>String</code></td>
<td>The timestamp this user&#39;s password was last changed.</td>
</tr>
<tr>
<td><code>lastLogonTime</code></td>
<td><code>Number</code></td>
<td>The unix epoch timestamp of when the user last authenticated. Default value of this field is null and is omitted from the response if null</td>
</tr>
<tr>
<td><code>previousLogonTime</code></td>
<td><code>Number</code></td>
<td>The unix epoch timestamp of when the user last authenticated. Default value of this field is null and is omitted from the response if null</td>
</tr>
<tr>
<td><code>externalId</code></td>
<td><code>String</code></td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
<tr>
<td><code>meta</code></td>
<td><code>Object</code></td>
<td>SCIM object meta data.</td>
</tr>
<tr>
<td><code>meta.version</code></td>
<td><code>Number</code></td>
<td>Object version.</td>
</tr>
<tr>
<td><code>meta.lastModified</code></td>
<td><code>String</code></td>
<td>Object last modified date.</td>
</tr>
<tr>
<td><code>meta.created</code></td>
<td><code>String</code></td>
<td>Object created date.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or missing fields</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (scim.read is required to retrieve a user)</td>
</tr>
<tr>
<td>404</td>
<td>User id not found</td>
</tr>
</tbody></table>

<blockquote>
<p>Example using uaac to get users:</p>
</blockquote>

<pre><code class="bash">uaac target http://localhost:8080/uaa

uaac token client get admin -s adminsecret

uaac user get testuser
</code></pre>
<h2 id='list-27171'>List</h2>
<p>Listing users supports <a href="http://www.simplecloud.info/specs/draft-scim-api-01.html#query-resources">SCIM filtering</a> on the available attributes.
By default users are returned with their group memberships and approvals, a rather expensive operation. 
To avoid this, perform the search by including the <code>attributes</code> parameter to reduce the results.</p>

<pre><code class="bash">$ curl &#39;http://localhost/Users?filter=id+eq+%22b192b4ea-7f8c-4726-9f92-8fe6237cdf2b%22+or+email+eq+%22VcwbyD%40test.org%22&amp;sortBy=email&amp;count=50&amp;sortOrder=ascending&amp;startIndex=1&#39; -i \
    -H &#39;Accept: application/json&#39; \
    -H &#39;Authorization: Bearer 5ab04c79005d45fbb83aff8c72082e9b&#39;
</code></pre>

<pre><code class="http">GET /Users?filter=id+eq+%22b192b4ea-7f8c-4726-9f92-8fe6237cdf2b%22+or+email+eq+%22VcwbyD%40test.org%22&amp;sortBy=email&amp;count=50&amp;sortOrder=ascending&amp;startIndex=1 HTTP/1.1
Accept: application/json
Authorization: Bearer 5ab04c79005d45fbb83aff8c72082e9b
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 2963

{
  &quot;resources&quot; : [ {
    &quot;id&quot; : &quot;b192b4ea-7f8c-4726-9f92-8fe6237cdf2b&quot;,
    &quot;externalId&quot; : &quot;test-user&quot;,
    &quot;meta&quot; : {
      &quot;version&quot; : 0,
      &quot;created&quot; : &quot;2017-07-28T23:56:23.047Z&quot;,
      &quot;lastModified&quot; : &quot;2017-07-28T23:56:23.047Z&quot;
    },
    &quot;userName&quot; : &quot;VcwbyD@test.org&quot;,
    &quot;name&quot; : {
      &quot;familyName&quot; : &quot;family name&quot;,
      &quot;givenName&quot; : &quot;given name&quot;
    },
    &quot;emails&quot; : [ {
      &quot;value&quot; : &quot;VcwbyD@test.org&quot;,
      &quot;primary&quot; : false
    } ],
    &quot;groups&quot; : [ {
      &quot;value&quot; : &quot;3c7f7c24-6066-4345-8437-76be6b6697e0&quot;,
      &quot;display&quot; : &quot;roles&quot;,
      &quot;type&quot; : &quot;DIRECT&quot;
    }, {
      &quot;value&quot; : &quot;4738c2f9-6afd-4408-bfb3-71aaeba190f8&quot;,
      &quot;display&quot; : &quot;cloud_controller.read&quot;,
      &quot;type&quot; : &quot;DIRECT&quot;
    }, {
      &quot;value&quot; : &quot;651edf94-d34a-489b-ab95-470c4449f535&quot;,
      &quot;display&quot; : &quot;scim.userids&quot;,
      &quot;type&quot; : &quot;DIRECT&quot;
    }, {
      &quot;value&quot; : &quot;c7d9882c-c7bc-4745-9a47-b6656b0c8bef&quot;,
      &quot;display&quot; : &quot;openid&quot;,
      &quot;type&quot; : &quot;DIRECT&quot;
    }, {
      &quot;value&quot; : &quot;568d4b7d-4927-40fd-b8b7-c008cb9ee1b5&quot;,
      &quot;display&quot; : &quot;cloud_controller.write&quot;,
      &quot;type&quot; : &quot;DIRECT&quot;
    }, {
      &quot;value&quot; : &quot;4c6c93f9-7f37-4e9e-a1f5-5e588f5b95a9&quot;,
      &quot;display&quot; : &quot;uaa.user&quot;,
      &quot;type&quot; : &quot;DIRECT&quot;
    }, {
      &quot;value&quot; : &quot;989e123e-01a3-4d7f-aa56-b5a0b86892e1&quot;,
      &quot;display&quot; : &quot;uaa.offline_token&quot;,
      &quot;type&quot; : &quot;DIRECT&quot;
    }, {
      &quot;value&quot; : &quot;b3a35057-7d0e-4ab7-82fb-c2484d3b33dc&quot;,
      &quot;display&quot; : &quot;cloud_controller_service_permissions.read&quot;,
      &quot;type&quot; : &quot;DIRECT&quot;
    }, {
      &quot;value&quot; : &quot;e9e130d7-2e71-4a84-8201-2510a88c8b13&quot;,
      &quot;display&quot; : &quot;scim.me&quot;,
      &quot;type&quot; : &quot;DIRECT&quot;
    }, {
      &quot;value&quot; : &quot;55ff269c-5b51-4905-888a-7fd4a20a9522&quot;,
      &quot;display&quot; : &quot;profile&quot;,
      &quot;type&quot; : &quot;DIRECT&quot;
    }, {
      &quot;value&quot; : &quot;a15cd3d9-330f-4707-9e0c-ce94392100eb&quot;,
      &quot;display&quot; : &quot;password.write&quot;,
      &quot;type&quot; : &quot;DIRECT&quot;
    }, {
      &quot;value&quot; : &quot;ec78d7ae-f13b-4bc0-99b2-28f35ba164ba&quot;,
      &quot;display&quot; : &quot;approvals.me&quot;,
      &quot;type&quot; : &quot;DIRECT&quot;
    }, {
      &quot;value&quot; : &quot;511c0aff-6d9e-410f-9789-6f2cd720e411&quot;,
      &quot;display&quot; : &quot;user_attributes&quot;,
      &quot;type&quot; : &quot;DIRECT&quot;
    }, {
      &quot;value&quot; : &quot;1c830886-5cda-4614-8cfb-fef7bc8c916f&quot;,
      &quot;display&quot; : &quot;oauth.approvals&quot;,
      &quot;type&quot; : &quot;DIRECT&quot;
    } ],
    &quot;approvals&quot; : [ {
      &quot;userId&quot; : &quot;b192b4ea-7f8c-4726-9f92-8fe6237cdf2b&quot;,
      &quot;clientId&quot; : &quot;client id&quot;,
      &quot;scope&quot; : &quot;scim.read&quot;,
      &quot;status&quot; : &quot;APPROVED&quot;,
      &quot;lastUpdatedAt&quot; : &quot;2017-07-28T23:56:23.133Z&quot;,
      &quot;expiresAt&quot; : &quot;2017-07-28T23:56:33.133Z&quot;
    } ],
    &quot;phoneNumbers&quot; : [ {
      &quot;value&quot; : &quot;5555555555&quot;
    } ],
    &quot;active&quot; : true,
    &quot;verified&quot; : true,
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;zoneId&quot; : &quot;uaa&quot;,
    &quot;passwordLastModified&quot; : &quot;2017-07-28T23:56:23.000Z&quot;,
    &quot;previousLogonTime&quot; : 1501286183135,
    &quot;lastLogonTime&quot; : 1501286183135,
    &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
  } ],
  &quot;startIndex&quot; : 1,
  &quot;itemsPerPage&quot; : 50,
  &quot;totalResults&quot; : 1,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Access token with scim.read or uaa.admin required</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filter</td>
<td>String</td>
<td>Optional</td>
<td>SCIM filter for searching</td>
</tr>
<tr>
<td>sortBy</td>
<td>String</td>
<td>Optional (defaults to <code>created</code>)</td>
<td>Sorting field name, like email or id</td>
</tr>
<tr>
<td>sortOrder</td>
<td>String</td>
<td>Optional (defaults to <code>ascending</code>)</td>
<td>Sort order, ascending/descending</td>
</tr>
<tr>
<td>startIndex</td>
<td>Number</td>
<td>Optional (defaults to <code>1</code>)</td>
<td>The starting index of the search results when paginated. Index starts with 1.</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Optional (defaults to <code>100</code>)</td>
<td>Max number of results to be returned</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>startIndex</code></td>
<td><code>Number</code></td>
<td>The starting index of the search results when paginated. Index starts with 1.</td>
</tr>
<tr>
<td><code>itemsPerPage</code></td>
<td><code>Number</code></td>
<td>The maximum number of items returned per request.</td>
</tr>
<tr>
<td><code>totalResults</code></td>
<td><code>Number</code></td>
<td>Number of results in result set.</td>
</tr>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td>SCIM Schemas used, currently always set to [ &quot;urn:scim:schemas:core:1.0&quot; ]</td>
</tr>
<tr>
<td><code>resources</code></td>
<td><code>Array</code></td>
<td>A list of SCIM user objects retrieved by the search.</td>
</tr>
<tr>
<td><code>resources[].schemas</code></td>
<td><code>Array</code></td>
<td>SCIM Schemas used, currently always set to [ &quot;urn:scim:schemas:core:1.0&quot; ]</td>
</tr>
<tr>
<td><code>resources[].id</code></td>
<td><code>String</code></td>
<td>Unique user identifier.</td>
</tr>
<tr>
<td><code>resources[].userName</code></td>
<td><code>String</code></td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td><code>resources[].name</code></td>
<td><code>Object</code></td>
<td>A map with the user&#39;s first name and last name.</td>
</tr>
<tr>
<td><code>resources[].name.familyName</code></td>
<td><code>String</code></td>
<td>The user&#39;s last name.</td>
</tr>
<tr>
<td><code>resources[].name.givenName</code></td>
<td><code>String</code></td>
<td>The user&#39;s first name.</td>
</tr>
<tr>
<td><code>resources[].phoneNumbers</code></td>
<td><code>Array</code></td>
<td>The user&#39;s phone numbers.</td>
</tr>
<tr>
<td><code>resources[].phoneNumbers[].value</code></td>
<td><code>String</code></td>
<td>The phone number.</td>
</tr>
<tr>
<td><code>resources[].emails</code></td>
<td><code>Array</code></td>
<td>The user&#39;s email addresses.</td>
</tr>
<tr>
<td><code>resources[].emails[].value</code></td>
<td><code>String</code></td>
<td>The email address.</td>
</tr>
<tr>
<td><code>resources[].emails[].primary</code></td>
<td><code>Boolean</code></td>
<td>Set to true if this is the user&#39;s primary email address.</td>
</tr>
<tr>
<td><code>resources[].groups</code></td>
<td><code>Array</code></td>
<td>A list of groups the user belongs to.</td>
</tr>
<tr>
<td><code>resources[].groups[].value</code></td>
<td><code>String</code></td>
<td>Unique group identifier</td>
</tr>
<tr>
<td><code>resources[].groups[].display</code></td>
<td><code>String</code></td>
<td>The group display name, also referred to as scope during authorization.</td>
</tr>
<tr>
<td><code>resources[].groups[].type</code></td>
<td><code>String</code></td>
<td>Membership type - DIRECT means the user is directly associated with the group. INDIRECT means that the membership has been inherited from nested groups.</td>
</tr>
<tr>
<td><code>resources[].approvals</code></td>
<td><code>Array</code></td>
<td>A list of approvals for this user. Approvals are user&#39;s explicit approval or rejection for an application.</td>
</tr>
<tr>
<td><code>resources[].approvals[].userId</code></td>
<td><code>String</code></td>
<td>The user id on the approval. Will be the same as the id field.</td>
</tr>
<tr>
<td><code>resources[].approvals[].clientId</code></td>
<td><code>String</code></td>
<td>The client id on the approval. Represents the application this approval or denial was for.</td>
</tr>
<tr>
<td><code>resources[].approvals[].scope</code></td>
<td><code>String</code></td>
<td>The scope on the approval. Will be a group display value.</td>
</tr>
<tr>
<td><code>resources[].approvals[].status</code></td>
<td><code>String</code></td>
<td>The status of the approval. APPROVED or DENIED are the only valid values.</td>
</tr>
<tr>
<td><code>resources[].approvals[].lastUpdatedAt</code></td>
<td><code>String</code></td>
<td>Date this approval was last updated.</td>
</tr>
<tr>
<td><code>resources[].approvals[].expiresAt</code></td>
<td><code>String</code></td>
<td>Date this approval will expire.</td>
</tr>
<tr>
<td><code>resources[].active</code></td>
<td><code>Boolean</code></td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td><code>resources[].lastLogonTime</code></td>
<td><code>Number</code></td>
<td>The unix epoch timestamp of when the user last authenticated. Default value of this field is null and is omitted from the response if null</td>
</tr>
<tr>
<td><code>resources[].previousLogonTime</code></td>
<td><code>Number</code></td>
<td>The unix epoch timestamp of 2nd to last successful user authentication. Default value of this field is null and is omitted from the response if null</td>
</tr>
<tr>
<td><code>resources[].verified</code></td>
<td><code>Boolean</code></td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td><code>resources[].origin</code></td>
<td><code>String</code></td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&#39; is an internal UAA user.</td>
</tr>
<tr>
<td><code>resources[].zoneId</code></td>
<td><code>String</code></td>
<td>The zone this user belongs to. &#39;uaa&#39; is the default zone.</td>
</tr>
<tr>
<td><code>resources[].passwordLastModified</code></td>
<td><code>String</code></td>
<td>The timestamp this user&#39;s password was last changed.</td>
</tr>
<tr>
<td><code>resources[].externalId</code></td>
<td><code>String</code></td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
<tr>
<td><code>resources[].meta</code></td>
<td><code>Object</code></td>
<td>SCIM object meta data.</td>
</tr>
<tr>
<td><code>resources[].meta.version</code></td>
<td><code>Number</code></td>
<td>Object version.</td>
</tr>
<tr>
<td><code>resources[].meta.lastModified</code></td>
<td><code>String</code></td>
<td>Object last modified date.</td>
</tr>
<tr>
<td><code>resources[].meta.created</code></td>
<td><code>String</code></td>
<td>Object created date.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or missing fields</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (scim.read is required to search users)</td>
</tr>
</tbody></table>

<blockquote>
<p>Example using uaac to view users:</p>
</blockquote>

<pre><code class="bash">uaac target http://localhost:8080/uaa

uaac token client get admin -s adminsecret

uaac users
</code></pre>
<h2 id='list-with-attribute-filtering-97023'>List with Attribute Filtering</h2>
<p>Listing users supports <a href="http://www.simplecloud.info/specs/draft-scim-api-01.html#query-resources">SCIM filtering</a> on the available attributes.
When users are searched we can return only selected amount of data using filtering.
The attribute <code>groups</code> will cause the UAA to query the group memberships and include them in the result making the operation more expensive.
The attribute <code>approvals</code> will cause the UAA to query the user approvals and include them in the result making the operation more expensive.</p>

<pre><code class="bash">$ curl &#39;http://localhost/Users?attributes=id%2CuserName%2Cemails%2Cactive&amp;filter=id+eq+%223cc91608-8956-4c77-bd95-9b2ed5f940d5%22&amp;sortBy=email&amp;count=50&amp;sortOrder=ascending&amp;startIndex=1&#39; -i \
    -H &#39;Accept: application/json&#39; \
    -H &#39;Authorization: Bearer 59608c88a90d4820a2a14b53f2479fac&#39;
</code></pre>

<pre><code class="http">GET /Users?attributes=id%2CuserName%2Cemails%2Cactive&amp;filter=id+eq+%223cc91608-8956-4c77-bd95-9b2ed5f940d5%22&amp;sortBy=email&amp;count=50&amp;sortOrder=ascending&amp;startIndex=1 HTTP/1.1
Accept: application/json
Authorization: Bearer 59608c88a90d4820a2a14b53f2479fac
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 335

{
  &quot;resources&quot; : [ {
    &quot;emails&quot; : [ {
      &quot;value&quot; : &quot;PBre08@test.org&quot;,
      &quot;primary&quot; : false
    } ],
    &quot;active&quot; : true,
    &quot;id&quot; : &quot;3cc91608-8956-4c77-bd95-9b2ed5f940d5&quot;,
    &quot;userName&quot; : &quot;PBre08@test.org&quot;
  } ],
  &quot;startIndex&quot; : 1,
  &quot;itemsPerPage&quot; : 50,
  &quot;totalResults&quot; : 1,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Access token with scim.read or uaa.admin required</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filter</td>
<td>String</td>
<td>Optional</td>
<td>SCIM filter for searching</td>
</tr>
<tr>
<td>sortBy</td>
<td>String</td>
<td>Optional (defaults to <code>created</code>)</td>
<td>Sorting field name, like email or id</td>
</tr>
<tr>
<td>sortOrder</td>
<td>String</td>
<td>Optional (defaults to <code>ascending</code>)</td>
<td>Sort order, ascending/descending</td>
</tr>
<tr>
<td>startIndex</td>
<td>Number</td>
<td>Optional (defaults to <code>1</code>)</td>
<td>The starting index of the search results when paginated. Index starts with 1.</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Optional (defaults to <code>100</code>)</td>
<td>Max number of results to be returned</td>
</tr>
<tr>
<td>attributes</td>
<td>String</td>
<td>Optional</td>
<td>Comma separated list of attribute names to be returned.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>startIndex</code></td>
<td><code>Number</code></td>
<td>The starting index of the search results when paginated. Index starts with 1.</td>
</tr>
<tr>
<td><code>itemsPerPage</code></td>
<td><code>Number</code></td>
<td>The maximum number of items returned per request.</td>
</tr>
<tr>
<td><code>totalResults</code></td>
<td><code>Number</code></td>
<td>Number of results in result set.</td>
</tr>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td>SCIM Schemas used, currently always set to [ &quot;urn:scim:schemas:core:1.0&quot; ]</td>
</tr>
<tr>
<td><code>resources</code></td>
<td><code>Array</code></td>
<td>A list of SCIM user objects retrieved by the search.</td>
</tr>
<tr>
<td><code>resources[].id</code></td>
<td><code>String</code></td>
<td>Unique user identifier.</td>
</tr>
<tr>
<td><code>resources[].userName</code></td>
<td><code>String</code></td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td><code>resources[].emails</code></td>
<td><code>Array</code></td>
<td>The user&#39;s email addresses.</td>
</tr>
<tr>
<td><code>resources[].emails[].value</code></td>
<td><code>String</code></td>
<td>The email address.</td>
</tr>
<tr>
<td><code>resources[].emails[].primary</code></td>
<td><code>Boolean</code></td>
<td>Set to true if this is the user&#39;s primary email address.</td>
</tr>
<tr>
<td><code>resources[].active</code></td>
<td><code>Boolean</code></td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
</tbody></table>
<h2 id='create-32989'>Create</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Users&#39; -i -X POST \
    -H &#39;Accept: application/json&#39; \
    -H &#39;Authorization: Bearer b9579bc9ce9f42fb8dd58e9ef7277720&#39; \
    -H &#39;Content-Type: application/json&#39; \
    -d &#39;{
  &quot;externalId&quot; : &quot;test-user&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:23.817Z&quot;
  },
  &quot;userName&quot; : &quot;WuVDyf@test.org&quot;,
  &quot;name&quot; : {
    &quot;formatted&quot; : &quot;given name family name&quot;,
    &quot;familyName&quot; : &quot;family name&quot;,
    &quot;givenName&quot; : &quot;given name&quot;
  },
  &quot;emails&quot; : [ {
    &quot;value&quot; : &quot;WuVDyf@test.org&quot;,
    &quot;primary&quot; : true
  } ],
  &quot;phoneNumbers&quot; : [ {
    &quot;value&quot; : &quot;5555555555&quot;
  } ],
  &quot;active&quot; : true,
  &quot;verified&quot; : true,
  &quot;origin&quot; : &quot;&quot;,
  &quot;password&quot; : &quot;secret&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}&#39;
</code></pre>

<pre><code class="http">POST /Users HTTP/1.1
Accept: application/json
Authorization: Bearer b9579bc9ce9f42fb8dd58e9ef7277720
Content-Type: application/json
Host: localhost
Content-Length: 537

{
  &quot;externalId&quot; : &quot;test-user&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:23.817Z&quot;
  },
  &quot;userName&quot; : &quot;WuVDyf@test.org&quot;,
  &quot;name&quot; : {
    &quot;formatted&quot; : &quot;given name family name&quot;,
    &quot;familyName&quot; : &quot;family name&quot;,
    &quot;givenName&quot; : &quot;given name&quot;
  },
  &quot;emails&quot; : [ {
    &quot;value&quot; : &quot;WuVDyf@test.org&quot;,
    &quot;primary&quot; : true
  } ],
  &quot;phoneNumbers&quot; : [ {
    &quot;value&quot; : &quot;5555555555&quot;
  } ],
  &quot;active&quot; : true,
  &quot;verified&quot; : true,
  &quot;origin&quot; : &quot;&quot;,
  &quot;password&quot; : &quot;secret&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
ETag: &quot;0&quot;
Content-Type: application/json;charset=UTF-8
Content-Length: 2327

{
  &quot;id&quot; : &quot;df904299-9fef-4920-91a8-97e2391efd8c&quot;,
  &quot;externalId&quot; : &quot;test-user&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:23.917Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:23.917Z&quot;
  },
  &quot;userName&quot; : &quot;WuVDyf@test.org&quot;,
  &quot;name&quot; : {
    &quot;familyName&quot; : &quot;family name&quot;,
    &quot;givenName&quot; : &quot;given name&quot;
  },
  &quot;emails&quot; : [ {
    &quot;value&quot; : &quot;WuVDyf@test.org&quot;,
    &quot;primary&quot; : false
  } ],
  &quot;groups&quot; : [ {
    &quot;value&quot; : &quot;3c7f7c24-6066-4345-8437-76be6b6697e0&quot;,
    &quot;display&quot; : &quot;roles&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;4738c2f9-6afd-4408-bfb3-71aaeba190f8&quot;,
    &quot;display&quot; : &quot;cloud_controller.read&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;651edf94-d34a-489b-ab95-470c4449f535&quot;,
    &quot;display&quot; : &quot;scim.userids&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;c7d9882c-c7bc-4745-9a47-b6656b0c8bef&quot;,
    &quot;display&quot; : &quot;openid&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;568d4b7d-4927-40fd-b8b7-c008cb9ee1b5&quot;,
    &quot;display&quot; : &quot;cloud_controller.write&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;4c6c93f9-7f37-4e9e-a1f5-5e588f5b95a9&quot;,
    &quot;display&quot; : &quot;uaa.user&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;989e123e-01a3-4d7f-aa56-b5a0b86892e1&quot;,
    &quot;display&quot; : &quot;uaa.offline_token&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;b3a35057-7d0e-4ab7-82fb-c2484d3b33dc&quot;,
    &quot;display&quot; : &quot;cloud_controller_service_permissions.read&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;e9e130d7-2e71-4a84-8201-2510a88c8b13&quot;,
    &quot;display&quot; : &quot;scim.me&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;55ff269c-5b51-4905-888a-7fd4a20a9522&quot;,
    &quot;display&quot; : &quot;profile&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;a15cd3d9-330f-4707-9e0c-ce94392100eb&quot;,
    &quot;display&quot; : &quot;password.write&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;ec78d7ae-f13b-4bc0-99b2-28f35ba164ba&quot;,
    &quot;display&quot; : &quot;approvals.me&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;511c0aff-6d9e-410f-9789-6f2cd720e411&quot;,
    &quot;display&quot; : &quot;user_attributes&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;1c830886-5cda-4614-8cfb-fef7bc8c916f&quot;,
    &quot;display&quot; : &quot;oauth.approvals&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  } ],
  &quot;approvals&quot; : [ ],
  &quot;phoneNumbers&quot; : [ {
    &quot;value&quot; : &quot;5555555555&quot;
  } ],
  &quot;active&quot; : true,
  &quot;verified&quot; : true,
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;passwordLastModified&quot; : &quot;2017-07-28T23:56:23.000Z&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Access token with scim.write or uaa.admin required</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userName</td>
<td>String</td>
<td>Required</td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>Optional</td>
<td>User&#39;s password, required if origin is set to &#39;uaa&#39;.</td>
</tr>
<tr>
<td>name</td>
<td>Object</td>
<td>Required</td>
<td>A map with the user&#39;s first name and last name.</td>
</tr>
<tr>
<td>name.familyName</td>
<td>String</td>
<td>Required</td>
<td>The user&#39;s last name.</td>
</tr>
<tr>
<td>name.givenName</td>
<td>String</td>
<td>Required</td>
<td>The user&#39;s first name.</td>
</tr>
<tr>
<td>phoneNumbers</td>
<td>Array</td>
<td>Optional</td>
<td>The user&#39;s phone numbers.</td>
</tr>
<tr>
<td>phoneNumbers[].value</td>
<td>String</td>
<td>Optional</td>
<td>The phone number.</td>
</tr>
<tr>
<td>emails</td>
<td>Array</td>
<td>Required</td>
<td>The user&#39;s email addresses.</td>
</tr>
<tr>
<td>emails[].value</td>
<td>String</td>
<td>Required</td>
<td>The email address.</td>
</tr>
<tr>
<td>emails[].primary</td>
<td>Boolean</td>
<td>Required</td>
<td>Set to true if this is the user&#39;s primary email address.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td>verified</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;uaa&quot;</code>)</td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&#39; is an internal UAA user.</td>
</tr>
<tr>
<td>externalId</td>
<td>String</td>
<td>Optional</td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td>SCIM Schemas used, currently always set to [ &quot;urn:scim:schemas:core:1.0&quot; ]</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique user identifier.</td>
</tr>
<tr>
<td><code>userName</code></td>
<td><code>String</code></td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>Object</code></td>
<td>A map with the user&#39;s first name and last name.</td>
</tr>
<tr>
<td><code>name.familyName</code></td>
<td><code>String</code></td>
<td>The user&#39;s last name.</td>
</tr>
<tr>
<td><code>name.givenName</code></td>
<td><code>String</code></td>
<td>The user&#39;s first name.</td>
</tr>
<tr>
<td><code>phoneNumbers</code></td>
<td><code>Array</code></td>
<td>The user&#39;s phone numbers.</td>
</tr>
<tr>
<td><code>phoneNumbers[].value</code></td>
<td><code>String</code></td>
<td>The phone number.</td>
</tr>
<tr>
<td><code>emails</code></td>
<td><code>Array</code></td>
<td>The user&#39;s email addresses.</td>
</tr>
<tr>
<td><code>emails[].value</code></td>
<td><code>String</code></td>
<td>The email address.</td>
</tr>
<tr>
<td><code>emails[].primary</code></td>
<td><code>Boolean</code></td>
<td>Set to true if this is the user&#39;s primary email address.</td>
</tr>
<tr>
<td><code>groups</code></td>
<td><code>Array</code></td>
<td>A list of groups the user belongs to.</td>
</tr>
<tr>
<td><code>groups[].value</code></td>
<td><code>String</code></td>
<td>Unique group identifier</td>
</tr>
<tr>
<td><code>groups[].display</code></td>
<td><code>String</code></td>
<td>The group display name, also referred to as scope during authorization.</td>
</tr>
<tr>
<td><code>groups[].type</code></td>
<td><code>String</code></td>
<td>Membership type - DIRECT means the user is directly associated with the group. INDIRECT means that the membership has been inherited from nested groups.</td>
</tr>
<tr>
<td><code>approvals</code></td>
<td><code>Array</code></td>
<td>A list of approvals for this user. Approvals are user&#39;s explicit approval or rejection for an application.</td>
</tr>
<tr>
<td><code>active</code></td>
<td><code>Boolean</code></td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td><code>verified</code></td>
<td><code>Boolean</code></td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td><code>origin</code></td>
<td><code>String</code></td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&#39; is an internal UAA user.</td>
</tr>
<tr>
<td><code>zoneId</code></td>
<td><code>String</code></td>
<td>The zone this user belongs to. &#39;uaa&#39; is the default zone.</td>
</tr>
<tr>
<td><code>passwordLastModified</code></td>
<td><code>String</code></td>
<td>The timestamp this user&#39;s password was last changed.</td>
</tr>
<tr>
<td><code>externalId</code></td>
<td><code>String</code></td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
<tr>
<td><code>meta</code></td>
<td><code>Object</code></td>
<td>SCIM object meta data.</td>
</tr>
<tr>
<td><code>meta.version</code></td>
<td><code>Number</code></td>
<td>Object version.</td>
</tr>
<tr>
<td><code>meta.lastModified</code></td>
<td><code>String</code></td>
<td>Object last modified date.</td>
</tr>
<tr>
<td><code>meta.created</code></td>
<td><code>String</code></td>
<td>Object created date.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or missing fields</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (scim.write is required to create a user)</td>
</tr>
<tr>
<td>409</td>
<td>Username already exists</td>
</tr>
</tbody></table>

<blockquote>
<p>Example using uaac to view users:</p>
</blockquote>

<pre><code class="bash">uaac target http://localhost:8080/uaa

uaac token client get admin -s adminsecret

uaac user add testuser --given_name About --family_name Schmidt --emails testuser@test.org --password secret
</code></pre>
<h2 id='update-34168'>Update</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Users/e4887cf1-9539-4a9f-93c0-df1d94c3bdbd&#39; -i -X PUT \
    -H &#39;Accept: application/json&#39; \
    -H &#39;Authorization: Bearer 7bbebc44b1ba43fa98e58178803467e2&#39; \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;If-Match: 0&#39; \
    -d &#39;{
  &quot;id&quot; : &quot;e4887cf1-9539-4a9f-93c0-df1d94c3bdbd&quot;,
  &quot;externalId&quot; : &quot;test-user&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:23.383Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:23.383Z&quot;
  },
  &quot;userName&quot; : &quot;gUSsLS@test.org&quot;,
  &quot;name&quot; : {
    &quot;familyName&quot; : &quot;family name&quot;,
    &quot;givenName&quot; : &quot;given name&quot;
  },
  &quot;emails&quot; : [ {
    &quot;value&quot; : &quot;gUSsLS@test.org&quot;,
    &quot;primary&quot; : false
  } ],
  &quot;groups&quot; : [ ],
  &quot;approvals&quot; : [ ],
  &quot;phoneNumbers&quot; : [ {
    &quot;value&quot; : &quot;5555555555&quot;
  } ],
  &quot;active&quot; : true,
  &quot;verified&quot; : true,
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;passwordLastModified&quot; : &quot;2017-07-28T23:56:23.000Z&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}&#39;
</code></pre>

<pre><code class="http">PUT /Users/e4887cf1-9539-4a9f-93c0-df1d94c3bdbd HTTP/1.1
Accept: application/json
Authorization: Bearer 7bbebc44b1ba43fa98e58178803467e2
Content-Type: application/json
If-Match: 0
Host: localhost
Content-Length: 684

{
  &quot;id&quot; : &quot;e4887cf1-9539-4a9f-93c0-df1d94c3bdbd&quot;,
  &quot;externalId&quot; : &quot;test-user&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:23.383Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:23.383Z&quot;
  },
  &quot;userName&quot; : &quot;gUSsLS@test.org&quot;,
  &quot;name&quot; : {
    &quot;familyName&quot; : &quot;family name&quot;,
    &quot;givenName&quot; : &quot;given name&quot;
  },
  &quot;emails&quot; : [ {
    &quot;value&quot; : &quot;gUSsLS@test.org&quot;,
    &quot;primary&quot; : false
  } ],
  &quot;groups&quot; : [ ],
  &quot;approvals&quot; : [ ],
  &quot;phoneNumbers&quot; : [ {
    &quot;value&quot; : &quot;5555555555&quot;
  } ],
  &quot;active&quot; : true,
  &quot;verified&quot; : true,
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;passwordLastModified&quot; : &quot;2017-07-28T23:56:23.000Z&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
ETag: &quot;1&quot;
Content-Type: application/json;charset=UTF-8
Content-Length: 2804

{
  &quot;id&quot; : &quot;e4887cf1-9539-4a9f-93c0-df1d94c3bdbd&quot;,
  &quot;externalId&quot; : &quot;test-user&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 1,
    &quot;created&quot; : &quot;2017-07-28T23:56:23.383Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:23.493Z&quot;
  },
  &quot;userName&quot; : &quot;gUSsLS@test.org&quot;,
  &quot;name&quot; : {
    &quot;familyName&quot; : &quot;family name&quot;,
    &quot;givenName&quot; : &quot;given name&quot;
  },
  &quot;emails&quot; : [ {
    &quot;value&quot; : &quot;gUSsLS@test.org&quot;,
    &quot;primary&quot; : false
  } ],
  &quot;groups&quot; : [ {
    &quot;value&quot; : &quot;3c7f7c24-6066-4345-8437-76be6b6697e0&quot;,
    &quot;display&quot; : &quot;roles&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;4738c2f9-6afd-4408-bfb3-71aaeba190f8&quot;,
    &quot;display&quot; : &quot;cloud_controller.read&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;651edf94-d34a-489b-ab95-470c4449f535&quot;,
    &quot;display&quot; : &quot;scim.userids&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;c7d9882c-c7bc-4745-9a47-b6656b0c8bef&quot;,
    &quot;display&quot; : &quot;openid&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;568d4b7d-4927-40fd-b8b7-c008cb9ee1b5&quot;,
    &quot;display&quot; : &quot;cloud_controller.write&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;4c6c93f9-7f37-4e9e-a1f5-5e588f5b95a9&quot;,
    &quot;display&quot; : &quot;uaa.user&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;989e123e-01a3-4d7f-aa56-b5a0b86892e1&quot;,
    &quot;display&quot; : &quot;uaa.offline_token&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;b3a35057-7d0e-4ab7-82fb-c2484d3b33dc&quot;,
    &quot;display&quot; : &quot;cloud_controller_service_permissions.read&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;e9e130d7-2e71-4a84-8201-2510a88c8b13&quot;,
    &quot;display&quot; : &quot;scim.me&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;55ff269c-5b51-4905-888a-7fd4a20a9522&quot;,
    &quot;display&quot; : &quot;profile&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;a15cd3d9-330f-4707-9e0c-ce94392100eb&quot;,
    &quot;display&quot; : &quot;password.write&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;ec78d7ae-f13b-4bc0-99b2-28f35ba164ba&quot;,
    &quot;display&quot; : &quot;approvals.me&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;511c0aff-6d9e-410f-9789-6f2cd720e411&quot;,
    &quot;display&quot; : &quot;user_attributes&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;1c830886-5cda-4614-8cfb-fef7bc8c916f&quot;,
    &quot;display&quot; : &quot;oauth.approvals&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  } ],
  &quot;approvals&quot; : [ {
    &quot;userId&quot; : &quot;e4887cf1-9539-4a9f-93c0-df1d94c3bdbd&quot;,
    &quot;clientId&quot; : &quot;client id&quot;,
    &quot;scope&quot; : &quot;scim.read&quot;,
    &quot;status&quot; : &quot;APPROVED&quot;,
    &quot;lastUpdatedAt&quot; : &quot;2017-07-28T23:56:23.474Z&quot;,
    &quot;expiresAt&quot; : &quot;2017-07-28T23:56:33.474Z&quot;
  }, {
    &quot;userId&quot; : &quot;e4887cf1-9539-4a9f-93c0-df1d94c3bdbd&quot;,
    &quot;clientId&quot; : &quot;identity&quot;,
    &quot;scope&quot; : &quot;uaa.user&quot;,
    &quot;status&quot; : &quot;DENIED&quot;,
    &quot;lastUpdatedAt&quot; : &quot;2017-07-28T23:56:53.476Z&quot;,
    &quot;expiresAt&quot; : &quot;2017-07-28T23:56:53.476Z&quot;
  } ],
  &quot;phoneNumbers&quot; : [ {
    &quot;value&quot; : &quot;5555555555&quot;
  } ],
  &quot;active&quot; : true,
  &quot;verified&quot; : true,
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;passwordLastModified&quot; : &quot;2017-07-28T23:56:23.000Z&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Access token with scim.write or uaa.admin required</td>
</tr>
<tr>
<td><code>If-Match</code></td>
<td>The version of the SCIM object to be updated. Wildcard (*) accepted.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userName</td>
<td>String</td>
<td>Required</td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td>name</td>
<td>Object</td>
<td>Required</td>
<td>A map with the user&#39;s first name and last name.</td>
</tr>
<tr>
<td>name.familyName</td>
<td>String</td>
<td>Required</td>
<td>The user&#39;s last name.</td>
</tr>
<tr>
<td>name.givenName</td>
<td>String</td>
<td>Required</td>
<td>The user&#39;s first name.</td>
</tr>
<tr>
<td>phoneNumbers</td>
<td>Array</td>
<td>Optional</td>
<td>The user&#39;s phone numbers.</td>
</tr>
<tr>
<td>phoneNumbers[].value</td>
<td>String</td>
<td>Optional</td>
<td>The phone number.</td>
</tr>
<tr>
<td>emails</td>
<td>Array</td>
<td>Required</td>
<td>The user&#39;s email addresses.</td>
</tr>
<tr>
<td>emails[].value</td>
<td>String</td>
<td>Required</td>
<td>The email address.</td>
</tr>
<tr>
<td>emails[].primary</td>
<td>Boolean</td>
<td>Required</td>
<td>Set to true if this is the user&#39;s primary email address.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td>verified</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;uaa&quot;</code>)</td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&#39; is an internal UAA user.</td>
</tr>
<tr>
<td>externalId</td>
<td>String</td>
<td>Optional</td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td>SCIM Schemas used, currently always set to [ &quot;urn:scim:schemas:core:1.0&quot; ]</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique user identifier.</td>
</tr>
<tr>
<td><code>userName</code></td>
<td><code>String</code></td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>Object</code></td>
<td>A map with the user&#39;s first name and last name.</td>
</tr>
<tr>
<td><code>name.familyName</code></td>
<td><code>String</code></td>
<td>The user&#39;s last name.</td>
</tr>
<tr>
<td><code>name.givenName</code></td>
<td><code>String</code></td>
<td>The user&#39;s first name.</td>
</tr>
<tr>
<td><code>phoneNumbers</code></td>
<td><code>Array</code></td>
<td>The user&#39;s phone numbers.</td>
</tr>
<tr>
<td><code>phoneNumbers[].value</code></td>
<td><code>String</code></td>
<td>The phone number.</td>
</tr>
<tr>
<td><code>emails</code></td>
<td><code>Array</code></td>
<td>The user&#39;s email addresses.</td>
</tr>
<tr>
<td><code>emails[].value</code></td>
<td><code>String</code></td>
<td>The email address.</td>
</tr>
<tr>
<td><code>emails[].primary</code></td>
<td><code>Boolean</code></td>
<td>Set to true if this is the user&#39;s primary email address.</td>
</tr>
<tr>
<td><code>groups</code></td>
<td><code>Array</code></td>
<td>A list of groups the user belongs to.</td>
</tr>
<tr>
<td><code>groups[].value</code></td>
<td><code>String</code></td>
<td>Unique group identifier</td>
</tr>
<tr>
<td><code>groups[].display</code></td>
<td><code>String</code></td>
<td>The group display name, also referred to as scope during authorization.</td>
</tr>
<tr>
<td><code>groups[].type</code></td>
<td><code>String</code></td>
<td>Membership type - DIRECT means the user is directly associated with the group. INDIRECT means that the membership has been inherited from nested groups.</td>
</tr>
<tr>
<td><code>approvals</code></td>
<td><code>Array</code></td>
<td>A list of approvals for this user. Approvals are user&#39;s explicit approval or rejection for an application.</td>
</tr>
<tr>
<td><code>approvals[].userId</code></td>
<td><code>String</code></td>
<td>The user id on the approval. Will be the same as the id field.</td>
</tr>
<tr>
<td><code>approvals[].clientId</code></td>
<td><code>String</code></td>
<td>The client id on the approval. Represents the application this approval or denial was for.</td>
</tr>
<tr>
<td><code>approvals[].scope</code></td>
<td><code>String</code></td>
<td>The scope on the approval. Will be a group display value.</td>
</tr>
<tr>
<td><code>approvals[].status</code></td>
<td><code>String</code></td>
<td>The status of the approval. APPROVED or DENIED are the only valid values.</td>
</tr>
<tr>
<td><code>approvals[].lastUpdatedAt</code></td>
<td><code>String</code></td>
<td>Date this approval was last updated.</td>
</tr>
<tr>
<td><code>approvals[].expiresAt</code></td>
<td><code>String</code></td>
<td>Date this approval will expire.</td>
</tr>
<tr>
<td><code>active</code></td>
<td><code>Boolean</code></td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td><code>verified</code></td>
<td><code>Boolean</code></td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td><code>origin</code></td>
<td><code>String</code></td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&#39; is an internal UAA user.</td>
</tr>
<tr>
<td><code>zoneId</code></td>
<td><code>String</code></td>
<td>The zone this user belongs to. &#39;uaa&#39; is the default zone.</td>
</tr>
<tr>
<td><code>passwordLastModified</code></td>
<td><code>String</code></td>
<td>The timestamp this user&#39;s password was last changed.</td>
</tr>
<tr>
<td><code>lastLogonTime</code></td>
<td><code>Number</code></td>
<td>The unix epoch timestamp of when the user last authenticated. Default value of this field is null and is omitted from the response if null</td>
</tr>
<tr>
<td><code>previousLogonTime</code></td>
<td><code>Number</code></td>
<td>The unix epoch timestamp of when the user last authenticated. Default value of this field is null and is omitted from the response if null</td>
</tr>
<tr>
<td><code>externalId</code></td>
<td><code>String</code></td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
<tr>
<td><code>meta</code></td>
<td><code>Object</code></td>
<td>SCIM object meta data.</td>
</tr>
<tr>
<td><code>meta.version</code></td>
<td><code>Number</code></td>
<td>Object version.</td>
</tr>
<tr>
<td><code>meta.lastModified</code></td>
<td><code>String</code></td>
<td>Object last modified date.</td>
</tr>
<tr>
<td><code>meta.created</code></td>
<td><code>String</code></td>
<td>Object created date.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or missing fields</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (scim.write is required to update a user)</td>
</tr>
<tr>
<td>404</td>
<td>User id not found</td>
</tr>
</tbody></table>

<blockquote>
<p>Example using uaac to view users:</p>
</blockquote>

<pre><code class="bash">uaac target http://localhost:8080/uaa

uaac token client get admin -s adminsecret

uaac user update testuser --given_name About --family_name Schmidt --emails testuser@test.org --phones 415-555-1212
</code></pre>
<h2 id='patch-42510'>Patch</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Users/7f872be0-6923-444b-84dd-6a13b947d5f0&#39; -i -X PATCH \
    -H &#39;Accept: application/json&#39; \
    -H &#39;Authorization: Bearer eb04506bdab341a494b71a5a3b0da45a&#39; \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;If-Match: 0&#39; \
    -d &#39;{
  &quot;id&quot; : &quot;7f872be0-6923-444b-84dd-6a13b947d5f0&quot;,
  &quot;externalId&quot; : &quot;test-user&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:24.722Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:24.722Z&quot;
  },
  &quot;userName&quot; : &quot;rMVuIZ@test.org&quot;,
  &quot;name&quot; : {
    &quot;familyName&quot; : &quot;family name&quot;,
    &quot;givenName&quot; : &quot;given name&quot;
  },
  &quot;emails&quot; : [ {
    &quot;value&quot; : &quot;rMVuIZ@test.org&quot;,
    &quot;primary&quot; : false
  } ],
  &quot;groups&quot; : [ ],
  &quot;approvals&quot; : [ ],
  &quot;phoneNumbers&quot; : [ {
    &quot;value&quot; : &quot;5555555555&quot;
  } ],
  &quot;active&quot; : true,
  &quot;verified&quot; : true,
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;passwordLastModified&quot; : &quot;2017-07-28T23:56:24.000Z&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}&#39;
</code></pre>

<pre><code class="http">PATCH /Users/7f872be0-6923-444b-84dd-6a13b947d5f0 HTTP/1.1
Accept: application/json
Authorization: Bearer eb04506bdab341a494b71a5a3b0da45a
Content-Type: application/json
If-Match: 0
Host: localhost
Content-Length: 684

{
  &quot;id&quot; : &quot;7f872be0-6923-444b-84dd-6a13b947d5f0&quot;,
  &quot;externalId&quot; : &quot;test-user&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:24.722Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:24.722Z&quot;
  },
  &quot;userName&quot; : &quot;rMVuIZ@test.org&quot;,
  &quot;name&quot; : {
    &quot;familyName&quot; : &quot;family name&quot;,
    &quot;givenName&quot; : &quot;given name&quot;
  },
  &quot;emails&quot; : [ {
    &quot;value&quot; : &quot;rMVuIZ@test.org&quot;,
    &quot;primary&quot; : false
  } ],
  &quot;groups&quot; : [ ],
  &quot;approvals&quot; : [ ],
  &quot;phoneNumbers&quot; : [ {
    &quot;value&quot; : &quot;5555555555&quot;
  } ],
  &quot;active&quot; : true,
  &quot;verified&quot; : true,
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;passwordLastModified&quot; : &quot;2017-07-28T23:56:24.000Z&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
ETag: &quot;1&quot;
Content-Type: application/json;charset=UTF-8
Content-Length: 2804

{
  &quot;id&quot; : &quot;7f872be0-6923-444b-84dd-6a13b947d5f0&quot;,
  &quot;externalId&quot; : &quot;test-user&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 1,
    &quot;created&quot; : &quot;2017-07-28T23:56:24.722Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:24.826Z&quot;
  },
  &quot;userName&quot; : &quot;rMVuIZ@test.org&quot;,
  &quot;name&quot; : {
    &quot;familyName&quot; : &quot;family name&quot;,
    &quot;givenName&quot; : &quot;given name&quot;
  },
  &quot;emails&quot; : [ {
    &quot;value&quot; : &quot;rMVuIZ@test.org&quot;,
    &quot;primary&quot; : false
  } ],
  &quot;groups&quot; : [ {
    &quot;value&quot; : &quot;3c7f7c24-6066-4345-8437-76be6b6697e0&quot;,
    &quot;display&quot; : &quot;roles&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;4738c2f9-6afd-4408-bfb3-71aaeba190f8&quot;,
    &quot;display&quot; : &quot;cloud_controller.read&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;651edf94-d34a-489b-ab95-470c4449f535&quot;,
    &quot;display&quot; : &quot;scim.userids&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;c7d9882c-c7bc-4745-9a47-b6656b0c8bef&quot;,
    &quot;display&quot; : &quot;openid&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;568d4b7d-4927-40fd-b8b7-c008cb9ee1b5&quot;,
    &quot;display&quot; : &quot;cloud_controller.write&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;4c6c93f9-7f37-4e9e-a1f5-5e588f5b95a9&quot;,
    &quot;display&quot; : &quot;uaa.user&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;989e123e-01a3-4d7f-aa56-b5a0b86892e1&quot;,
    &quot;display&quot; : &quot;uaa.offline_token&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;b3a35057-7d0e-4ab7-82fb-c2484d3b33dc&quot;,
    &quot;display&quot; : &quot;cloud_controller_service_permissions.read&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;e9e130d7-2e71-4a84-8201-2510a88c8b13&quot;,
    &quot;display&quot; : &quot;scim.me&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;55ff269c-5b51-4905-888a-7fd4a20a9522&quot;,
    &quot;display&quot; : &quot;profile&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;a15cd3d9-330f-4707-9e0c-ce94392100eb&quot;,
    &quot;display&quot; : &quot;password.write&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;ec78d7ae-f13b-4bc0-99b2-28f35ba164ba&quot;,
    &quot;display&quot; : &quot;approvals.me&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;511c0aff-6d9e-410f-9789-6f2cd720e411&quot;,
    &quot;display&quot; : &quot;user_attributes&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;1c830886-5cda-4614-8cfb-fef7bc8c916f&quot;,
    &quot;display&quot; : &quot;oauth.approvals&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  } ],
  &quot;approvals&quot; : [ {
    &quot;userId&quot; : &quot;7f872be0-6923-444b-84dd-6a13b947d5f0&quot;,
    &quot;clientId&quot; : &quot;identity&quot;,
    &quot;scope&quot; : &quot;uaa.user&quot;,
    &quot;status&quot; : &quot;DENIED&quot;,
    &quot;lastUpdatedAt&quot; : &quot;2017-07-28T23:56:54.809Z&quot;,
    &quot;expiresAt&quot; : &quot;2017-07-28T23:56:54.809Z&quot;
  }, {
    &quot;userId&quot; : &quot;7f872be0-6923-444b-84dd-6a13b947d5f0&quot;,
    &quot;clientId&quot; : &quot;client id&quot;,
    &quot;scope&quot; : &quot;scim.read&quot;,
    &quot;status&quot; : &quot;APPROVED&quot;,
    &quot;lastUpdatedAt&quot; : &quot;2017-07-28T23:56:24.807Z&quot;,
    &quot;expiresAt&quot; : &quot;2017-07-28T23:56:34.808Z&quot;
  } ],
  &quot;phoneNumbers&quot; : [ {
    &quot;value&quot; : &quot;5555555555&quot;
  } ],
  &quot;active&quot; : true,
  &quot;verified&quot; : true,
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;passwordLastModified&quot; : &quot;2017-07-28T23:56:24.000Z&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Access token with scim.write or uaa.admin required</td>
</tr>
<tr>
<td><code>If-Match</code></td>
<td>The version of the SCIM object to be updated. Wildabccard (*) accepted.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userName</td>
<td>String</td>
<td>Required</td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td>name</td>
<td>Object</td>
<td>Required</td>
<td>A map with the user&#39;s first name and last name.</td>
</tr>
<tr>
<td>name.familyName</td>
<td>String</td>
<td>Required</td>
<td>The user&#39;s last name.</td>
</tr>
<tr>
<td>name.givenName</td>
<td>String</td>
<td>Required</td>
<td>The user&#39;s first name.</td>
</tr>
<tr>
<td>phoneNumbers</td>
<td>Array</td>
<td>Optional</td>
<td>The user&#39;s phone numbers.</td>
</tr>
<tr>
<td>phoneNumbers[].value</td>
<td>String</td>
<td>Optional</td>
<td>The phone number.</td>
</tr>
<tr>
<td>emails</td>
<td>Array</td>
<td>Required</td>
<td>The user&#39;s email addresses.</td>
</tr>
<tr>
<td>emails[].value</td>
<td>String</td>
<td>Required</td>
<td>The email address.</td>
</tr>
<tr>
<td>emails[].primary</td>
<td>Boolean</td>
<td>Required</td>
<td>Set to true if this is the user&#39;s primary email address.</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Optional (defaults to <code>true</code>)</td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td>verified</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;uaa&quot;</code>)</td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&#39; is an internal UAA user.</td>
</tr>
<tr>
<td>externalId</td>
<td>String</td>
<td>Optional</td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
<tr>
<td>meta.attributes</td>
<td>Array</td>
<td>Optional</td>
<td>Names of attributes that shall be deleted</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td>SCIM Schemas used, currently always set to [ &quot;urn:scim:schemas:core:1.0&quot; ]</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique user identifier.</td>
</tr>
<tr>
<td><code>userName</code></td>
<td><code>String</code></td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>Object</code></td>
<td>A map with the user&#39;s first name and last name.</td>
</tr>
<tr>
<td><code>name.familyName</code></td>
<td><code>String</code></td>
<td>The user&#39;s last name.</td>
</tr>
<tr>
<td><code>name.givenName</code></td>
<td><code>String</code></td>
<td>The user&#39;s first name.</td>
</tr>
<tr>
<td><code>phoneNumbers</code></td>
<td><code>Array</code></td>
<td>The user&#39;s phone numbers.</td>
</tr>
<tr>
<td><code>phoneNumbers[].value</code></td>
<td><code>String</code></td>
<td>The phone number.</td>
</tr>
<tr>
<td><code>emails</code></td>
<td><code>Array</code></td>
<td>The user&#39;s email addresses.</td>
</tr>
<tr>
<td><code>emails[].value</code></td>
<td><code>String</code></td>
<td>The email address.</td>
</tr>
<tr>
<td><code>emails[].primary</code></td>
<td><code>Boolean</code></td>
<td>Set to true if this is the user&#39;s primary email address.</td>
</tr>
<tr>
<td><code>groups</code></td>
<td><code>Array</code></td>
<td>A list of groups the user belongs to.</td>
</tr>
<tr>
<td><code>groups[].value</code></td>
<td><code>String</code></td>
<td>Unique group identifier</td>
</tr>
<tr>
<td><code>groups[].display</code></td>
<td><code>String</code></td>
<td>The group display name, also referred to as scope during authorization.</td>
</tr>
<tr>
<td><code>groups[].type</code></td>
<td><code>String</code></td>
<td>Membership type - DIRECT means the user is directly associated with the group. INDIRECT means that the membership has been inherited from nested groups.</td>
</tr>
<tr>
<td><code>approvals</code></td>
<td><code>Array</code></td>
<td>A list of approvals for this user. Approvals are user&#39;s explicit approval or rejection for an application.</td>
</tr>
<tr>
<td><code>approvals[].userId</code></td>
<td><code>String</code></td>
<td>The user id on the approval. Will be the same as the id field.</td>
</tr>
<tr>
<td><code>approvals[].clientId</code></td>
<td><code>String</code></td>
<td>The client id on the approval. Represents the application this approval or denial was for.</td>
</tr>
<tr>
<td><code>approvals[].scope</code></td>
<td><code>String</code></td>
<td>The scope on the approval. Will be a group display value.</td>
</tr>
<tr>
<td><code>approvals[].status</code></td>
<td><code>String</code></td>
<td>The status of the approval. APPROVED or DENIED are the only valid values.</td>
</tr>
<tr>
<td><code>approvals[].lastUpdatedAt</code></td>
<td><code>String</code></td>
<td>Date this approval was last updated.</td>
</tr>
<tr>
<td><code>approvals[].expiresAt</code></td>
<td><code>String</code></td>
<td>Date this approval will expire.</td>
</tr>
<tr>
<td><code>active</code></td>
<td><code>Boolean</code></td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td><code>verified</code></td>
<td><code>Boolean</code></td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td><code>origin</code></td>
<td><code>String</code></td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&#39; is an internal UAA user.</td>
</tr>
<tr>
<td><code>zoneId</code></td>
<td><code>String</code></td>
<td>The zone this user belongs to. &#39;uaa&#39; is the default zone.</td>
</tr>
<tr>
<td><code>passwordLastModified</code></td>
<td><code>String</code></td>
<td>The timestamp this user&#39;s password was last changed.</td>
</tr>
<tr>
<td><code>lastLogonTime</code></td>
<td><code>Number</code></td>
<td>The unix epoch timestamp of when the user last authenticated. Default value of this field is null and is omitted from the response if null</td>
</tr>
<tr>
<td><code>previousLogonTime</code></td>
<td><code>Number</code></td>
<td>The unix epoch timestamp of when the user last authenticated. Default value of this field is null and is omitted from the response if null</td>
</tr>
<tr>
<td><code>externalId</code></td>
<td><code>String</code></td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
<tr>
<td><code>meta</code></td>
<td><code>Object</code></td>
<td>SCIM object meta data.</td>
</tr>
<tr>
<td><code>meta.version</code></td>
<td><code>Number</code></td>
<td>Object version.</td>
</tr>
<tr>
<td><code>meta.lastModified</code></td>
<td><code>String</code></td>
<td>Object last modified date.</td>
</tr>
<tr>
<td><code>meta.created</code></td>
<td><code>String</code></td>
<td>Object created date.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or missing fields</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (scim.write is required to update a user)</td>
</tr>
<tr>
<td>404</td>
<td>User id not found</td>
</tr>
</tbody></table>

<blockquote>
<p>Example using uaac to patch users:</p>
</blockquote>

<pre><code class="bash">uaac target http://localhost:8080/uaa

uaac token client get admin -s adminsecret

uaac user update testuser --given_name About --family_name Schmidt --emails testuser@test.org --phones 415-555-1212
</code></pre>
<h2 id='delete-39449'>Delete</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Users/04437697-f4dc-4675-be2a-c3fae1d0667d&#39; -i -X DELETE \
    -H &#39;Accept: application/json&#39; \
    -H &#39;Authorization: Bearer b421f9f0d26448fd8784f6f93c66400a&#39; \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;If-Match: 0&#39;
</code></pre>

<pre><code class="http">DELETE /Users/04437697-f4dc-4675-be2a-c3fae1d0667d HTTP/1.1
Accept: application/json
Authorization: Bearer b421f9f0d26448fd8784f6f93c66400a
Content-Type: application/json
If-Match: 0
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
ETag: &quot;0&quot;
Content-Type: application/json;charset=UTF-8
Content-Length: 2806

{
  &quot;id&quot; : &quot;04437697-f4dc-4675-be2a-c3fae1d0667d&quot;,
  &quot;externalId&quot; : &quot;test-user&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:21.550Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:21.550Z&quot;
  },
  &quot;userName&quot; : &quot;8HXqmk@test.org&quot;,
  &quot;name&quot; : {
    &quot;familyName&quot; : &quot;family name&quot;,
    &quot;givenName&quot; : &quot;given name&quot;
  },
  &quot;emails&quot; : [ {
    &quot;value&quot; : &quot;8HXqmk@test.org&quot;,
    &quot;primary&quot; : false
  } ],
  &quot;groups&quot; : [ {
    &quot;value&quot; : &quot;3c7f7c24-6066-4345-8437-76be6b6697e0&quot;,
    &quot;display&quot; : &quot;roles&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;4738c2f9-6afd-4408-bfb3-71aaeba190f8&quot;,
    &quot;display&quot; : &quot;cloud_controller.read&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;651edf94-d34a-489b-ab95-470c4449f535&quot;,
    &quot;display&quot; : &quot;scim.userids&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;c7d9882c-c7bc-4745-9a47-b6656b0c8bef&quot;,
    &quot;display&quot; : &quot;openid&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;568d4b7d-4927-40fd-b8b7-c008cb9ee1b5&quot;,
    &quot;display&quot; : &quot;cloud_controller.write&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;4c6c93f9-7f37-4e9e-a1f5-5e588f5b95a9&quot;,
    &quot;display&quot; : &quot;uaa.user&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;989e123e-01a3-4d7f-aa56-b5a0b86892e1&quot;,
    &quot;display&quot; : &quot;uaa.offline_token&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;b3a35057-7d0e-4ab7-82fb-c2484d3b33dc&quot;,
    &quot;display&quot; : &quot;cloud_controller_service_permissions.read&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;e9e130d7-2e71-4a84-8201-2510a88c8b13&quot;,
    &quot;display&quot; : &quot;scim.me&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;55ff269c-5b51-4905-888a-7fd4a20a9522&quot;,
    &quot;display&quot; : &quot;profile&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;a15cd3d9-330f-4707-9e0c-ce94392100eb&quot;,
    &quot;display&quot; : &quot;password.write&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;ec78d7ae-f13b-4bc0-99b2-28f35ba164ba&quot;,
    &quot;display&quot; : &quot;approvals.me&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;511c0aff-6d9e-410f-9789-6f2cd720e411&quot;,
    &quot;display&quot; : &quot;user_attributes&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  }, {
    &quot;value&quot; : &quot;1c830886-5cda-4614-8cfb-fef7bc8c916f&quot;,
    &quot;display&quot; : &quot;oauth.approvals&quot;,
    &quot;type&quot; : &quot;DIRECT&quot;
  } ],
  &quot;approvals&quot; : [ {
    &quot;userId&quot; : &quot;04437697-f4dc-4675-be2a-c3fae1d0667d&quot;,
    &quot;clientId&quot; : &quot;identity&quot;,
    &quot;scope&quot; : &quot;uaa.user&quot;,
    &quot;status&quot; : &quot;APPROVED&quot;,
    &quot;lastUpdatedAt&quot; : &quot;2017-07-28T23:56:51.649Z&quot;,
    &quot;expiresAt&quot; : &quot;2017-07-28T23:56:51.649Z&quot;
  }, {
    &quot;userId&quot; : &quot;04437697-f4dc-4675-be2a-c3fae1d0667d&quot;,
    &quot;clientId&quot; : &quot;client id&quot;,
    &quot;scope&quot; : &quot;scim.read&quot;,
    &quot;status&quot; : &quot;APPROVED&quot;,
    &quot;lastUpdatedAt&quot; : &quot;2017-07-28T23:56:21.646Z&quot;,
    &quot;expiresAt&quot; : &quot;2017-07-28T23:56:31.646Z&quot;
  } ],
  &quot;phoneNumbers&quot; : [ {
    &quot;value&quot; : &quot;5555555555&quot;
  } ],
  &quot;active&quot; : true,
  &quot;verified&quot; : true,
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;passwordLastModified&quot; : &quot;2017-07-28T23:56:21.000Z&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Access token with scim.write or uaa.admin required</td>
</tr>
<tr>
<td><code>If-Match</code></td>
<td>The version of the SCIM object to be deleted. Optional.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td>SCIM Schemas used, currently always set to [ &quot;urn:scim:schemas:core:1.0&quot; ]</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Unique user identifier.</td>
</tr>
<tr>
<td><code>userName</code></td>
<td><code>String</code></td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>Object</code></td>
<td>A map with the user&#39;s first name and last name.</td>
</tr>
<tr>
<td><code>name.familyName</code></td>
<td><code>String</code></td>
<td>The user&#39;s last name.</td>
</tr>
<tr>
<td><code>name.givenName</code></td>
<td><code>String</code></td>
<td>The user&#39;s first name.</td>
</tr>
<tr>
<td><code>phoneNumbers</code></td>
<td><code>Array</code></td>
<td>The user&#39;s phone numbers.</td>
</tr>
<tr>
<td><code>phoneNumbers[].value</code></td>
<td><code>String</code></td>
<td>The phone number.</td>
</tr>
<tr>
<td><code>emails</code></td>
<td><code>Array</code></td>
<td>The user&#39;s email addresses.</td>
</tr>
<tr>
<td><code>emails[].value</code></td>
<td><code>String</code></td>
<td>The email address.</td>
</tr>
<tr>
<td><code>emails[].primary</code></td>
<td><code>Boolean</code></td>
<td>Set to true if this is the user&#39;s primary email address.</td>
</tr>
<tr>
<td><code>groups</code></td>
<td><code>Array</code></td>
<td>A list of groups the user belongs to.</td>
</tr>
<tr>
<td><code>groups[].value</code></td>
<td><code>String</code></td>
<td>Unique group identifier</td>
</tr>
<tr>
<td><code>groups[].display</code></td>
<td><code>String</code></td>
<td>The group display name, also referred to as scope during authorization.</td>
</tr>
<tr>
<td><code>groups[].type</code></td>
<td><code>String</code></td>
<td>Membership type - DIRECT means the user is directly associated with the group. INDIRECT means that the membership has been inherited from nested groups.</td>
</tr>
<tr>
<td><code>approvals</code></td>
<td><code>Array</code></td>
<td>A list of approvals for this user. Approvals are user&#39;s explicit approval or rejection for an application.</td>
</tr>
<tr>
<td><code>approvals[].userId</code></td>
<td><code>String</code></td>
<td>The user id on the approval. Will be the same as the id field.</td>
</tr>
<tr>
<td><code>approvals[].clientId</code></td>
<td><code>String</code></td>
<td>The client id on the approval. Represents the application this approval or denial was for.</td>
</tr>
<tr>
<td><code>approvals[].scope</code></td>
<td><code>String</code></td>
<td>The scope on the approval. Will be a group display value.</td>
</tr>
<tr>
<td><code>approvals[].status</code></td>
<td><code>String</code></td>
<td>The status of the approval. APPROVED or DENIED are the only valid values.</td>
</tr>
<tr>
<td><code>approvals[].lastUpdatedAt</code></td>
<td><code>String</code></td>
<td>Date this approval was last updated.</td>
</tr>
<tr>
<td><code>approvals[].expiresAt</code></td>
<td><code>String</code></td>
<td>Date this approval will expire.</td>
</tr>
<tr>
<td><code>active</code></td>
<td><code>Boolean</code></td>
<td>If this user is active. False is a soft delete. The user will not be able to log in.</td>
</tr>
<tr>
<td><code>verified</code></td>
<td><code>Boolean</code></td>
<td>True, if this user has verified her/his email address.</td>
</tr>
<tr>
<td><code>origin</code></td>
<td><code>String</code></td>
<td>The alias of the identity provider that authenticated this user. &#39;uaa&#39; is an internal UAA user.</td>
</tr>
<tr>
<td><code>zoneId</code></td>
<td><code>String</code></td>
<td>The zone this user belongs to. &#39;uaa&#39; is the default zone.</td>
</tr>
<tr>
<td><code>passwordLastModified</code></td>
<td><code>String</code></td>
<td>The timestamp this user&#39;s password was last changed.</td>
</tr>
<tr>
<td><code>lastLogonTime</code></td>
<td><code>Number</code></td>
<td>The unix epoch timestamp of when the user last authenticated. Default value of this field is null and is omitted from the response if null</td>
</tr>
<tr>
<td><code>previousLogonTime</code></td>
<td><code>Number</code></td>
<td>The unix epoch timestamp of when the user last authenticated. Default value of this field is null and is omitted from the response if null</td>
</tr>
<tr>
<td><code>externalId</code></td>
<td><code>String</code></td>
<td>External user ID if authenticated through external identity provider.</td>
</tr>
<tr>
<td><code>meta</code></td>
<td><code>Object</code></td>
<td>SCIM object meta data.</td>
</tr>
<tr>
<td><code>meta.version</code></td>
<td><code>Number</code></td>
<td>Object version.</td>
</tr>
<tr>
<td><code>meta.lastModified</code></td>
<td><code>String</code></td>
<td>Object last modified date.</td>
</tr>
<tr>
<td><code>meta.created</code></td>
<td><code>String</code></td>
<td>Object created date.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or missing fields</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (scim.write is required to delete a user)</td>
</tr>
<tr>
<td>404</td>
<td>User id not found</td>
</tr>
</tbody></table>

<blockquote>
<p>Example using uaac to delete users:</p>
</blockquote>

<pre><code class="bash">uaac target http://localhost:8080/uaa

uaac token client get admin -s adminsecret

uaac user delete testuser
</code></pre>
<h2 id='user-info-97259'>User Info</h2>
<p>An OAuth2 protected resource and an OpenID Connect endpoint. Given an appropriate access_token, returns information about a user. Defined fields include various standard user profile fields. The response may include other user information such as group membership.</p>

<pre><code class="bash">$ curl &#39;http://localhost/userinfo&#39; -i \
    -H &#39;Authorization: Bearer 0c591b36f14d4344b7a1af0bce74b272&#39;
</code></pre>

<pre><code class="http">GET /userinfo HTTP/1.1
Authorization: Bearer 0c591b36f14d4344b7a1af0bce74b272
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 384

{
  &quot;user_id&quot; : &quot;29a898f3-e14e-4f7a-bdd7-f277b70ea295&quot;,
  &quot;sub&quot; : &quot;29a898f3-e14e-4f7a-bdd7-f277b70ea295&quot;,
  &quot;user_name&quot; : &quot;5qJLYd@test.org&quot;,
  &quot;given_name&quot; : &quot;PasswordResetUserFirst&quot;,
  &quot;family_name&quot; : &quot;PasswordResetUserLast&quot;,
  &quot;email&quot; : &quot;5qJLYd@test.org&quot;,
  &quot;phone_number&quot; : &quot;+15558880000&quot;,
  &quot;previous_logon_time&quot; : null,
  &quot;name&quot; : &quot;PasswordResetUserFirst PasswordResetUserLast&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Access token with openid required. If the <code>user_attributes</code> scope is in the token, the response object will contain custom attributes, if mapped to the external identity provider.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>sub</code></td>
<td><code>String</code></td>
<td>Subject Identifier. A locally unique and never reassigned identifier within the Issuer for the End-User, which is intended to be consumed by the Client.</td>
</tr>
<tr>
<td><code>user_id</code></td>
<td><code>String</code></td>
<td>Unique user identifier.</td>
</tr>
<tr>
<td><code>email</code></td>
<td><code>String</code></td>
<td>The user&#39;s email address.</td>
</tr>
<tr>
<td><code>user_name</code></td>
<td><code>String</code></td>
<td>User name of the user, typically an email address.</td>
</tr>
<tr>
<td><code>given_name</code></td>
<td><code>String</code></td>
<td>The user&#39;s first name.</td>
</tr>
<tr>
<td><code>family_name</code></td>
<td><code>String</code></td>
<td>The user&#39;s last name.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>A map with the user&#39;s first name and last name.</td>
</tr>
<tr>
<td><code>phone_number</code></td>
<td><code>String</code></td>
<td>The user&#39;s phone number.</td>
</tr>
<tr>
<td><code>previous_logon_time</code></td>
<td><code>Null</code></td>
<td>The unix epoch timestamp of 2nd to last successful user authentication.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or missing fields</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (openid is required to get the user info)</td>
</tr>
</tbody></table>

<blockquote>
<p>Example using uaac to view user info:</p>
</blockquote>

<pre><code class="bash">uaac target http://localhost:8080/uaa

uaac token authcode get admin -s adminsecret

uaac curl -X GET /userinfo -k
</code></pre>
<h2 id='change-user-password-61519'>Change user password</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Users/a577f967-fc24-4ad2-9692-c5d86ba8270a/password&#39; -i -X PUT \
    -H &#39;Accept: application/json&#39; \
    -H &#39;Authorization: Bearer 33b3ae149eb047ef9ba0574f20351504&#39; \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;If-Match: 0&#39; \
    -d &#39;{
  &quot;oldPassword&quot; : &quot;secret&quot;,
  &quot;password&quot; : &quot;newsecret&quot;
}&#39;
</code></pre>

<pre><code class="http">PUT /Users/a577f967-fc24-4ad2-9692-c5d86ba8270a/password HTTP/1.1
Accept: application/json
Authorization: Bearer 33b3ae149eb047ef9ba0574f20351504
Content-Type: application/json
If-Match: 0
Host: localhost
Content-Length: 58

{
  &quot;oldPassword&quot; : &quot;secret&quot;,
  &quot;password&quot; : &quot;newsecret&quot;
}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 55

{
  &quot;status&quot; : &quot;ok&quot;,
  &quot;message&quot; : &quot;password updated&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Access token with password.write or uaa.admin required</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oldPassword</td>
<td>String</td>
<td>Required</td>
<td>Old password. Optional when resetting another users password as an admin with uaa.admin scope</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>Required</td>
<td>New password.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>status</code></td>
<td><code>String</code></td>
<td>Will be &#39;ok&#39; if password changed successfully.</td>
</tr>
<tr>
<td><code>message</code></td>
<td><code>String</code></td>
<td>Will be &#39;password updated&#39; if password changed successfully.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or missing fields</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (scim.write or a token containing the user id is required to create a user)</td>
</tr>
<tr>
<td>404</td>
<td>User id not found</td>
</tr>
</tbody></table>

<blockquote>
<p>Example using uaac to view users:</p>
</blockquote>

<pre><code class="bash">uaac target http://localhost:8080/uaa

uaac token owner get cf testuser -s &quot;&quot; -p &quot;secret&quot;

uaac password change -o secret -p newsecret
</code></pre>
<h2 id='unlock-account-16727'>Unlock Account</h2>
<aside class="success">
  Added in UAA 3.7.0
</aside>

<pre><code class="bash">$ curl &#39;http://localhost/Users/1f733163-ac1b-4a62-bbcf-3681fe5f171b/status&#39; -i -X PATCH \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 4017e9593e42476a9da2d96d99460a5d&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;{
  &quot;locked&quot; : false
}&#39;
</code></pre>

<pre><code class="http">PATCH /Users/1f733163-ac1b-4a62-bbcf-3681fe5f171b/status HTTP/1.1
Content-Type: application/json
Authorization: Bearer 4017e9593e42476a9da2d96d99460a5d
Accept: application/json
Host: localhost
Content-Length: 22

{
  &quot;locked&quot; : false
}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Cache-Control: no-store
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 22

{
  &quot;locked&quot; : false
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/Users/{userId}/status</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>Unique user identifier.</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Access token with scim.write, uaa.account_status.write, or uaa.admin required</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>locked</td>
<td>Boolean</td>
<td>Optional</td>
<td>Set to <code>false</code> in order to unlock the user when they have been locked out according to the password lock-out policy. Setting to <code>true</code> will produce an error, as the user cannot be locked out via the API.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>locked</code></td>
<td><code>Boolean</code></td>
<td>The <code>locked</code> value given in the request.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or illegal value</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (scim.write or uaa.account_status.write)</td>
</tr>
<tr>
<td>404</td>
<td>User id not found</td>
</tr>
</tbody></table>
<h2 id='force-user-password-to-expire-47043'>Force user password to expire</h2>
<aside class="success">
  Added in UAA 3.9.0
</aside>

<pre><code class="bash">$ curl &#39;http://localhost/Users/a8fe6617-b3e2-447f-a3a4-c4c47b0c37f0/status&#39; -i -X PATCH \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 18a4860f25ef4ff2a2faa8717c7ec56e&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;{
  &quot;passwordChangeRequired&quot; : true
}&#39;
</code></pre>

<pre><code class="http">PATCH /Users/a8fe6617-b3e2-447f-a3a4-c4c47b0c37f0/status HTTP/1.1
Content-Type: application/json
Authorization: Bearer 18a4860f25ef4ff2a2faa8717c7ec56e
Accept: application/json
Host: localhost
Content-Length: 37

{
  &quot;passwordChangeRequired&quot; : true
}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Cache-Control: no-store
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 37

{
  &quot;passwordChangeRequired&quot; : true
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/Users/{userId}/status</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>Unique user identifier.</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Access token with scim.write, uaa.account_status.write, or uaa.admin required</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>passwordChangeRequired</td>
<td>Boolean</td>
<td>Optional</td>
<td>Set to <code>true</code> in order to force internal user���s password to expire</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>passwordChangeRequired</code></td>
<td><code>Boolean</code></td>
<td>The <code>passwordChangeRequired</code> value given in the request.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - invalid JSON format or illegal value</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized - Invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope (scim.write or uaa.account_status.write)</td>
</tr>
<tr>
<td>404</td>
<td>User id not found</td>
</tr>
</tbody></table>
<h2 id='get-user-verification-link-76986'>Get user verification link</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Users/f96732a6-2c75-4d0a-8177-9ff0b87d63a4/verify-link?redirect_uri=http%3A%2F%2Fredirect.to%2Fapp&#39; -i \
    -H &#39;Authorization: Bearer 5c24b73b876a4b899b72e2ff255470b6&#39; \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">GET /Users/f96732a6-2c75-4d0a-8177-9ff0b87d63a4/verify-link?redirect_uri=http%3A%2F%2Fredirect.to%2Fapp HTTP/1.1
Authorization: Bearer 5c24b73b876a4b899b72e2ff255470b6
Accept: application/json
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 68

{
  &quot;verify_link&quot; : &quot;http://localhost/verify_user?code=xZTql8evjN&quot;
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/Users/{userId}/verify-link</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>The ID of the user to verify</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>The bearer token, with a pre-amble of <code>Bearer</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Required</td>
<td>Location where the user will be redirected after verifying by clicking the verification link</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>verify_link</code></td>
<td><code>String</code></td>
<td>Location the user must visit and authenticate to verify</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope or internal user management disabled</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - User not found</td>
</tr>
</tbody></table>
<h2 id='verify-user-73397'>Verify user</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Users/4ae1db91-44d2-46b0-b90c-e08cfb5806b7/verify&#39; -i \
    -H &#39;Authorization: Bearer 8210c12e658a42978dd956b5fdec07cf&#39; \
    -H &#39;If-Match: 12&#39; \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">GET /Users/4ae1db91-44d2-46b0-b90c-e08cfb5806b7/verify HTTP/1.1
Authorization: Bearer 8210c12e658a42978dd956b5fdec07cf
If-Match: 12
Accept: application/json
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
ETag: &quot;12&quot;
Content-Type: application/json;charset=UTF-8
Content-Length: 561

{
  &quot;id&quot; : &quot;4ae1db91-44d2-46b0-b90c-e08cfb5806b7&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 12,
    &quot;created&quot; : &quot;2017-07-28T23:56:21.385Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:21.385Z&quot;
  },
  &quot;userName&quot; : &quot;billy_o@example.com&quot;,
  &quot;name&quot; : {
    &quot;familyName&quot; : &quot;d&#39;Orange&quot;,
    &quot;givenName&quot; : &quot;William&quot;
  },
  &quot;emails&quot; : [ {
    &quot;value&quot; : &quot;billy_o@example.com&quot;,
    &quot;primary&quot; : false
  } ],
  &quot;active&quot; : true,
  &quot;verified&quot; : true,
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;passwordLastModified&quot; : &quot;2017-07-28T23:56:21.000Z&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/Users/{userId}/verify</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>The ID of the user to verify</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>The bearer token, with a pre-amble of <code>Bearer</code></td>
</tr>
<tr>
<td><code>If-Match</code></td>
<td>(Optional) The expected current version of the user, which will prevent update if the version does not match</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Incorrect version supplied in If-Match header</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope or internal user management disabled</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - User not found</td>
</tr>
</tbody></table>
<h2 id='lookup-user-ids-usernames-98093'>Lookup User IDs/Usernames</h2>
<pre><code class="bash">$ curl &#39;http://localhost/ids/Users?filter=userName+eq+%22bobsqa4jV%40test.org%22+or+id+eq+%2249786aa2-c617-4535-8b10-8390bfb7fdc7%22&amp;sortOrder=descending&amp;startIndex=1&amp;count=10&amp;includeInactive=true&#39; -i \
    -H &#39;Authorization: Bearer 9b28ccee0bd34af998f357deb9f25f69&#39;
</code></pre>

<pre><code class="http">GET /ids/Users?filter=userName+eq+%22bobsqa4jV%40test.org%22+or+id+eq+%2249786aa2-c617-4535-8b10-8390bfb7fdc7%22&amp;sortOrder=descending&amp;startIndex=1&amp;count=10&amp;includeInactive=true HTTP/1.1
Authorization: Bearer 9b28ccee0bd34af998f357deb9f25f69
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 373

{
  &quot;resources&quot; : [ {
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;id&quot; : &quot;49786aa2-c617-4535-8b10-8390bfb7fdc7&quot;,
    &quot;userName&quot; : &quot;dwayne7v0cXH@test.org&quot;
  }, {
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;id&quot; : &quot;4ef8298b-7a6c-40ed-ae8b-d0c49fb5afde&quot;,
    &quot;userName&quot; : &quot;bobsqa4jV@test.org&quot;
  } ],
  &quot;startIndex&quot; : 1,
  &quot;itemsPerPage&quot; : 10,
  &quot;totalResults&quot; : 2,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with authorization for <code>scim.userids</code> scope</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filter</td>
<td>String</td>
<td>Required</td>
<td>SCIM filter for users over <code>userName</code>, <code>id</code>, and <code>origin</code>, using only the <code>eq</code> comparison operator</td>
</tr>
<tr>
<td>sortOrder</td>
<td>String</td>
<td>Optional (defaults to <code>ascending</code>)</td>
<td>sort by username in <code>ascending</code> or <code>descending</code> order</td>
</tr>
<tr>
<td>startIndex</td>
<td>Number</td>
<td>Optional (defaults to <code>1</code>)</td>
<td>display paged results beginning at specified index</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Optional (defaults to <code>100</code>)</td>
<td>number of results to return per page</td>
</tr>
<tr>
<td>includeInactive</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>include users from inactive identity providers</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>totalResults</code></td>
<td><code>Number</code></td>
<td>The number of results which matched the filter</td>
</tr>
<tr>
<td><code>startIndex</code></td>
<td><code>Number</code></td>
<td>The index of the first item of this page of results</td>
</tr>
<tr>
<td><code>itemsPerPage</code></td>
<td><code>Number</code></td>
<td>The page size used in producing this page of results</td>
</tr>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td><code>[&quot;urn:scim:schemas:core:1.0&quot;]</code></td>
</tr>
<tr>
<td><code>resources[].id</code></td>
<td><code>String</code></td>
<td>The globally unique identifier for this user</td>
</tr>
<tr>
<td><code>resources[].userName</code></td>
<td><code>String</code></td>
<td>The username</td>
</tr>
<tr>
<td><code>resources[].origin</code></td>
<td><code>String</code></td>
<td>The origin of the user, e.g. an identity provider alias</td>
</tr>
</tbody></table>

<p><em>Error Codes</em></p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Request was invalid or unparseable</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>
<h2 id='invite-users-11129'>Invite users</h2>
<pre><code class="bash">$ curl &#39;http://localhost/invite_users?client_id=6za3uc&amp;redirect_uri=example.com&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 8c0a23e2122149e0bcd9d01bdbc6fe56&#39; \
    -d &#39;{
  &quot;emails&quot; : [ &quot;user1@3xajcf.com&quot;, &quot;user2@3xajcf.com&quot; ]
}&#39;
</code></pre>

<pre><code class="http">POST /invite_users?client_id=6za3uc&amp;redirect_uri=example.com HTTP/1.1
Content-Type: application/json
Authorization: Bearer 8c0a23e2122149e0bcd9d01bdbc6fe56
Host: localhost
Content-Length: 59

{
  &quot;emails&quot; : [ &quot;user1@3xajcf.com&quot;, &quot;user2@3xajcf.com&quot; ]
}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 578

{
  &quot;new_invites&quot; : [ {
    &quot;email&quot; : &quot;user1@3xajcf.com&quot;,
    &quot;userId&quot; : &quot;63ad6048-6f5f-4be8-988b-a060f56878c0&quot;,
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;success&quot; : true,
    &quot;errorCode&quot; : null,
    &quot;errorMessage&quot; : null,
    &quot;inviteLink&quot; : &quot;http://localhost/invitations/accept?code=Tc6EqJrulE&quot;
  }, {
    &quot;email&quot; : &quot;user2@3xajcf.com&quot;,
    &quot;userId&quot; : &quot;ed7c9ffd-4f0d-4674-9e00-0253c1c5bc2e&quot;,
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;success&quot; : true,
    &quot;errorCode&quot; : null,
    &quot;errorMessage&quot; : null,
    &quot;inviteLink&quot; : &quot;http://localhost/invitations/accept?code=BMRTtCYadU&quot;
  } ],
  &quot;failed_invites&quot; : [ ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>scim.invite</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>emails</td>
<td>Array</td>
<td>Required</td>
<td>User is invited by providing an email address. More than one email addresses can be provided.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>String</td>
<td>Optional</td>
<td>A unique string representing the registration information provided by the client</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Required</td>
<td>The user will be redirected to this uri, when user accepts the invitation. The redirect_uri will be validated against allowed redirect_uri for the client.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>new_invites[].email</code></td>
<td><code>String</code></td>
<td>Primary email id of the invited user</td>
</tr>
<tr>
<td><code>new_invites[].userId</code></td>
<td><code>String</code></td>
<td>A unique string for the invited user</td>
</tr>
<tr>
<td><code>new_invites[].origin</code></td>
<td><code>String</code></td>
<td>Unique alias of the provider</td>
</tr>
<tr>
<td><code>new_invites[].success</code></td>
<td><code>Boolean</code></td>
<td>Flag to determine whether the invitation was sent successfully</td>
</tr>
<tr>
<td><code>new_invites[].errorCode</code></td>
<td><code>String</code></td>
<td>Error code in case of failure to send invitation</td>
</tr>
<tr>
<td><code>new_invites[].errorMessage</code></td>
<td><code>String</code></td>
<td>Error message in case of failure to send invitation</td>
</tr>
<tr>
<td><code>new_invites[].inviteLink</code></td>
<td><code>String</code></td>
<td>Invitation link to invite users</td>
</tr>
<tr>
<td><code>failed_invites</code></td>
<td><code>Array</code></td>
<td>List of invites having exception in sending the invitation</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>
<h1 id='groups-85216'>Groups</h1><h2 id='create-41645'>Create</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Groups&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer e726acf7dfed4c5d99573f30726c4770&#39; \
    -d &#39;{
  &quot;displayName&quot; : &quot;Cool Group Name&quot;,
  &quot;description&quot; : &quot;the cool group&quot;,
  &quot;members&quot; : [ {
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;type&quot; : &quot;USER&quot;,
    &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
  } ]
}&#39;
</code></pre>

<pre><code class="http">POST /Groups HTTP/1.1
Content-Type: application/json
Authorization: Bearer e726acf7dfed4c5d99573f30726c4770
Host: localhost
Content-Length: 196

{
  &quot;displayName&quot; : &quot;Cool Group Name&quot;,
  &quot;description&quot; : &quot;the cool group&quot;,
  &quot;members&quot; : [ {
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;type&quot; : &quot;USER&quot;,
    &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
  } ]
}
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
ETag: &quot;0&quot;
Content-Type: application/json;charset=UTF-8
Content-Length: 441

{
  &quot;id&quot; : &quot;9fd41e25-e725-41f1-8975-724a512495a3&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:19.804Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:19.804Z&quot;
  },
  &quot;displayName&quot; : &quot;Cool Group Name&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;description&quot; : &quot;the cool group&quot;,
  &quot;members&quot; : [ {
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;type&quot; : &quot;USER&quot;,
    &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
  } ],
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with scope <code>scim.write</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>displayName</td>
<td>String</td>
<td>Required</td>
<td>An identifier, unique within the identity zone</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Optional</td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td>members</td>
<td>Array</td>
<td>Optional</td>
<td>Members to be included in the group</td>
</tr>
<tr>
<td>members[].value</td>
<td>String</td>
<td>Required for each item in <code>members</code></td>
<td>The globally-unique ID of the member entity, either a user ID or another group ID</td>
</tr>
<tr>
<td>members[].type</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;USER&quot;</code>)</td>
<td>Either <code>&quot;USER&quot;</code> or <code>&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td>members[].origin</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;uaa&quot;</code>)</td>
<td>The alias of the identity provider that authenticated this user. <code>&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td><code>displayName</code></td>
<td><code>String</code></td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>String</code></td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td><code>members</code></td>
<td><code>Array</code></td>
<td>Array of group members</td>
</tr>
<tr>
<td><code>members[].value</code></td>
<td><code>String</code></td>
<td>Globally unique identifier of the member, either a user ID or another group ID</td>
</tr>
<tr>
<td><code>members[].type</code></td>
<td><code>String</code></td>
<td>Either <code>&quot;USER&quot;</code> or <code>&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td><code>members[].origin</code></td>
<td><code>String</code></td>
<td>The alias of the identity provider that authenticated this user. <code>&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
<tr>
<td><code>zoneId</code></td>
<td><code>String</code></td>
<td>Identifier for the identity zone to which the group belongs</td>
</tr>
<tr>
<td><code>meta.version</code></td>
<td><code>Number</code></td>
<td>The version of the group entity</td>
</tr>
<tr>
<td><code>meta.created</code></td>
<td><code>String</code></td>
<td>The time the group was created</td>
</tr>
<tr>
<td><code>meta.lastModified</code></td>
<td><code>String</code></td>
<td>The time the group was last updated</td>
</tr>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td><code>[ &quot;urn:scim:schemas:core:1.0&quot; ]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Invalid member ID</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>
<h2 id='retrieve-4411'>Retrieve</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Groups/9fd41e25-e725-41f1-8975-724a512495a3&#39; -i \
    -H &#39;Authorization: Bearer a6438aee39cd4659aa7b3cb7ef3424a6&#39;
</code></pre>

<pre><code class="http">GET /Groups/9fd41e25-e725-41f1-8975-724a512495a3 HTTP/1.1
Authorization: Bearer a6438aee39cd4659aa7b3cb7ef3424a6
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
ETag: &quot;2&quot;
Content-Type: application/json;charset=UTF-8
Content-Length: 454

{
  &quot;id&quot; : &quot;9fd41e25-e725-41f1-8975-724a512495a3&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 2,
    &quot;created&quot; : &quot;2017-07-28T23:56:19.804Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:20.023Z&quot;
  },
  &quot;displayName&quot; : &quot;Cooler Group Name for Update&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;description&quot; : &quot;the cool group&quot;,
  &quot;members&quot; : [ {
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;type&quot; : &quot;USER&quot;,
    &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
  } ],
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>Globally unique identifier of the group to retrieve</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with scope <code>scim.read</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td><code>displayName</code></td>
<td><code>String</code></td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>String</code></td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td><code>members</code></td>
<td><code>Array</code></td>
<td>Array of group members</td>
</tr>
<tr>
<td><code>members[].value</code></td>
<td><code>String</code></td>
<td>Globally unique identifier of the member, either a user ID or another group ID</td>
</tr>
<tr>
<td><code>members[].type</code></td>
<td><code>String</code></td>
<td>Either <code>&quot;USER&quot;</code> or <code>&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td><code>members[].origin</code></td>
<td><code>String</code></td>
<td>The alias of the identity provider that authenticated this user. <code>&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
<tr>
<td><code>zoneId</code></td>
<td><code>String</code></td>
<td>Identifier for the identity zone to which the group belongs</td>
</tr>
<tr>
<td><code>meta.version</code></td>
<td><code>Number</code></td>
<td>The version of the group entity</td>
</tr>
<tr>
<td><code>meta.created</code></td>
<td><code>String</code></td>
<td>The time the group was created</td>
</tr>
<tr>
<td><code>meta.lastModified</code></td>
<td><code>String</code></td>
<td>The time the group was last updated</td>
</tr>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td><code>[ &quot;urn:scim:schemas:core:1.0&quot; ]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>
<h2 id='update-53441'>Update</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Groups/9fd41e25-e725-41f1-8975-724a512495a3&#39; -i -X PUT \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer e726acf7dfed4c5d99573f30726c4770&#39; \
    -H &#39;If-Match: 0&#39; \
    -d &#39;{
  &quot;displayName&quot; : &quot;Cooler Group Name for Update&quot;,
  &quot;description&quot; : &quot;the cool group&quot;,
  &quot;members&quot; : [ {
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;type&quot; : &quot;USER&quot;,
    &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
  } ]
}&#39;
</code></pre>

<pre><code class="http">PUT /Groups/9fd41e25-e725-41f1-8975-724a512495a3 HTTP/1.1
Content-Type: application/json
Authorization: Bearer e726acf7dfed4c5d99573f30726c4770
If-Match: 0
Host: localhost
Content-Length: 209

{
  &quot;displayName&quot; : &quot;Cooler Group Name for Update&quot;,
  &quot;description&quot; : &quot;the cool group&quot;,
  &quot;members&quot; : [ {
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;type&quot; : &quot;USER&quot;,
    &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
  } ]
}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
ETag: &quot;1&quot;
Content-Type: application/json;charset=UTF-8
Content-Length: 454

{
  &quot;id&quot; : &quot;9fd41e25-e725-41f1-8975-724a512495a3&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 1,
    &quot;created&quot; : &quot;2017-07-28T23:56:19.804Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:19.937Z&quot;
  },
  &quot;displayName&quot; : &quot;Cooler Group Name for Update&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;description&quot; : &quot;the cool group&quot;,
  &quot;members&quot; : [ {
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;type&quot; : &quot;USER&quot;,
    &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
  } ],
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>Globally unique identifier of the group to update</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with scope <code>scim.write</code> or <code>groups.update</code></td>
</tr>
<tr>
<td><code>If-Match</code></td>
<td>The version of the SCIM object to be updated. Wildcard (*) accepted.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>displayName</td>
<td>String</td>
<td>Required</td>
<td>An identifier, unique within the identity zone</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Optional</td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td>members</td>
<td>Array</td>
<td>Optional</td>
<td>Members to be included in the group</td>
</tr>
<tr>
<td>members[].value</td>
<td>String</td>
<td>Required for each item in <code>members</code></td>
<td>The globally-unique ID of the member entity, either a user ID or another group ID</td>
</tr>
<tr>
<td>members[].type</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;USER&quot;</code>)</td>
<td>Either <code>&quot;USER&quot;</code> or <code>&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td>members[].origin</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;uaa&quot;</code>)</td>
<td>The alias of the identity provider that authenticated this user. <code>&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td><code>displayName</code></td>
<td><code>String</code></td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>String</code></td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td><code>members</code></td>
<td><code>Array</code></td>
<td>Array of group members</td>
</tr>
<tr>
<td><code>members[].value</code></td>
<td><code>String</code></td>
<td>Globally unique identifier of the member, either a user ID or another group ID</td>
</tr>
<tr>
<td><code>members[].type</code></td>
<td><code>String</code></td>
<td>Either <code>&quot;USER&quot;</code> or <code>&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td><code>members[].origin</code></td>
<td><code>String</code></td>
<td>The alias of the identity provider that authenticated this user. <code>&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
<tr>
<td><code>zoneId</code></td>
<td><code>String</code></td>
<td>Identifier for the identity zone to which the group belongs</td>
</tr>
<tr>
<td><code>meta.version</code></td>
<td><code>Number</code></td>
<td>The version of the group entity</td>
</tr>
<tr>
<td><code>meta.created</code></td>
<td><code>String</code></td>
<td>The time the group was created</td>
</tr>
<tr>
<td><code>meta.lastModified</code></td>
<td><code>String</code></td>
<td>The time the group was last updated</td>
</tr>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td><code>[ &quot;urn:scim:schemas:core:1.0&quot; ]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Incorrect version supplied in If-Match header</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
</tbody></table>
<h2 id='patch-32641'>Patch</h2>
<p>Updating partial elements of a group is documented at 
<a href="http://www.simplecloud.info/specs/draft-scim-api-01.html#edit-resource-with-patch">SCIM Specification</a></p>

<pre><code class="bash">$ curl &#39;http://localhost/Groups/9fd41e25-e725-41f1-8975-724a512495a3&#39; -i -X PATCH \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer e726acf7dfed4c5d99573f30726c4770&#39; \
    -H &#39;If-Match: *&#39; \
    -d &#39;{
  &quot;displayName&quot; : &quot;Cooler Group Name for Update&quot;,
  &quot;description&quot; : &quot;the cool group&quot;,
  &quot;members&quot; : [ {
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;type&quot; : &quot;USER&quot;,
    &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
  } ]
}&#39;
</code></pre>

<pre><code class="http">PATCH /Groups/9fd41e25-e725-41f1-8975-724a512495a3 HTTP/1.1
Content-Type: application/json
Authorization: Bearer e726acf7dfed4c5d99573f30726c4770
If-Match: *
Host: localhost
Content-Length: 209

{
  &quot;displayName&quot; : &quot;Cooler Group Name for Update&quot;,
  &quot;description&quot; : &quot;the cool group&quot;,
  &quot;members&quot; : [ {
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;type&quot; : &quot;USER&quot;,
    &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
  } ]
}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
ETag: &quot;2&quot;
Content-Type: application/json;charset=UTF-8
Content-Length: 454

{
  &quot;id&quot; : &quot;9fd41e25-e725-41f1-8975-724a512495a3&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 2,
    &quot;created&quot; : &quot;2017-07-28T23:56:19.804Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:20.023Z&quot;
  },
  &quot;displayName&quot; : &quot;Cooler Group Name for Update&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;description&quot; : &quot;the cool group&quot;,
  &quot;members&quot; : [ {
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;type&quot; : &quot;USER&quot;,
    &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
  } ],
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>Globally unique identifier of the group to update</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with scope <code>scim.write</code> or <code>groups.update</code></td>
</tr>
<tr>
<td><code>If-Match</code></td>
<td>The version of the SCIM object to be updated. Wildcard (*) accepted.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>displayName</td>
<td>String</td>
<td>Required</td>
<td>An identifier, unique within the identity zone</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Optional</td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td>members</td>
<td>Array</td>
<td>Optional</td>
<td>Members to be included in the group</td>
</tr>
<tr>
<td>members[].value</td>
<td>String</td>
<td>Required for each item in <code>members</code></td>
<td>The globally-unique ID of the member entity, either a user ID or another group ID</td>
</tr>
<tr>
<td>members[].type</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;USER&quot;</code>)</td>
<td>Either <code>&quot;USER&quot;</code> or <code>&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td>members[].origin</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;uaa&quot;</code>)</td>
<td>The alias of the identity provider that authenticated this user. <code>&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
<tr>
<td>members[].operation</td>
<td>String</td>
<td>Optional</td>
<td>&quot;delete&quot; if the corresponding member shall be deleted</td>
</tr>
<tr>
<td>meta.attributes</td>
<td>Array</td>
<td>Optional</td>
<td>Names of attributes that shall be deleted</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td><code>displayName</code></td>
<td><code>String</code></td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>String</code></td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td><code>members</code></td>
<td><code>Array</code></td>
<td>Array of group members</td>
</tr>
<tr>
<td><code>members[].value</code></td>
<td><code>String</code></td>
<td>Globally unique identifier of the member, either a user ID or another group ID</td>
</tr>
<tr>
<td><code>members[].type</code></td>
<td><code>String</code></td>
<td>Either <code>&quot;USER&quot;</code> or <code>&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td><code>members[].origin</code></td>
<td><code>String</code></td>
<td>The alias of the identity provider that authenticated this user. <code>&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
<tr>
<td><code>zoneId</code></td>
<td><code>String</code></td>
<td>Identifier for the identity zone to which the group belongs</td>
</tr>
<tr>
<td><code>meta.version</code></td>
<td><code>Number</code></td>
<td>The version of the group entity</td>
</tr>
<tr>
<td><code>meta.created</code></td>
<td><code>String</code></td>
<td>The time the group was created</td>
</tr>
<tr>
<td><code>meta.lastModified</code></td>
<td><code>String</code></td>
<td>The time the group was last updated</td>
</tr>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td><code>[ &quot;urn:scim:schemas:core:1.0&quot; ]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Incorrect version supplied in If-Match header</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
</tbody></table>
<h2 id='delete-38706'>Delete</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Groups/9fd41e25-e725-41f1-8975-724a512495a3&#39; -i -X DELETE \
    -H &#39;Authorization: Bearer e726acf7dfed4c5d99573f30726c4770&#39;
</code></pre>

<pre><code class="http">DELETE /Groups/9fd41e25-e725-41f1-8975-724a512495a3 HTTP/1.1
Authorization: Bearer e726acf7dfed4c5d99573f30726c4770
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
ETag: &quot;2&quot;
Content-Type: application/json;charset=UTF-8
Content-Length: 454

{
  &quot;id&quot; : &quot;9fd41e25-e725-41f1-8975-724a512495a3&quot;,
  &quot;meta&quot; : {
    &quot;version&quot; : 2,
    &quot;created&quot; : &quot;2017-07-28T23:56:19.804Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:20.023Z&quot;
  },
  &quot;displayName&quot; : &quot;Cooler Group Name for Update&quot;,
  &quot;zoneId&quot; : &quot;uaa&quot;,
  &quot;description&quot; : &quot;the cool group&quot;,
  &quot;members&quot; : [ {
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;type&quot; : &quot;USER&quot;,
    &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
  } ],
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>The globally unique identifier of the group</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with scope <code>scim.write</code></td>
</tr>
<tr>
<td><code>If-Match</code></td>
<td>The version of the SCIM object to be updated. Wildcard (*) accepted.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td><code>displayName</code></td>
<td><code>String</code></td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>String</code></td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td><code>members</code></td>
<td><code>Array</code></td>
<td>Array of group members</td>
</tr>
<tr>
<td><code>members[].value</code></td>
<td><code>String</code></td>
<td>Globally unique identifier of the member, either a user ID or another group ID</td>
</tr>
<tr>
<td><code>members[].type</code></td>
<td><code>String</code></td>
<td>Either <code>&quot;USER&quot;</code> or <code>&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td><code>members[].origin</code></td>
<td><code>String</code></td>
<td>The alias of the identity provider that authenticated this user. <code>&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
<tr>
<td><code>zoneId</code></td>
<td><code>String</code></td>
<td>Identifier for the identity zone to which the group belongs</td>
</tr>
<tr>
<td><code>meta.version</code></td>
<td><code>Number</code></td>
<td>The version of the group entity</td>
</tr>
<tr>
<td><code>meta.created</code></td>
<td><code>String</code></td>
<td>The time the group was created</td>
</tr>
<tr>
<td><code>meta.lastModified</code></td>
<td><code>String</code></td>
<td>The time the group was last updated</td>
</tr>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td><code>[ &quot;urn:scim:schemas:core:1.0&quot; ]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Incorrect version supplied in If-Match header</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
</tbody></table>
<h2 id='list-62177'>List</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Groups?filter=id+eq+%229fd41e25-e725-41f1-8975-724a512495a3%22+or+displayName+eq+%22Cooler+Group+Name+for+Update%22&amp;sortBy=lastModified&amp;count=50&amp;sortOrder=descending&amp;startIndex=1&#39; -i \
    -H &#39;Authorization: Bearer a6438aee39cd4659aa7b3cb7ef3424a6&#39;
</code></pre>

<pre><code class="http">GET /Groups?filter=id+eq+%229fd41e25-e725-41f1-8975-724a512495a3%22+or+displayName+eq+%22Cooler+Group+Name+for+Update%22&amp;sortBy=lastModified&amp;count=50&amp;sortOrder=descending&amp;startIndex=1 HTTP/1.1
Authorization: Bearer a6438aee39cd4659aa7b3cb7ef3424a6
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 622

{
  &quot;resources&quot; : [ {
    &quot;id&quot; : &quot;9fd41e25-e725-41f1-8975-724a512495a3&quot;,
    &quot;meta&quot; : {
      &quot;version&quot; : 2,
      &quot;created&quot; : &quot;2017-07-28T23:56:19.804Z&quot;,
      &quot;lastModified&quot; : &quot;2017-07-28T23:56:20.023Z&quot;
    },
    &quot;displayName&quot; : &quot;Cooler Group Name for Update&quot;,
    &quot;zoneId&quot; : &quot;uaa&quot;,
    &quot;description&quot; : &quot;the cool group&quot;,
    &quot;members&quot; : [ {
      &quot;origin&quot; : &quot;uaa&quot;,
      &quot;type&quot; : &quot;USER&quot;,
      &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
    } ],
    &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
  } ],
  &quot;startIndex&quot; : 1,
  &quot;itemsPerPage&quot; : 50,
  &quot;totalResults&quot; : 1,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with scope <code>scim.read</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>resources[].id</code></td>
<td><code>String</code></td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td><code>resources[].displayName</code></td>
<td><code>String</code></td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td><code>resources[].description</code></td>
<td><code>String</code></td>
<td>Human readable description of the group, displayed e.g. when approving scopes</td>
</tr>
<tr>
<td><code>resources[].members</code></td>
<td><code>Array</code></td>
<td>Array of group members</td>
</tr>
<tr>
<td><code>resources[].members[].value</code></td>
<td><code>String</code></td>
<td>Globally unique identifier of the member, either a user ID or another group ID</td>
</tr>
<tr>
<td><code>resources[].members[].type</code></td>
<td><code>String</code></td>
<td>Either <code>&quot;USER&quot;</code> or <code>&quot;GROUP&quot;</code></td>
</tr>
<tr>
<td><code>resources[].members[].origin</code></td>
<td><code>String</code></td>
<td>The alias of the identity provider that authenticated this user. <code>&quot;uaa&quot;</code> is an internal UAA user.</td>
</tr>
<tr>
<td><code>resources[].zoneId</code></td>
<td><code>String</code></td>
<td>Identifier for the identity zone to which the group belongs</td>
</tr>
<tr>
<td><code>resources[].meta.version</code></td>
<td><code>Number</code></td>
<td>The version of the group entity</td>
</tr>
<tr>
<td><code>resources[].meta.created</code></td>
<td><code>String</code></td>
<td>The time the group was created</td>
</tr>
<tr>
<td><code>resources[].meta.lastModified</code></td>
<td><code>String</code></td>
<td>The time the group was last updated</td>
</tr>
<tr>
<td><code>resources[].schemas</code></td>
<td><code>Array</code></td>
<td><code>[ &quot;urn:scim:schemas:core:1.0&quot; ]</code></td>
</tr>
<tr>
<td><code>itemsPerPage</code></td>
<td><code>Number</code></td>
<td>The page-size used to produce the current page of results</td>
</tr>
<tr>
<td><code>startIndex</code></td>
<td><code>Number</code></td>
<td>The index of the first result of this page within all matches</td>
</tr>
<tr>
<td><code>totalResults</code></td>
<td><code>Number</code></td>
<td>The number of groups that matched the given filter</td>
</tr>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td><code>[ &quot;urn:scim:schemas:core:1.0&quot; ]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Invalid attributes</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>
<h2 id='check-membership-46479'>Check Membership</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Groups/9fd41e25-e725-41f1-8975-724a512495a3/members/0270f744-5db4-4c3c-9e9a-f9789be3fc96&#39; -i \
    -H &#39;Authorization: Bearer a6438aee39cd4659aa7b3cb7ef3424a6&#39;
</code></pre>

<pre><code class="http">GET /Groups/9fd41e25-e725-41f1-8975-724a512495a3/members/0270f744-5db4-4c3c-9e9a-f9789be3fc96 HTTP/1.1
Authorization: Bearer a6438aee39cd4659aa7b3cb7ef3424a6
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 93

{
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;type&quot; : &quot;USER&quot;,
  &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}/members/{memberId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>The globally unique identifier of the group</td>
</tr>
<tr>
<td>memberId</td>
<td>The globally unique identifier the user or group which is a member of the specified by <code>groupId</code></td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with scope <code>scim.read</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>value</code></td>
<td><code>String</code></td>
<td>The globally unique identifier the user or group which is a member of the specified by <code>groupId</code></td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>String</code></td>
<td>Either <code>&quot;USER&quot;</code> or <code>&quot;GROUP&quot;</code>, indicating what type of entity the group membership refers to, and whether <code>value</code> denotes a user ID or group ID</td>
</tr>
<tr>
<td><code>origin</code></td>
<td><code>String</code></td>
<td>The originating IDP of the entity, or <code>&quot;uaa&quot;</code> for groups and internal users</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Invalid member ID</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Group does not exist, or the entity is not a member</td>
</tr>
</tbody></table>
<h2 id='add-member-95225'>Add Member</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Groups/9fd41e25-e725-41f1-8975-724a512495a3/members&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer e726acf7dfed4c5d99573f30726c4770&#39; \
    -d &#39;{&quot;origin&quot;:&quot;uaa&quot;,&quot;type&quot;:&quot;USER&quot;,&quot;value&quot;:&quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;}&#39;
</code></pre>

<pre><code class="http">POST /Groups/9fd41e25-e725-41f1-8975-724a512495a3/members HTTP/1.1
Content-Type: application/json
Authorization: Bearer e726acf7dfed4c5d99573f30726c4770
Host: localhost
Content-Length: 77

{&quot;origin&quot;:&quot;uaa&quot;,&quot;type&quot;:&quot;USER&quot;,&quot;value&quot;:&quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;}
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 93

{
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;type&quot; : &quot;USER&quot;,
  &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}/members</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>The globally unique identifier of the group</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with scope <code>scim.write</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>String</td>
<td>Required</td>
<td>The globally unique identifier the user or group which is a member of the specified by <code>groupId</code></td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Required</td>
<td>Either <code>&quot;USER&quot;</code> or <code>&quot;GROUP&quot;</code>, indicating what type of entity the group membership refers to, and whether <code>value</code> denotes a user ID or group ID</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>Required</td>
<td>The originating IDP of the entity, or <code>&quot;uaa&quot;</code> for groups and internal users</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>value</code></td>
<td><code>String</code></td>
<td>The globally unique identifier the user or group which is a member of the specified by <code>groupId</code></td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>String</code></td>
<td>Either <code>&quot;USER&quot;</code> or <code>&quot;GROUP&quot;</code>, indicating what type of entity the group membership refers to, and whether <code>value</code> denotes a user ID or group ID</td>
</tr>
<tr>
<td><code>origin</code></td>
<td><code>String</code></td>
<td>The originating IDP of the entity, or <code>&quot;uaa&quot;</code> for groups and internal users</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Invalid member ID</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Specified group or member entity does not exist</td>
</tr>
</tbody></table>
<h2 id='remove-member-54142'>Remove Member</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Groups/9fd41e25-e725-41f1-8975-724a512495a3/members/0270f744-5db4-4c3c-9e9a-f9789be3fc96&#39; -i -X DELETE \
    -H &#39;Authorization: Bearer e726acf7dfed4c5d99573f30726c4770&#39;
</code></pre>

<pre><code class="http">DELETE /Groups/9fd41e25-e725-41f1-8975-724a512495a3/members/0270f744-5db4-4c3c-9e9a-f9789be3fc96 HTTP/1.1
Authorization: Bearer e726acf7dfed4c5d99573f30726c4770
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 93

{
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;type&quot; : &quot;USER&quot;,
  &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}/members/{memberId}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>The globally unique identifier of the group</td>
</tr>
<tr>
<td>memberId</td>
<td>The globally unique identifier of the entity, i.e. the user or group, to be removed from membership in the group specified by <code>groupId</code></td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with scope <code>scim.write</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>origin</code></td>
<td><code>String</code></td>
<td>The originating IDP of the entity</td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>String</code></td>
<td>Either <code>&quot;USER&quot;</code> or <code>&quot;GROUP&quot;</code>, indicating what type of entity the group membership refers to</td>
</tr>
<tr>
<td><code>value</code></td>
<td><code>String</code></td>
<td>The globally unique identifier of the user or group which has been removed from the group specified by <code>groupId</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Incorrect version supplied in If-Match header</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Group does not exist, or the entity is not a member</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
</tbody></table>
<h2 id='list-members-63154'>List Members</h2>
<pre><code class="bash">$ curl &#39;http://localhost/Groups/9fd41e25-e725-41f1-8975-724a512495a3/members?returnEntities=true&#39; -i \
    -H &#39;Authorization: Bearer a6438aee39cd4659aa7b3cb7ef3424a6&#39;
</code></pre>

<pre><code class="http">GET /Groups/9fd41e25-e725-41f1-8975-724a512495a3/members?returnEntities=true HTTP/1.1
Authorization: Bearer a6438aee39cd4659aa7b3cb7ef3424a6
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 707

[ {
  &quot;origin&quot; : &quot;uaa&quot;,
  &quot;type&quot; : &quot;USER&quot;,
  &quot;entity&quot; : {
    &quot;id&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;,
    &quot;meta&quot; : {
      &quot;version&quot; : 0,
      &quot;created&quot; : &quot;2017-07-28T23:56:19.625Z&quot;,
      &quot;lastModified&quot; : &quot;2017-07-28T23:56:19.625Z&quot;
    },
    &quot;userName&quot; : &quot;D7XPPN&quot;,
    &quot;name&quot; : {
      &quot;familyName&quot; : &quot;cool-familyName&quot;,
      &quot;givenName&quot; : &quot;cool-name&quot;
    },
    &quot;emails&quot; : [ {
      &quot;value&quot; : &quot;cool@chill.com&quot;,
      &quot;primary&quot; : false
    } ],
    &quot;active&quot; : true,
    &quot;verified&quot; : true,
    &quot;origin&quot; : &quot;uaa&quot;,
    &quot;zoneId&quot; : &quot;uaa&quot;,
    &quot;passwordLastModified&quot; : &quot;2017-07-28T23:56:19.000Z&quot;,
    &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
  },
  &quot;value&quot; : &quot;0270f744-5db4-4c3c-9e9a-f9789be3fc96&quot;
} ]
</code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/{groupId}/members</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>The globally unique identifier of the group</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with scope <code>scim.read</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>returnEntities</td>
<td>Boolean</td>
<td>Optional (defaults to <code>false</code>)</td>
<td>Set to <code>true</code> to return the SCIM entities which have membership in the group</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>[].value</code></td>
<td><code>String</code></td>
<td>The globally unique identifier the user or group which is a member of the specified by <code>groupId</code></td>
</tr>
<tr>
<td><code>[].type</code></td>
<td><code>String</code></td>
<td>Either <code>&quot;USER&quot;</code> or <code>&quot;GROUP&quot;</code>, indicating what type of entity the group membership refers to, and whether <code>value</code> denotes a user ID or group ID</td>
</tr>
<tr>
<td><code>[].origin</code></td>
<td><code>String</code></td>
<td>The originating IDP of the entity, or <code>&quot;uaa&quot;</code> for groups and internal users</td>
</tr>
<tr>
<td><code>[].entity.*</code></td>
<td><code>Varies</code></td>
<td>Present only if requested with <code>returnEntities</code>; user or group details for each entity that is a member of this group</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Invalid attributes</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Specified group does not exist</td>
</tr>
</tbody></table>
<h2 id='external-group-mappings-97896'>External Group Mappings</h2><h3 id='map-98749'>Map</h3>
<pre><code class="bash">$ curl &#39;http://localhost/Groups/External&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer ebe75c1688354831972b3b64ef7a0fe2&#39; \
    -d &#39;{
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:19.352Z&quot;
  },
  &quot;groupId&quot; : &quot;18e8573f-2d89-4f45-bb43-a8ed716824cf&quot;,
  &quot;externalGroup&quot; : &quot;External group&quot;,
  &quot;origin&quot; : &quot;ldap&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}&#39;
</code></pre>

<pre><code class="http">POST /Groups/External HTTP/1.1
Content-Type: application/json
Authorization: Bearer ebe75c1688354831972b3b64ef7a0fe2
Host: localhost
Content-Length: 242

{
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:19.352Z&quot;
  },
  &quot;groupId&quot; : &quot;18e8573f-2d89-4f45-bb43-a8ed716824cf&quot;,
  &quot;externalGroup&quot; : &quot;External group&quot;,
  &quot;origin&quot; : &quot;ldap&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 362

{
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:19.361Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:19.361Z&quot;
  },
  &quot;groupId&quot; : &quot;18e8573f-2d89-4f45-bb43-a8ed716824cf&quot;,
  &quot;externalGroup&quot; : &quot;external group&quot;,
  &quot;displayName&quot; : &quot;Group For Testing Creating External Group Mapping&quot;,
  &quot;origin&quot; : &quot;ldap&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with authorization for <code>scim.write</code> scope</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>String</td>
<td>Required</td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td>externalGroup</td>
<td>String</td>
<td>Required</td>
<td>The identifier for the group in external identity provider that needs to be mapped to internal UAA groups</td>
</tr>
<tr>
<td>origin</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;ldap&quot;</code>)</td>
<td>Unique alias of the identity provider</td>
</tr>
<tr>
<td>meta.version</td>
<td>Number</td>
<td>Optional (defaults to <code>0</code>)</td>
<td>The version of the group entity</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>groupId</code></td>
<td><code>String</code></td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td><code>externalGroup</code></td>
<td><code>String</code></td>
<td>The identifier for the group in external identity provider that needs to be mapped to internal UAA groups</td>
</tr>
<tr>
<td><code>displayName</code></td>
<td><code>String</code></td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td><code>origin</code></td>
<td><code>String</code></td>
<td>Unique alias of the identity provider</td>
</tr>
<tr>
<td><code>meta.version</code></td>
<td><code>Number</code></td>
<td>The version of the group entity</td>
</tr>
<tr>
<td><code>meta.created</code></td>
<td><code>String</code></td>
<td>The time the group mapping was created</td>
</tr>
<tr>
<td><code>meta.lastModified</code></td>
<td><code>String</code></td>
<td>The time the group mapping was last updated</td>
</tr>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td><code>[&quot;urn:scim:schemas:core:1.0&quot;]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - External group or origin should not be null</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - Incorrect group ID provided</td>
</tr>
</tbody></table>
<h3 id='unmap-97884'>Unmap</h3><h4 id='by-group-id-18402'>By group ID</h4>
<pre><code class="bash">$ curl &#39;http://localhost/Groups/External/groupId/88300da1-f249-4419-b0cc-6b535367cd02/externalGroup/external%20group/origin/ldap&#39; -i -X DELETE \
    -H &#39;Authorization: Bearer d13daff5567844b188edec26e3491c7d&#39;
</code></pre>

<pre><code class="http">DELETE /Groups/External/groupId/88300da1-f249-4419-b0cc-6b535367cd02/externalGroup/external%20group/origin/ldap HTTP/1.1
Authorization: Bearer d13daff5567844b188edec26e3491c7d
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 362

{
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:19.180Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:19.180Z&quot;
  },
  &quot;groupId&quot; : &quot;88300da1-f249-4419-b0cc-6b535367cd02&quot;,
  &quot;externalGroup&quot; : &quot;external group&quot;,
  &quot;displayName&quot; : &quot;Group For Testing Deleting External Group Mapping&quot;,
  &quot;origin&quot; : &quot;ldap&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/External/groupId/{groupId}/externalGroup/{externalGroup}/origin/{origin}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td>externalGroup</td>
<td>The identifier for the group in external identity provider that needs to be mapped to internal UAA groups</td>
</tr>
<tr>
<td>origin</td>
<td>Unique alias of the identity provider</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with authorization for <code>scim.write</code> scope</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>groupId</code></td>
<td><code>String</code></td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td><code>externalGroup</code></td>
<td><code>String</code></td>
<td>The identifier for the group in external identity provider that needs to be mapped to internal UAA groups</td>
</tr>
<tr>
<td><code>displayName</code></td>
<td><code>String</code></td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td><code>origin</code></td>
<td><code>String</code></td>
<td>Unique alias of the identity provider</td>
</tr>
<tr>
<td><code>meta.version</code></td>
<td><code>Number</code></td>
<td>The version of the group entity</td>
</tr>
<tr>
<td><code>meta.created</code></td>
<td><code>String</code></td>
<td>The time the group mapping was created</td>
</tr>
<tr>
<td><code>meta.lastModified</code></td>
<td><code>String</code></td>
<td>The time the group mapping was last updated</td>
</tr>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td><code>[&quot;urn:scim:schemas:core:1.0&quot;]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - No such group ID, external group, origin combination</td>
</tr>
</tbody></table>
<h4 id='by-group-display-name-80245'>By group display name</h4>
<pre><code class="bash">$ curl &#39;http://localhost/Groups/External/displayName/Group%20For%20Testing%20Deleting%20External%20Group%20Mapping%20By%20Name/externalGroup/external%20group/origin/ldap&#39; -i -X DELETE \
    -H &#39;Authorization: Bearer 1d905229b7a64d62ac484af4c8d45f6f&#39;
</code></pre>

<pre><code class="http">DELETE /Groups/External/displayName/Group%20For%20Testing%20Deleting%20External%20Group%20Mapping%20By%20Name/externalGroup/external%20group/origin/ldap HTTP/1.1
Authorization: Bearer 1d905229b7a64d62ac484af4c8d45f6f
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 370

{
  &quot;meta&quot; : {
    &quot;version&quot; : 0,
    &quot;created&quot; : &quot;2017-07-28T23:56:19.427Z&quot;,
    &quot;lastModified&quot; : &quot;2017-07-28T23:56:19.427Z&quot;
  },
  &quot;groupId&quot; : &quot;0d0d0be8-7219-40cd-af2f-8fc47637e2cd&quot;,
  &quot;externalGroup&quot; : &quot;external group&quot;,
  &quot;displayName&quot; : &quot;Group For Testing Deleting External Group Mapping By Name&quot;,
  &quot;origin&quot; : &quot;ldap&quot;,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/Groups/External/displayName/{displayName}/externalGroup/{externalGroup}/origin/{origin}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>displayName</td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td>externalGroup</td>
<td>The identifier for the group in external identity provider that needs to be mapped to internal UAA groups</td>
</tr>
<tr>
<td>origin</td>
<td>Unique alias of the identity provider</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with authorization for <code>scim.write</code> scope</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>groupId</code></td>
<td><code>String</code></td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td><code>externalGroup</code></td>
<td><code>String</code></td>
<td>The identifier for the group in external identity provider that needs to be mapped to internal UAA groups</td>
</tr>
<tr>
<td><code>displayName</code></td>
<td><code>String</code></td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td><code>origin</code></td>
<td><code>String</code></td>
<td>Unique alias of the identity provider</td>
</tr>
<tr>
<td><code>meta.version</code></td>
<td><code>Number</code></td>
<td>The version of the group entity</td>
</tr>
<tr>
<td><code>meta.created</code></td>
<td><code>String</code></td>
<td>The time the group mapping was created</td>
</tr>
<tr>
<td><code>meta.lastModified</code></td>
<td><code>String</code></td>
<td>The time the group mapping was last updated</td>
</tr>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td><code>[&quot;urn:scim:schemas:core:1.0&quot;]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
<tr>
<td>404</td>
<td>Not Found - No such group display name, external group, origin combination</td>
</tr>
</tbody></table>
<h3 id='list-14480'>List</h3>
<pre><code class="bash">$ curl &#39;http://localhost/Groups/External?startIndex=1&amp;count=50&amp;origin=ldap&amp;externalGroup=&amp;filter=&amp;externalGroup=&amp;filter=&#39; -i \
    -H &#39;Authorization: Bearer 09f7fe335564459398fe4a19f935a72e&#39;
</code></pre>

<pre><code class="http">GET /Groups/External?startIndex=1&amp;count=50&amp;origin=ldap&amp;externalGroup=&amp;filter=&amp;externalGroup=&amp;filter= HTTP/1.1
Authorization: Bearer 09f7fe335564459398fe4a19f935a72e
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 1284

{
  &quot;resources&quot; : [ {
    &quot;displayName&quot; : &quot;internal.everything&quot;,
    &quot;externalGroup&quot; : &quot;cn=superusers,ou=scopes,dc=test,dc=com&quot;,
    &quot;groupId&quot; : &quot;00d01db4-47da-40b3-bf3c-72dbf796c25e&quot;,
    &quot;origin&quot; : &quot;ldap&quot;
  }, {
    &quot;displayName&quot; : &quot;organizations.acme&quot;,
    &quot;externalGroup&quot; : &quot;cn=test_org,ou=people,o=springsource,o=org&quot;,
    &quot;groupId&quot; : &quot;1facae6a-c7d9-458c-a8e6-afbc4a93535e&quot;,
    &quot;origin&quot; : &quot;ldap&quot;
  }, {
    &quot;displayName&quot; : &quot;internal.superuser&quot;,
    &quot;externalGroup&quot; : &quot;cn=superusers,ou=scopes,dc=test,dc=com&quot;,
    &quot;groupId&quot; : &quot;2397bb9c-5d84-4962-92f3-ac89a19c3959&quot;,
    &quot;origin&quot; : &quot;ldap&quot;
  }, {
    &quot;displayName&quot; : &quot;Group For Testing Retrieving External Group Mappings&quot;,
    &quot;externalGroup&quot; : &quot;external group&quot;,
    &quot;groupId&quot; : &quot;2da2f580-02d2-4c3b-bfa6-2d16606f8561&quot;,
    &quot;origin&quot; : &quot;ldap&quot;
  }, {
    &quot;displayName&quot; : &quot;internal.write&quot;,
    &quot;externalGroup&quot; : &quot;cn=operators,ou=scopes,dc=test,dc=com&quot;,
    &quot;groupId&quot; : &quot;2ee92aea-22eb-4ca7-803a-0292c03ad3eb&quot;,
    &quot;origin&quot; : &quot;ldap&quot;
  }, {
    &quot;displayName&quot; : &quot;internal.read&quot;,
    &quot;externalGroup&quot; : &quot;cn=developers,ou=scopes,dc=test,dc=com&quot;,
    &quot;groupId&quot; : &quot;58a99c44-647c-41e9-bc5b-9f16c749986f&quot;,
    &quot;origin&quot; : &quot;ldap&quot;
  } ],
  &quot;startIndex&quot; : 1,
  &quot;itemsPerPage&quot; : 6,
  &quot;totalResults&quot; : 6,
  &quot;schemas&quot; : [ &quot;urn:scim:schemas:core:1.0&quot; ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with authorization for <code>scim.read</code> scope</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>resources[].groupId</code></td>
<td><code>String</code></td>
<td>The globally unique group ID</td>
</tr>
<tr>
<td><code>resources[].displayName</code></td>
<td><code>String</code></td>
<td>The identifier specified upon creation of the group, unique within the identity zone</td>
</tr>
<tr>
<td><code>resources[].externalGroup</code></td>
<td><code>String</code></td>
<td>The identifier for the group in external identity provider that needs to be mapped to internal UAA groups</td>
</tr>
<tr>
<td><code>resources[].origin</code></td>
<td><code>String</code></td>
<td>Unique alias of the identity provider</td>
</tr>
<tr>
<td><code>startIndex</code></td>
<td><code>Number</code></td>
<td>The index of the first item of this page of results</td>
</tr>
<tr>
<td><code>itemsPerPage</code></td>
<td><code>Number</code></td>
<td>The page size used in producing this page of results</td>
</tr>
<tr>
<td><code>totalResults</code></td>
<td><code>Number</code></td>
<td>The number of results which matched the filter</td>
</tr>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td><code>[&quot;urn:scim:schemas:core:1.0&quot;]</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request - Invalid request parameters</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden - Insufficient scope</td>
</tr>
</tbody></table>
<h1 id='clients-46378'>Clients</h1><h2 id='create-7278'>Create</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/clients&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 930a35d429be44af89e0d81397403d38&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;{
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;TrW58S&quot;,
  &quot;client_secret&quot; : &quot;secret&quot;,
  &quot;resource_ids&quot; : [ ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://test1.com&quot;, &quot;http://ant.path.wildcard/**/passback/*&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;cF8nUC&quot;,
  &quot;autoapprove&quot; : true,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;
}&#39;
</code></pre>

<pre><code class="http">POST /oauth/clients HTTP/1.1
Content-Type: application/json
Authorization: Bearer 930a35d429be44af89e0d81397403d38
Accept: application/json
Host: localhost
Content-Length: 468

{
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;TrW58S&quot;,
  &quot;client_secret&quot; : &quot;secret&quot;,
  &quot;resource_ids&quot; : [ ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://test1.com&quot;, &quot;http://ant.path.wildcard/**/passback/*&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;cF8nUC&quot;,
  &quot;autoapprove&quot; : true,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;
}
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 517

{
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;TrW58S&quot;,
  &quot;resource_ids&quot; : [ &quot;none&quot; ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://ant.path.wildcard/**/passback/*&quot;, &quot;http://test1.com&quot; ],
  &quot;autoapprove&quot; : [ &quot;true&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;cF8nUC&quot;,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;lastModified&quot; : 1501286156928,
  &quot;required_user_groups&quot; : [ ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>clients.write</code>, <code>clients.admin</code> or <code>zones.{zone.id}.admin</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>authorized_grant_types</td>
<td>Array</td>
<td>Required</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>Array</td>
<td>Required</td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td>scope</td>
<td>Array</td>
<td>Optional (defaults to <code>&quot;uaa.none&quot;</code>)</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>resource_ids</td>
<td>Array</td>
<td>Optional (defaults to <code>[]</code>)</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>authorities</td>
<td>Array</td>
<td>Optional (defaults to <code>&quot;uaa.none&quot;</code>)</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>autoapprove</td>
<td>[Boolean, Array]</td>
<td>Optional (defaults to <code>[]</code>)</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>access_token_validity</td>
<td>Number</td>
<td>Optional</td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td>refresh_token_validity</td>
<td>Number</td>
<td>Optional</td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td>allowedproviders</td>
<td>Array</td>
<td>Optional</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Optional</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>token_salt</td>
<td>String</td>
<td>Optional</td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>createdwith</td>
<td>String</td>
<td>Optional</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>approvals_deleted</td>
<td>Boolean</td>
<td>Optional</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>required_user_groups</td>
<td>Array</td>
<td>Optional</td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
<tr>
<td>client_secret</td>
<td>String</td>
<td>Required if the client allows <code>authorization_code</code> or <code>client_credentials</code> grant type</td>
<td>A secret string used for authenticating as this client. To support secret rotation this can be space delimited string of two secrets.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>client_id</code></td>
<td><code>String</code></td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td><code>authorized_grant_types</code></td>
<td><code>Array</code></td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td><code>redirect_uri</code></td>
<td><code>Array</code></td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>Array</code></td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td><code>resource_ids</code></td>
<td><code>Array</code></td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td><code>authorities</code></td>
<td><code>Array</code></td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td><code>autoapprove</code></td>
<td><code>[Boolean, Array]</code></td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td><code>access_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td><code>refresh_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td><code>allowedproviders</code></td>
<td><code>Array</code></td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td><code>token_salt</code></td>
<td><code>String</code></td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td><code>createdwith</code></td>
<td><code>String</code></td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td><code>approvals_deleted</code></td>
<td><code>Boolean</code></td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td><code>required_user_groups</code></td>
<td><code>Array</code></td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
<tr>
<td><code>lastModified</code></td>
<td><code>Number</code></td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
</tbody></table>
<h2 id='retrieve-26680'>Retrieve</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/clients/GpGZ3b&#39; -i \
    -H &#39;Authorization: Bearer 1d31f71a294f4b84899484020a208d01&#39; \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">GET /oauth/clients/GpGZ3b HTTP/1.1
Authorization: Bearer 1d31f71a294f4b84899484020a208d01
Accept: application/json
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 517

{
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;GpGZ3b&quot;,
  &quot;resource_ids&quot; : [ &quot;none&quot; ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://ant.path.wildcard/**/passback/*&quot;, &quot;http://test1.com&quot; ],
  &quot;autoapprove&quot; : [ &quot;true&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;22nD2q&quot;,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;lastModified&quot; : 1501286157383,
  &quot;required_user_groups&quot; : [ ]
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/clients/{client_id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Client identifier, unique within identity zone</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>clients.read</code>, <code>clients.admin</code> or <code>zones.{zone.id}.admin</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>client_id</code></td>
<td><code>String</code></td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td><code>authorized_grant_types</code></td>
<td><code>Array</code></td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td><code>redirect_uri</code></td>
<td><code>Array</code></td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>Array</code></td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td><code>resource_ids</code></td>
<td><code>Array</code></td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td><code>authorities</code></td>
<td><code>Array</code></td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td><code>autoapprove</code></td>
<td><code>[Boolean, Array]</code></td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td><code>access_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td><code>refresh_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td><code>allowedproviders</code></td>
<td><code>Array</code></td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td><code>token_salt</code></td>
<td><code>String</code></td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td><code>createdwith</code></td>
<td><code>String</code></td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td><code>approvals_deleted</code></td>
<td><code>Boolean</code></td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td><code>required_user_groups</code></td>
<td><code>Array</code></td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
<tr>
<td><code>lastModified</code></td>
<td><code>Number</code></td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
</tbody></table>
<h2 id='update-66626'>Update</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/clients/gGzf8V&#39; -i -X PUT \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer d5989bc82ffd472a94bb135eb6191fa9&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;{
  &quot;scope&quot; : [ &quot;clients.new&quot;, &quot;clients.autoapprove&quot; ],
  &quot;client_id&quot; : &quot;gGzf8V&quot;,
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://redirect.url&quot; ],
  &quot;autoapprove&quot; : [ &quot;clients.autoapprove&quot; ]
}&#39;
</code></pre>

<pre><code class="http">PUT /oauth/clients/gGzf8V HTTP/1.1
Content-Type: application/json
Authorization: Bearer d5989bc82ffd472a94bb135eb6191fa9
Accept: application/json
Host: localhost
Content-Length: 228

{
  &quot;scope&quot; : [ &quot;clients.new&quot;, &quot;clients.autoapprove&quot; ],
  &quot;client_id&quot; : &quot;gGzf8V&quot;,
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://redirect.url&quot; ],
  &quot;autoapprove&quot; : [ &quot;clients.autoapprove&quot; ]
}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 498

{
  &quot;scope&quot; : [ &quot;clients.new&quot;, &quot;clients.autoapprove&quot; ],
  &quot;client_id&quot; : &quot;gGzf8V&quot;,
  &quot;resource_ids&quot; : [ &quot;none&quot; ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://redirect.url&quot; ],
  &quot;autoapprove&quot; : [ &quot;clients.autoapprove&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;axoqnY&quot;,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;lastModified&quot; : 1501286155520,
  &quot;required_user_groups&quot; : [ ]
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/clients/{client_id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Client identifier, unique within identity zone</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>clients.write</code>, <code>clients.admin</code> or <code>zones.{zone.id}.admin</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>authorized_grant_types</td>
<td>Array</td>
<td>Required</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>Array</td>
<td>Required</td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td>scope</td>
<td>Array</td>
<td>Optional (defaults to <code>&quot;uaa.none&quot;</code>)</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>resource_ids</td>
<td>Array</td>
<td>Optional (defaults to <code>[]</code>)</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>authorities</td>
<td>Array</td>
<td>Optional (defaults to <code>&quot;uaa.none&quot;</code>)</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>autoapprove</td>
<td>[Boolean, Array]</td>
<td>Optional (defaults to <code>[]</code>)</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>access_token_validity</td>
<td>Number</td>
<td>Optional</td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td>refresh_token_validity</td>
<td>Number</td>
<td>Optional</td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td>allowedproviders</td>
<td>Array</td>
<td>Optional</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Optional</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>token_salt</td>
<td>String</td>
<td>Optional</td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>createdwith</td>
<td>String</td>
<td>Optional</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>approvals_deleted</td>
<td>Boolean</td>
<td>Optional</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>required_user_groups</td>
<td>Array</td>
<td>Optional</td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>client_id</code></td>
<td><code>String</code></td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td><code>authorized_grant_types</code></td>
<td><code>Array</code></td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td><code>redirect_uri</code></td>
<td><code>Array</code></td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>Array</code></td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td><code>resource_ids</code></td>
<td><code>Array</code></td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td><code>authorities</code></td>
<td><code>Array</code></td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td><code>autoapprove</code></td>
<td><code>[Boolean, Array]</code></td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td><code>access_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td><code>refresh_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td><code>allowedproviders</code></td>
<td><code>Array</code></td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td><code>token_salt</code></td>
<td><code>String</code></td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td><code>createdwith</code></td>
<td><code>String</code></td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td><code>approvals_deleted</code></td>
<td><code>Boolean</code></td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td><code>required_user_groups</code></td>
<td><code>Array</code></td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
<tr>
<td><code>lastModified</code></td>
<td><code>Number</code></td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
</tbody></table>
<h2 id='delete-5930'>Delete</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/clients/ppytbR&#39; -i -X DELETE \
    -H &#39;Authorization: Bearer e17da583393343a8b099e4e806c6b583&#39; \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">DELETE /oauth/clients/ppytbR HTTP/1.1
Authorization: Bearer e17da583393343a8b099e4e806c6b583
Accept: application/json
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 517

{
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;ppytbR&quot;,
  &quot;resource_ids&quot; : [ &quot;none&quot; ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://ant.path.wildcard/**/passback/*&quot;, &quot;http://test1.com&quot; ],
  &quot;autoapprove&quot; : [ &quot;true&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;H3d5UG&quot;,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;lastModified&quot; : 1501286155647,
  &quot;required_user_groups&quot; : [ ]
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/clients/{client_id}</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Client identifier, unique within identity zone</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>clients.write</code>, <code>clients.admin</code> or <code>zones.{zone.id}.admin</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>client_id</code></td>
<td><code>String</code></td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td><code>authorized_grant_types</code></td>
<td><code>Array</code></td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td><code>redirect_uri</code></td>
<td><code>Array</code></td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>Array</code></td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td><code>resource_ids</code></td>
<td><code>Array</code></td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td><code>authorities</code></td>
<td><code>Array</code></td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td><code>autoapprove</code></td>
<td><code>[Boolean, Array]</code></td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td><code>access_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td><code>refresh_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td><code>allowedproviders</code></td>
<td><code>Array</code></td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td><code>token_salt</code></td>
<td><code>String</code></td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td><code>createdwith</code></td>
<td><code>String</code></td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td><code>approvals_deleted</code></td>
<td><code>Boolean</code></td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td><code>required_user_groups</code></td>
<td><code>Array</code></td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
<tr>
<td><code>lastModified</code></td>
<td><code>Number</code></td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
</tbody></table>
<h2 id='change-secret-91045'>Change Secret</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/clients/AXbR27/secret&#39; -i -X PUT \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 466b8151e7f74db687362b1bea364b64&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;{
  &quot;clientId&quot; : &quot;AXbR27&quot;,
  &quot;secret&quot; : &quot;new_secret&quot;
}&#39;
</code></pre>

<pre><code class="http">PUT /oauth/clients/AXbR27/secret HTTP/1.1
Content-Type: application/json
Authorization: Bearer 466b8151e7f74db687362b1bea364b64
Accept: application/json
Host: localhost
Content-Length: 54

{
  &quot;clientId&quot; : &quot;AXbR27&quot;,
  &quot;secret&quot; : &quot;new_secret&quot;
}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 53

{
  &quot;status&quot; : &quot;ok&quot;,
  &quot;message&quot; : &quot;secret updated&quot;
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/clients/{client_id}/secret</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Client identifier, unique within identity zone</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>clients.write</code>, <code>clients.admin</code> or <code>zones.{zone.id}.admin</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>clientId</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>oldSecret</td>
<td>String</td>
<td>Optional if authenticated as an admin client. Required otherwise.</td>
<td>A valid client secret before updating</td>
</tr>
<tr>
<td>secret</td>
<td>String</td>
<td>Required</td>
<td>The new client secret</td>
</tr>
<tr>
<td>changeMode</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;UPDATE&quot;</code>)</td>
<td>If change mode is set to <code>ADD</code>, the new <code>secret</code> will be added to the existing one and if the change mode is set to <code>DELETE</code>, the old secret will be deleted to support secret rotation. Currently only two client secrets are supported at any given time.</td>
</tr>
</tbody></table>
<h2 id='list-53360'>List</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/clients?filter=client_id+eq+%222XiS4U%22&amp;sortBy=client_id&amp;sortOrder=descending&amp;startIndex=1&amp;count=10&#39; -i \
    -H &#39;Authorization: Bearer 15aec621d29c4342869c0845bd23b9d2&#39; \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">GET /oauth/clients?filter=client_id+eq+%222XiS4U%22&amp;sortBy=client_id&amp;sortOrder=descending&amp;startIndex=1&amp;count=10 HTTP/1.1
Authorization: Bearer 15aec621d29c4342869c0845bd23b9d2
Accept: application/json
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 672

{
  &quot;resources&quot; : [ {
    &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
    &quot;client_id&quot; : &quot;2XiS4U&quot;,
    &quot;resource_ids&quot; : [ &quot;none&quot; ],
    &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
    &quot;redirect_uri&quot; : [ &quot;http://ant.path.wildcard/**/passback/*&quot;, &quot;http://test1.com&quot; ],
    &quot;autoapprove&quot; : [ &quot;true&quot; ],
    &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
    &quot;token_salt&quot; : &quot;m13OMm&quot;,
    &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
    &quot;name&quot; : &quot;My Client Name&quot;,
    &quot;lastModified&quot; : 1501286157196
  } ],
  &quot;startIndex&quot; : 1,
  &quot;itemsPerPage&quot; : 1,
  &quot;totalResults&quot; : 1,
  &quot;schemas&quot; : [ &quot;http://cloudfoundry.org/schema/scim/oauth-clients-1.0&quot; ]
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>clients.read</code>, <code>clients.admin</code> or <code>zones.{zone.id}.admin</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>filter</td>
<td>String</td>
<td>Optional (defaults to <code>client_id pr</code>)</td>
<td>SCIM filter for querying clients</td>
</tr>
<tr>
<td>sortBy</td>
<td>String</td>
<td>Optional (defaults to <code>client_id</code>)</td>
<td>Field to sort results by</td>
</tr>
<tr>
<td>sortOrder</td>
<td>String</td>
<td>Optional (defaults to <code>ascending</code>)</td>
<td>Sort results in <code>ascending</code> or <code>descending</code> order</td>
</tr>
<tr>
<td>startIndex</td>
<td>Number</td>
<td>Optional (defaults to <code>1</code>)</td>
<td>Index of the first result on which to begin the page</td>
</tr>
<tr>
<td>count</td>
<td>Number</td>
<td>Optional (defaults to <code>100</code>)</td>
<td>Number of results per page</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>resources[].client_id</code></td>
<td><code>String</code></td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td><code>resources[].authorized_grant_types</code></td>
<td><code>Array</code></td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td><code>resources[].redirect_uri</code></td>
<td><code>Array</code></td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td><code>resources[].scope</code></td>
<td><code>Array</code></td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td><code>resources[].resource_ids</code></td>
<td><code>Array</code></td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td><code>resources[].authorities</code></td>
<td><code>Array</code></td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td><code>resources[].autoapprove</code></td>
<td><code>[Boolean, Array]</code></td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td><code>resources[].access_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td><code>resources[].refresh_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td><code>resources[].allowedproviders</code></td>
<td><code>Array</code></td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td><code>resources[].name</code></td>
<td><code>String</code></td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td><code>resources[].token_salt</code></td>
<td><code>String</code></td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td><code>resources[].createdwith</code></td>
<td><code>String</code></td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td><code>resources[].approvals_deleted</code></td>
<td><code>Boolean</code></td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td><code>resources[].required_user_groups</code></td>
<td><code>Array</code></td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
<tr>
<td><code>resources[].lastModified</code></td>
<td><code>Number</code></td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
<tr>
<td><code>startIndex</code></td>
<td><code>Number</code></td>
<td>Index of the first result on this page</td>
</tr>
<tr>
<td><code>itemsPerPage</code></td>
<td><code>Number</code></td>
<td>Number of results per page</td>
</tr>
<tr>
<td><code>totalResults</code></td>
<td><code>Number</code></td>
<td>Total number of results that matched the query</td>
</tr>
<tr>
<td><code>schemas</code></td>
<td><code>Array</code></td>
<td><code>[&quot;urn:scim:schemas:core:1.0&quot;]</code></td>
</tr>
</tbody></table>
<h2 id='batch-create-70155'>Batch Create</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/clients/tx&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 33995c2ceaa942048bef2cff71ec51e3&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;[ {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;vDna4T&quot;,
  &quot;client_secret&quot; : &quot;secret&quot;,
  &quot;resource_ids&quot; : [ ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://test1.com&quot;, &quot;http://ant.path.wildcard/**/passback/*&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;8KgkVZ&quot;,
  &quot;autoapprove&quot; : true,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;
}, {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;mF1CxM&quot;,
  &quot;client_secret&quot; : &quot;secret&quot;,
  &quot;resource_ids&quot; : [ ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://test1.com&quot;, &quot;http://ant.path.wildcard/**/passback/*&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;2ofFQd&quot;,
  &quot;autoapprove&quot; : true,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;
} ]&#39;
</code></pre>

<pre><code class="http">POST /oauth/clients/tx HTTP/1.1
Content-Type: application/json
Authorization: Bearer 33995c2ceaa942048bef2cff71ec51e3
Accept: application/json
Host: localhost
Content-Length: 942

[ {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;vDna4T&quot;,
  &quot;client_secret&quot; : &quot;secret&quot;,
  &quot;resource_ids&quot; : [ ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://test1.com&quot;, &quot;http://ant.path.wildcard/**/passback/*&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;8KgkVZ&quot;,
  &quot;autoapprove&quot; : true,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;
}, {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;mF1CxM&quot;,
  &quot;client_secret&quot; : &quot;secret&quot;,
  &quot;resource_ids&quot; : [ ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://test1.com&quot;, &quot;http://ant.path.wildcard/**/passback/*&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;2ofFQd&quot;,
  &quot;autoapprove&quot; : true,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;
} ]
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 1040

[ {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;vDna4T&quot;,
  &quot;resource_ids&quot; : [ &quot;none&quot; ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://ant.path.wildcard/**/passback/*&quot;, &quot;http://test1.com&quot; ],
  &quot;autoapprove&quot; : [ &quot;true&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;8KgkVZ&quot;,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;lastModified&quot; : 1501286155902,
  &quot;required_user_groups&quot; : [ ]
}, {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;mF1CxM&quot;,
  &quot;resource_ids&quot; : [ &quot;none&quot; ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://ant.path.wildcard/**/passback/*&quot;, &quot;http://test1.com&quot; ],
  &quot;autoapprove&quot; : [ &quot;true&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;2ofFQd&quot;,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;lastModified&quot; : 1501286155995,
  &quot;required_user_groups&quot; : [ ]
} ]
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>clients.write</code>, <code>clients.admin</code> or <code>zones.{zone.id}.admin</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].client_id</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>[].authorized_grant_types</td>
<td>Array</td>
<td>Required</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td>[].redirect_uri</td>
<td>Array</td>
<td>Required</td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td>[].scope</td>
<td>Array</td>
<td>Optional (defaults to <code>&quot;uaa.none&quot;</code>)</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>[].resource_ids</td>
<td>Array</td>
<td>Optional (defaults to <code>[]</code>)</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>[].authorities</td>
<td>Array</td>
<td>Optional (defaults to <code>&quot;uaa.none&quot;</code>)</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>[].autoapprove</td>
<td>[Boolean, Array]</td>
<td>Optional (defaults to <code>[]</code>)</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>[].access_token_validity</td>
<td>Number</td>
<td>Optional</td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td>[].refresh_token_validity</td>
<td>Number</td>
<td>Optional</td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td>[].allowedproviders</td>
<td>Array</td>
<td>Optional</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>[].name</td>
<td>String</td>
<td>Optional</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>[].token_salt</td>
<td>String</td>
<td>Optional</td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>[].createdwith</td>
<td>String</td>
<td>Optional</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>[].approvals_deleted</td>
<td>Boolean</td>
<td>Optional</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>[].required_user_groups</td>
<td>Array</td>
<td>Optional</td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
<tr>
<td>[].client_secret</td>
<td>String</td>
<td>Required if the client allows <code>authorization_code</code> or <code>client_credentials</code> grant type</td>
<td>A secret string used for authenticating as this client. To support secret rotation this can be space delimited string of two secrets.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>[].client_id</code></td>
<td><code>String</code></td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td><code>[].authorized_grant_types</code></td>
<td><code>Array</code></td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td><code>[].redirect_uri</code></td>
<td><code>Array</code></td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td><code>[].scope</code></td>
<td><code>Array</code></td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td><code>[].resource_ids</code></td>
<td><code>Array</code></td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td><code>[].authorities</code></td>
<td><code>Array</code></td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td><code>[].autoapprove</code></td>
<td><code>[Boolean, Array]</code></td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td><code>[].access_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td><code>[].refresh_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td><code>[].allowedproviders</code></td>
<td><code>Array</code></td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td><code>[].name</code></td>
<td><code>String</code></td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td><code>[].token_salt</code></td>
<td><code>String</code></td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td><code>[].createdwith</code></td>
<td><code>String</code></td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td><code>[].approvals_deleted</code></td>
<td><code>Boolean</code></td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td><code>[].required_user_groups</code></td>
<td><code>Array</code></td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
<tr>
<td><code>[].lastModified</code></td>
<td><code>Number</code></td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
</tbody></table>
<h2 id='batch-update-71165'>Batch Update</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/clients/tx&#39; -i -X PUT \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 33995c2ceaa942048bef2cff71ec51e3&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;[ {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;vDna4T&quot;,
  &quot;resource_ids&quot; : [ ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://test1.com&quot;, &quot;http://ant.path.wildcard/**/passback/*&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;8KgkVZ&quot;,
  &quot;autoapprove&quot; : true,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;
}, {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;mF1CxM&quot;,
  &quot;resource_ids&quot; : [ ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://test1.com&quot;, &quot;http://ant.path.wildcard/**/passback/*&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;new.authority&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;2ofFQd&quot;,
  &quot;autoapprove&quot; : true,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;
} ]&#39;
</code></pre>

<pre><code class="http">PUT /oauth/clients/tx HTTP/1.1
Content-Type: application/json
Authorization: Bearer 33995c2ceaa942048bef2cff71ec51e3
Accept: application/json
Host: localhost
Content-Length: 899

[ {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;vDna4T&quot;,
  &quot;resource_ids&quot; : [ ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://test1.com&quot;, &quot;http://ant.path.wildcard/**/passback/*&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;8KgkVZ&quot;,
  &quot;autoapprove&quot; : true,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;
}, {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;mF1CxM&quot;,
  &quot;resource_ids&quot; : [ ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://test1.com&quot;, &quot;http://ant.path.wildcard/**/passback/*&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;new.authority&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;2ofFQd&quot;,
  &quot;autoapprove&quot; : true,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;
} ]
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 1057

[ {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;vDna4T&quot;,
  &quot;resource_ids&quot; : [ &quot;none&quot; ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://ant.path.wildcard/**/passback/*&quot;, &quot;http://test1.com&quot; ],
  &quot;autoapprove&quot; : [ &quot;true&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;8KgkVZ&quot;,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;lastModified&quot; : 1501286155902,
  &quot;required_user_groups&quot; : [ ]
}, {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;mF1CxM&quot;,
  &quot;resource_ids&quot; : [ &quot;none&quot; ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://ant.path.wildcard/**/passback/*&quot;, &quot;http://test1.com&quot; ],
  &quot;autoapprove&quot; : [ &quot;true&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;new.authority&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;2ofFQd&quot;,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;lastModified&quot; : 1501286155995,
  &quot;required_user_groups&quot; : [ ]
} ]
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>clients.write</code>, <code>clients.admin</code> or <code>zones.{zone.id}.admin</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].client_id</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>[].authorized_grant_types</td>
<td>Array</td>
<td>Required</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td>[].redirect_uri</td>
<td>Array</td>
<td>Required</td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td>[].scope</td>
<td>Array</td>
<td>Optional (defaults to <code>&quot;uaa.none&quot;</code>)</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>[].resource_ids</td>
<td>Array</td>
<td>Optional (defaults to <code>[]</code>)</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>[].authorities</td>
<td>Array</td>
<td>Optional (defaults to <code>&quot;uaa.none&quot;</code>)</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>[].autoapprove</td>
<td>[Boolean, Array]</td>
<td>Optional (defaults to <code>[]</code>)</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>[].access_token_validity</td>
<td>Number</td>
<td>Optional</td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td>[].refresh_token_validity</td>
<td>Number</td>
<td>Optional</td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td>[].allowedproviders</td>
<td>Array</td>
<td>Optional</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>[].name</td>
<td>String</td>
<td>Optional</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>[].token_salt</td>
<td>String</td>
<td>Optional</td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>[].createdwith</td>
<td>String</td>
<td>Optional</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>[].approvals_deleted</td>
<td>Boolean</td>
<td>Optional</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>[].required_user_groups</td>
<td>Array</td>
<td>Optional</td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>[].client_id</code></td>
<td><code>String</code></td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td><code>[].authorized_grant_types</code></td>
<td><code>Array</code></td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td><code>[].redirect_uri</code></td>
<td><code>Array</code></td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td><code>[].scope</code></td>
<td><code>Array</code></td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td><code>[].resource_ids</code></td>
<td><code>Array</code></td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td><code>[].authorities</code></td>
<td><code>Array</code></td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td><code>[].autoapprove</code></td>
<td><code>[Boolean, Array]</code></td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td><code>[].access_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td><code>[].refresh_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td><code>[].allowedproviders</code></td>
<td><code>Array</code></td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td><code>[].name</code></td>
<td><code>String</code></td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td><code>[].token_salt</code></td>
<td><code>String</code></td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td><code>[].createdwith</code></td>
<td><code>String</code></td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td><code>[].approvals_deleted</code></td>
<td><code>Boolean</code></td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td><code>[].required_user_groups</code></td>
<td><code>Array</code></td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
<tr>
<td><code>[].lastModified</code></td>
<td><code>Number</code></td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
</tbody></table>
<h2 id='batch-secret-change-34188'>Batch Secret Change</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/clients/tx/secret&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 33995c2ceaa942048bef2cff71ec51e3&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;[ {
  &quot;clientId&quot; : &quot;vDna4T&quot;,
  &quot;secret&quot; : &quot;new_secret&quot;
}, {
  &quot;clientId&quot; : &quot;mF1CxM&quot;,
  &quot;secret&quot; : &quot;new_secret&quot;
} ]&#39;
</code></pre>

<pre><code class="http">POST /oauth/clients/tx/secret HTTP/1.1
Content-Type: application/json
Authorization: Bearer 33995c2ceaa942048bef2cff71ec51e3
Accept: application/json
Host: localhost
Content-Length: 114

[ {
  &quot;clientId&quot; : &quot;vDna4T&quot;,
  &quot;secret&quot; : &quot;new_secret&quot;
}, {
  &quot;clientId&quot; : &quot;mF1CxM&quot;,
  &quot;secret&quot; : &quot;new_secret&quot;
} ]
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 1117

[ {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;vDna4T&quot;,
  &quot;resource_ids&quot; : [ &quot;none&quot; ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://ant.path.wildcard/**/passback/*&quot;, &quot;http://test1.com&quot; ],
  &quot;autoapprove&quot; : [ &quot;true&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;8KgkVZ&quot;,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;lastModified&quot; : 1501286156162,
  &quot;required_user_groups&quot; : [ ],
  &quot;approvals_deleted&quot; : true
}, {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;mF1CxM&quot;,
  &quot;resource_ids&quot; : [ &quot;none&quot; ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://ant.path.wildcard/**/passback/*&quot;, &quot;http://test1.com&quot; ],
  &quot;autoapprove&quot; : [ &quot;true&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;new.authority&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;2ofFQd&quot;,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;lastModified&quot; : 1501286156163,
  &quot;required_user_groups&quot; : [ ],
  &quot;approvals_deleted&quot; : true
} ]
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>clients.write</code>, <code>clients.admin</code> or <code>zones.{zone.id}.admin</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].clientId</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>[].oldSecret</td>
<td>String</td>
<td>Optional if authenticated as an admin client. Required otherwise.</td>
<td>A valid client secret before updating</td>
</tr>
<tr>
<td>[].secret</td>
<td>String</td>
<td>Required</td>
<td>The new client secret</td>
</tr>
<tr>
<td>[].changeMode</td>
<td>String</td>
<td>Optional (defaults to <code>&quot;UPDATE&quot;</code>)</td>
<td>If change mode is set to <code>ADD</code>, the new <code>secret</code> will be added to the existing one and if the change mode is set to <code>DELETE</code>, the old secret will be deleted to support secret rotation. Currently only two client secrets are supported at any given time.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>[].client_id</code></td>
<td><code>String</code></td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td><code>[].authorized_grant_types</code></td>
<td><code>Array</code></td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td><code>[].redirect_uri</code></td>
<td><code>Array</code></td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td><code>[].scope</code></td>
<td><code>Array</code></td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td><code>[].resource_ids</code></td>
<td><code>Array</code></td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td><code>[].authorities</code></td>
<td><code>Array</code></td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td><code>[].autoapprove</code></td>
<td><code>[Boolean, Array]</code></td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td><code>[].access_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td><code>[].refresh_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td><code>[].allowedproviders</code></td>
<td><code>Array</code></td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td><code>[].name</code></td>
<td><code>String</code></td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td><code>[].token_salt</code></td>
<td><code>String</code></td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td><code>[].createdwith</code></td>
<td><code>String</code></td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td><code>[].approvals_deleted</code></td>
<td><code>Boolean</code></td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td><code>[].required_user_groups</code></td>
<td><code>Array</code></td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
<tr>
<td><code>[].lastModified</code></td>
<td><code>Number</code></td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
<tr>
<td><code>[].approvals_deleted</code></td>
<td><code>Boolean</code></td>
<td>Indicates whether the approvals associated with the client were deleted as a result of this action</td>
</tr>
</tbody></table>
<h2 id='mixed-actions-46418'>Mixed Actions</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/clients/tx/modify&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 33995c2ceaa942048bef2cff71ec51e3&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;[ {
  &quot;action&quot; : &quot;secret&quot;,
  &quot;client_secret&quot; : &quot;new_secret&quot;,
  &quot;client_id&quot; : &quot;vDna4T&quot;
}, {
  &quot;action&quot; : &quot;delete&quot;,
  &quot;client_id&quot; : &quot;mF1CxM&quot;
}, {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;5vChsL&quot;,
  &quot;client_secret&quot; : &quot;secret&quot;,
  &quot;resource_ids&quot; : [ ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://test1.com&quot;, &quot;http://ant.path.wildcard/**/passback/*&quot; ],
  &quot;action&quot; : &quot;add&quot;,
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;T8rffc&quot;,
  &quot;autoapprove&quot; : true,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;approvals_deleted&quot; : false
} ]&#39;
</code></pre>

<pre><code class="http">POST /oauth/clients/tx/modify HTTP/1.1
Content-Type: application/json
Authorization: Bearer 33995c2ceaa942048bef2cff71ec51e3
Accept: application/json
Host: localhost
Content-Length: 663

[ {
  &quot;action&quot; : &quot;secret&quot;,
  &quot;client_secret&quot; : &quot;new_secret&quot;,
  &quot;client_id&quot; : &quot;vDna4T&quot;
}, {
  &quot;action&quot; : &quot;delete&quot;,
  &quot;client_id&quot; : &quot;mF1CxM&quot;
}, {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;5vChsL&quot;,
  &quot;client_secret&quot; : &quot;secret&quot;,
  &quot;resource_ids&quot; : [ ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://test1.com&quot;, &quot;http://ant.path.wildcard/**/passback/*&quot; ],
  &quot;action&quot; : &quot;add&quot;,
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;T8rffc&quot;,
  &quot;autoapprove&quot; : true,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;approvals_deleted&quot; : false
} ]
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 1343

[ {
  &quot;scope&quot; : [ ],
  &quot;client_id&quot; : &quot;vDna4T&quot;,
  &quot;resource_ids&quot; : [ ],
  &quot;authorized_grant_types&quot; : [ ],
  &quot;action&quot; : &quot;secret&quot;,
  &quot;authorities&quot; : [ ],
  &quot;approvals_deleted&quot; : false
}, {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;mF1CxM&quot;,
  &quot;resource_ids&quot; : [ &quot;none&quot; ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://ant.path.wildcard/**/passback/*&quot;, &quot;http://test1.com&quot; ],
  &quot;autoapprove&quot; : [ &quot;true&quot; ],
  &quot;action&quot; : &quot;delete&quot;,
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;new.authority&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;2ofFQd&quot;,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;lastModified&quot; : 1501286156163,
  &quot;required_user_groups&quot; : [ ],
  &quot;approvals_deleted&quot; : true
}, {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;5vChsL&quot;,
  &quot;resource_ids&quot; : [ &quot;none&quot; ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://ant.path.wildcard/**/passback/*&quot;, &quot;http://test1.com&quot; ],
  &quot;autoapprove&quot; : [ &quot;true&quot; ],
  &quot;action&quot; : &quot;add&quot;,
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;T8rffc&quot;,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;approvals_deleted&quot; : false,
  &quot;lastModified&quot; : 1501286156644,
  &quot;required_user_groups&quot; : [ ]
} ]
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>clients.write</code>, <code>clients.admin</code> or <code>zones.{zone.id}.admin</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].client_id</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td>[].authorized_grant_types</td>
<td>Array</td>
<td>Required</td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td>[].redirect_uri</td>
<td>Array</td>
<td>Required</td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td>[].scope</td>
<td>Array</td>
<td>Optional (defaults to <code>&quot;uaa.none&quot;</code>)</td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td>[].resource_ids</td>
<td>Array</td>
<td>Optional (defaults to <code>[]</code>)</td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td>[].authorities</td>
<td>Array</td>
<td>Optional (defaults to <code>&quot;uaa.none&quot;</code>)</td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td>[].autoapprove</td>
<td>[Boolean, Array]</td>
<td>Optional (defaults to <code>[]</code>)</td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td>[].access_token_validity</td>
<td>Number</td>
<td>Optional</td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td>[].refresh_token_validity</td>
<td>Number</td>
<td>Optional</td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td>[].allowedproviders</td>
<td>Array</td>
<td>Optional</td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td>[].name</td>
<td>String</td>
<td>Optional</td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td>[].token_salt</td>
<td>String</td>
<td>Optional</td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td>[].createdwith</td>
<td>String</td>
<td>Optional</td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td>[].approvals_deleted</td>
<td>Boolean</td>
<td>Optional</td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td>[].required_user_groups</td>
<td>Array</td>
<td>Optional</td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
<tr>
<td>[].client_secret</td>
<td>String</td>
<td>Required if the client allows <code>authorization_code</code> or <code>client_credentials</code> grant type</td>
<td>A secret string used for authenticating as this client. To support secret rotation this can be space delimited string of two secrets.</td>
</tr>
<tr>
<td>[].action</td>
<td>String</td>
<td>Always required.</td>
<td>Set to <code>secret</code> to change client secret, <code>delete</code> to delete the client or <code>add</code> to add the client</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>[].client_id</code></td>
<td><code>String</code></td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td><code>[].authorized_grant_types</code></td>
<td><code>Array</code></td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td><code>[].redirect_uri</code></td>
<td><code>Array</code></td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td><code>[].scope</code></td>
<td><code>Array</code></td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td><code>[].resource_ids</code></td>
<td><code>Array</code></td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td><code>[].authorities</code></td>
<td><code>Array</code></td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td><code>[].autoapprove</code></td>
<td><code>[Boolean, Array]</code></td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td><code>[].access_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td><code>[].refresh_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td><code>[].allowedproviders</code></td>
<td><code>Array</code></td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td><code>[].name</code></td>
<td><code>String</code></td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td><code>[].token_salt</code></td>
<td><code>String</code></td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td><code>[].createdwith</code></td>
<td><code>String</code></td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td><code>[].approvals_deleted</code></td>
<td><code>Boolean</code></td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td><code>[].required_user_groups</code></td>
<td><code>Array</code></td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
<tr>
<td><code>[].lastModified</code></td>
<td><code>Number</code></td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
<tr>
<td><code>[].action</code></td>
<td><code>String</code></td>
<td>Set to <code>secret</code> to change client secret, <code>delete</code> to delete the client or <code>add</code> to add the client</td>
</tr>
</tbody></table>
<h2 id='batch-delete-90224'>Batch Delete</h2>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/clients/tx/delete&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer 33995c2ceaa942048bef2cff71ec51e3&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;[ {
  &quot;client_id&quot; : &quot;vDna4T&quot;
}, {
  &quot;client_id&quot; : &quot;5vChsL&quot;
} ]&#39;
</code></pre>

<pre><code class="http">POST /oauth/clients/tx/delete HTTP/1.1
Content-Type: application/json
Authorization: Bearer 33995c2ceaa942048bef2cff71ec51e3
Accept: application/json
Host: localhost
Content-Length: 62

[ {
  &quot;client_id&quot; : &quot;vDna4T&quot;
}, {
  &quot;client_id&quot; : &quot;5vChsL&quot;
} ]
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 1100

[ {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;vDna4T&quot;,
  &quot;resource_ids&quot; : [ &quot;none&quot; ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://ant.path.wildcard/**/passback/*&quot;, &quot;http://test1.com&quot; ],
  &quot;autoapprove&quot; : [ &quot;true&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;8KgkVZ&quot;,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;lastModified&quot; : 1501286156162,
  &quot;required_user_groups&quot; : [ ],
  &quot;approvals_deleted&quot; : true
}, {
  &quot;scope&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;client_id&quot; : &quot;5vChsL&quot;,
  &quot;resource_ids&quot; : [ &quot;none&quot; ],
  &quot;authorized_grant_types&quot; : [ &quot;client_credentials&quot; ],
  &quot;redirect_uri&quot; : [ &quot;http://ant.path.wildcard/**/passback/*&quot;, &quot;http://test1.com&quot; ],
  &quot;autoapprove&quot; : [ &quot;true&quot; ],
  &quot;authorities&quot; : [ &quot;clients.read&quot;, &quot;clients.write&quot; ],
  &quot;token_salt&quot; : &quot;T8rffc&quot;,
  &quot;allowedproviders&quot; : [ &quot;uaa&quot;, &quot;ldap&quot;, &quot;my-saml-provider&quot; ],
  &quot;name&quot; : &quot;My Client Name&quot;,
  &quot;approvals_deleted&quot; : true,
  &quot;lastModified&quot; : 1501286156644,
  &quot;required_user_groups&quot; : [ ]
} ]
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>clients.write</code>, <code>clients.admin</code> or <code>zones.{zone.id}.admin</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>[].client_id</td>
<td>String</td>
<td>Required</td>
<td>Client identifier, unique within identity zone</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>[].client_id</code></td>
<td><code>String</code></td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td><code>[].authorized_grant_types</code></td>
<td><code>Array</code></td>
<td>List of grant types that can be used to obtain a token with this client. Can include <code>authorization_code</code>, <code>password</code>, <code>implicit</code>, and/or <code>client_credentials</code>.</td>
</tr>
<tr>
<td><code>[].redirect_uri</code></td>
<td><code>Array</code></td>
<td>Allowed URI pattern for redirect during authorization. Wildcard patterns can be specified using the Ant-style pattern. Null/Empty value is forbidden.</td>
</tr>
<tr>
<td><code>[].scope</code></td>
<td><code>Array</code></td>
<td>Scopes allowed for the client</td>
</tr>
<tr>
<td><code>[].resource_ids</code></td>
<td><code>Array</code></td>
<td>Resources the client is allowed access to</td>
</tr>
<tr>
<td><code>[].authorities</code></td>
<td><code>Array</code></td>
<td>Scopes which the client is able to grant when creating a client</td>
</tr>
<tr>
<td><code>[].autoapprove</code></td>
<td><code>[Boolean, Array]</code></td>
<td>Scopes that do not require user approval</td>
</tr>
<tr>
<td><code>[].access_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to access token expiration after it is issued</td>
</tr>
<tr>
<td><code>[].refresh_token_validity</code></td>
<td><code>Number</code></td>
<td>time in seconds to refresh token expiration after it is issued</td>
</tr>
<tr>
<td><code>[].allowedproviders</code></td>
<td><code>Array</code></td>
<td>A list of origin keys (alias) for identity providers the client is limited to. Null implies any identity provider is allowed.</td>
</tr>
<tr>
<td><code>[].name</code></td>
<td><code>String</code></td>
<td>A human readable name for the client</td>
</tr>
<tr>
<td><code>[].token_salt</code></td>
<td><code>String</code></td>
<td>A random string used to generate the client&#39;s revokation key. Change this value to revoke all active tokens for the client</td>
</tr>
<tr>
<td><code>[].createdwith</code></td>
<td><code>String</code></td>
<td>What scope the bearer token had when client was created</td>
</tr>
<tr>
<td><code>[].approvals_deleted</code></td>
<td><code>Boolean</code></td>
<td>Were the approvals deleted for the client, and an audit event sent</td>
</tr>
<tr>
<td><code>[].required_user_groups</code></td>
<td><code>Array</code></td>
<td>A list of group names. If a user doesn&#39;t belong to all the required groups, the user will not be authenticated and no tokens will be issued to this client for that user. If this field is not set, authentication and token issuance will proceed normally.</td>
</tr>
<tr>
<td><code>[].lastModified</code></td>
<td><code>Number</code></td>
<td>Epoch of the moment the client information was last altered</td>
</tr>
<tr>
<td><code>[].approvals_deleted</code></td>
<td><code>Boolean</code></td>
<td>Indicates whether the approvals associated with the client were deleted as a result of this action</td>
</tr>
</tbody></table>
<h2 id='metadata-77844'>Metadata</h2><h3 id='retrieve-61718'>Retrieve</h3>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/clients/vknMAO1r/meta&#39; -i \
    -H &#39;Authorization: Bearer 7e8c2390418548ca902572ddbda1645c&#39; \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">GET /oauth/clients/vknMAO1r/meta HTTP/1.1
Authorization: Bearer 7e8c2390418548ca902572ddbda1645c
Accept: application/json
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 199

{
  &quot;clientId&quot; : &quot;vknMAO1r&quot;,
  &quot;showOnHomePage&quot; : true,
  &quot;appLaunchUrl&quot; : &quot;http://myloginpage.com&quot;,
  &quot;appIcon&quot; : &quot;aWNvbiBmb3IgY2xpZW50IDQ=&quot;,
  &quot;createdBy&quot; : &quot;3ec59911-a07b-4580-8d1f-f03ef7a52f62&quot;
}
</code></pre>

<p><em>Path Parameters</em></p>

<p>/oauth/clients/{clientId}/meta</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>clientId</td>
<td>Client identifier, unique within identity zone</td>
</tr>
</tbody></table>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>clientId</code></td>
<td><code>String</code></td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td><code>showOnHomePage</code></td>
<td><code>Boolean</code></td>
<td>Flag to control visibility on home page</td>
</tr>
<tr>
<td><code>appLaunchUrl</code></td>
<td><code>String</code></td>
<td>URL to which the app is linked to</td>
</tr>
<tr>
<td><code>appIcon</code></td>
<td><code>String</code></td>
<td>Base64 encoded image file</td>
</tr>
<tr>
<td><code>createdBy</code></td>
<td><code>String</code></td>
<td>The user guid of the resource owner who created this client</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Not Found - clientId doesn&#39;t exists</td>
</tr>
</tbody></table>
<h3 id='list-60723'>List</h3>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/clients/meta&#39; -i \
    -H &#39;Authorization: Bearer 2bef423c291c4a61aa665b15e7ce48e9&#39; \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">GET /oauth/clients/meta HTTP/1.1
Authorization: Bearer 2bef423c291c4a61aa665b15e7ce48e9
Accept: application/json
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 1836

[ {
  &quot;clientId&quot; : &quot;0d6Cx2a2&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appLaunchUrl&quot; : &quot;http://changed.app.launch/url&quot;,
  &quot;appIcon&quot; : &quot;&quot;,
  &quot;createdBy&quot; : &quot;3ec59911-a07b-4580-8d1f-f03ef7a52f62&quot;
}, {
  &quot;clientId&quot; : &quot;KNzvJR58&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appLaunchUrl&quot; : &quot;http://client4.com/app&quot;,
  &quot;appIcon&quot; : &quot;aWNvbiBmb3IgY2xpZW50IDQ=&quot;
}, {
  &quot;clientId&quot; : &quot;admin&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appIcon&quot; : &quot;&quot;
}, {
  &quot;clientId&quot; : &quot;app&quot;,
  &quot;clientName&quot; : &quot;The Ultimate Oauth App&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appIcon&quot; : &quot;&quot;
}, {
  &quot;clientId&quot; : &quot;cf&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appIcon&quot; : &quot;&quot;
}, {
  &quot;clientId&quot; : &quot;dashboard&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appIcon&quot; : &quot;&quot;
}, {
  &quot;clientId&quot; : &quot;identity&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appIcon&quot; : &quot;&quot;
}, {
  &quot;clientId&quot; : &quot;jo6fAQr6&quot;,
  &quot;showOnHomePage&quot; : true,
  &quot;appLaunchUrl&quot; : &quot;http://client3.com/app&quot;,
  &quot;appIcon&quot; : &quot;Y2xpZW50IDMgaWNvbg==&quot;
}, {
  &quot;clientId&quot; : &quot;login&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appIcon&quot; : &quot;&quot;
}, {
  &quot;clientId&quot; : &quot;mzUgNQ8q&quot;,
  &quot;showOnHomePage&quot; : true,
  &quot;appLaunchUrl&quot; : &quot;http://myloginpage.com&quot;,
  &quot;appIcon&quot; : &quot;aWNvbiBmb3IgY2xpZW50IDQ=&quot;,
  &quot;createdBy&quot; : &quot;3ec59911-a07b-4580-8d1f-f03ef7a52f62&quot;
}, {
  &quot;clientId&quot; : &quot;notifications&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appIcon&quot; : &quot;&quot;
}, {
  &quot;clientId&quot; : &quot;oauth_showcase_authorization_code&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appIcon&quot; : &quot;&quot;
}, {
  &quot;clientId&quot; : &quot;oauth_showcase_client_credentials&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appIcon&quot; : &quot;&quot;
}, {
  &quot;clientId&quot; : &quot;oauth_showcase_implicit_grant&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appIcon&quot; : &quot;&quot;
}, {
  &quot;clientId&quot; : &quot;oauth_showcase_password_grant&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appIcon&quot; : &quot;&quot;
}, {
  &quot;clientId&quot; : &quot;oauth_showcase_saml2_bearer&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appIcon&quot; : &quot;&quot;
}, {
  &quot;clientId&quot; : &quot;oauth_showcase_user_token&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appIcon&quot; : &quot;&quot;
} ]
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>[].clientId</code></td>
<td><code>String</code></td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td><code>[].clientName</code></td>
<td><code>String</code></td>
<td>Human readable display name for the client</td>
</tr>
<tr>
<td><code>[].showOnHomePage</code></td>
<td><code>Boolean</code></td>
<td>Flag to control visibility on home page</td>
</tr>
<tr>
<td><code>[].appLaunchUrl</code></td>
<td><code>String</code></td>
<td>URL to which the app is linked to</td>
</tr>
<tr>
<td><code>[].appIcon</code></td>
<td><code>String</code></td>
<td>Base64 encoded image file</td>
</tr>
<tr>
<td><code>[].createdBy</code></td>
<td><code>String</code></td>
<td>The user guid of the resource owner who created this client</td>
</tr>
</tbody></table>
<h3 id='update-32160'>Update</h3>
<pre><code class="bash">$ curl &#39;http://localhost/oauth/clients/0d6Cx2a2/meta&#39; -i -X PUT \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer c610eaada01c4e2395a997e4dde5540a&#39; \
    -H &#39;If-Match: 0&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;{&quot;clientId&quot;:&quot;0d6Cx2a2&quot;,&quot;showOnHomePage&quot;:false,&quot;appLaunchUrl&quot;:&quot;http://changed.app.launch/url&quot;}&#39;
</code></pre>

<pre><code class="http">PUT /oauth/clients/0d6Cx2a2/meta HTTP/1.1
Content-Type: application/json
Authorization: Bearer c610eaada01c4e2395a997e4dde5540a
If-Match: 0
Accept: application/json
Host: localhost
Content-Length: 93

{&quot;clientId&quot;:&quot;0d6Cx2a2&quot;,&quot;showOnHomePage&quot;:false,&quot;appLaunchUrl&quot;:&quot;http://changed.app.launch/url&quot;}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 183

{
  &quot;clientId&quot; : &quot;0d6Cx2a2&quot;,
  &quot;showOnHomePage&quot; : false,
  &quot;appLaunchUrl&quot; : &quot;http://changed.app.launch/url&quot;,
  &quot;appIcon&quot; : &quot;&quot;,
  &quot;createdBy&quot; : &quot;3ec59911-a07b-4580-8d1f-f03ef7a52f62&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token containing <code>clients.read</code>, <code>clients.admin</code> or <code>zones.{zone.id}.admin</code></td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>May include this header to administer another zone if using <code>zones.&lt;zone.id&gt;.admin</code> or <code>uaa.admin</code> scope against the default UAA zone.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>clientId</code></td>
<td><code>String</code></td>
<td>Client identifier, unique within identity zone</td>
</tr>
<tr>
<td><code>showOnHomePage</code></td>
<td><code>Boolean</code></td>
<td>Flag to control visibility on home page</td>
</tr>
<tr>
<td><code>appLaunchUrl</code></td>
<td><code>String</code></td>
<td>URL to which the app is linked to</td>
</tr>
<tr>
<td><code>appIcon</code></td>
<td><code>String</code></td>
<td>Base64 encoded image file</td>
</tr>
<tr>
<td><code>createdBy</code></td>
<td><code>String</code></td>
<td>The user guid of the resource owner who created this client</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Not Found - clientId doesn&#39;t exists</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
</tbody></table>
<h1 id='server-information-87384'>Server Information</h1>
<p>The UAA provides several endpoints to describe the server as well as handle various login tasks.</p>
<h2 id='server-information-30515'>Server Information</h2>
<p>This endpoint has two identical endpoints</p>

<ol>
<li>/info</li>
<li>/login</li>
</ol>

<p>Both return the same result and both support both JSON and HTML output.
The HTML output is intended for browser user agents to display a login page.</p>

<pre><code class="bash">$ curl &#39;http://localhost/info&#39; -i \
    -H &#39;Accept: application/json&#39;
</code></pre>

<pre><code class="http">GET /info HTTP/1.1
Accept: application/json
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Cache-Control: no-store
Content-Length: 741

{
  &quot;app&quot; : {
    &quot;version&quot; : &quot;4.5.0&quot;
  },
  &quot;showLoginLinks&quot; : true,
  &quot;links&quot; : {
    &quot;uaa&quot; : &quot;http://localhost:8080/uaa&quot;,
    &quot;passwd&quot; : &quot;/forgot_password&quot;,
    &quot;login&quot; : &quot;http://localhost:8080/uaa&quot;,
    &quot;register&quot; : &quot;/create_account&quot;
  },
  &quot;zone_name&quot; : &quot;uaa&quot;,
  &quot;entityID&quot; : &quot;cloudfoundry-saml-login&quot;,
  &quot;commit_id&quot; : &quot;df80f63&quot;,
  &quot;idpDefinitions&quot; : {
    &quot;SAML&quot; : &quot;http://localhost:8080/uaa/saml/discovery?returnIDParam=idp&amp;entityID=cloudfoundry-saml-login&amp;idp=SAML&amp;isPassive=true&quot;
  },
  &quot;prompts&quot; : {
    &quot;username&quot; : [ &quot;text&quot;, &quot;Email&quot; ],
    &quot;password&quot; : [ &quot;password&quot;, &quot;Password&quot; ],
    &quot;passcode&quot; : [ &quot;password&quot;, &quot;One Time Code ( Get one at http://localhost:8080/uaa/passcode )&quot; ]
  },
  &quot;timestamp&quot; : &quot;2017-07-21T22:45:01+0000&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Accept</code></td>
<td>When set to accept application/json the server will return prompts and server info in JSON format.</td>
</tr>
</tbody></table>

<p><em>Response Fields</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>app.version</code></td>
<td><code>String</code></td>
<td>The UAA version</td>
</tr>
<tr>
<td><code>commit_id</code></td>
<td><code>String</code></td>
<td>The GIT sha for the UAA version</td>
</tr>
<tr>
<td><code>timestamp</code></td>
<td><code>String</code></td>
<td>JSON timestamp for the commit of the UAA version</td>
</tr>
<tr>
<td><code>idpDefinitions</code></td>
<td><code>Object</code></td>
<td>A list of alias/url pairs of SAML IDP providers configured. Each url is the starting point to initiate the authentication process for the SAML identity provider.</td>
</tr>
<tr>
<td><code>idpDefinitions.*</code></td>
<td><code>Array</code></td>
<td>A list of alias/url pairs of SAML IDP providers configured. Each url is the starting point to initiate the authentication process for the SAML identity provider.</td>
</tr>
<tr>
<td><code>links</code></td>
<td><code>Object</code></td>
<td>A list of alias/url pairs of configured action URLs for the UAA</td>
</tr>
<tr>
<td><code>links.login</code></td>
<td><code>String</code></td>
<td>The link to the login host alias of the UAA</td>
</tr>
<tr>
<td><code>links.uaa</code></td>
<td><code>String</code></td>
<td>The link to the uaa alias host of the UAA</td>
</tr>
<tr>
<td><code>links.passwd</code></td>
<td><code>String</code></td>
<td>The link to the &#39;Forgot Password&#39; functionality. Can be external or internal to the UAA</td>
</tr>
<tr>
<td><code>links.register</code></td>
<td><code>String</code></td>
<td>The link to the &#39;Create Account&#39; functionality. Can be external or internal to the UAA</td>
</tr>
<tr>
<td><code>entityID</code></td>
<td><code>String</code></td>
<td>The UAA is always a SAML service provider. This field contains the configured entityID</td>
</tr>
<tr>
<td><code>prompts</code></td>
<td><code>Object</code></td>
<td>A list of name/value pairs of configured prompts that the UAA will login a user. Format for each prompt is [type, display name] where type can be &#39;text&#39; or &#39;password&#39;</td>
</tr>
<tr>
<td><code>prompts.username</code></td>
<td><code>Array</code></td>
<td>Information about the username prompt.</td>
</tr>
<tr>
<td><code>prompts.password</code></td>
<td><code>Array</code></td>
<td>Information about the password prompt.</td>
</tr>
<tr>
<td><code>prompts.passcode</code></td>
<td><code>Array</code></td>
<td>If a SAML identity provider is configured, this prompt contains a URL to where the user can initiate the SAML authentication flow.</td>
</tr>
<tr>
<td><code>zone_name</code></td>
<td><code>String</code></td>
<td>The name of the zone invoked</td>
</tr>
<tr>
<td><code>showLoginLinks</code></td>
<td><code>Boolean</code></td>
<td>Set to true if there are SAML or OAUTH/OIDC providers with a visible link on the login page.</td>
</tr>
</tbody></table>
<h2 id='passcode-63570'>Passcode</h2>
<p>A user that has been authenticated, can request a one time authentication code, pass code, to be used during a
token password grant. Password grants are often used in non browser environments, and authenticating a user with SAML,
 may be difficult.</p>

<pre><code class="bash">$ curl &#39;http://localhost/passcode&#39; -i \
    -H &#39;Accept: application/json&#39; \
    -H &#39;Cookie: JSESSIONID=21&#39;
</code></pre>

<pre><code class="http">GET /passcode HTTP/1.1
Accept: application/json
Cookie: JSESSIONID=21
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Cache-Control: no-store
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 12

&quot;kMDOuvv65Q&quot;
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Cookie</code></td>
<td>JSESSIONID cookie to match the server side session of the authenticated user.</td>
</tr>
</tbody></table>
<h2 id='auto-login-76390'>Auto Login</h2><h3 id='get-authentication-code-67121'>Get authentication code</h3>
<p>Similar to /passcode, the difference with an autologin authentication code, is that the authentication of the user takes place
during the generation of the one time code.
The autologin authentication code can be used to log the user in with an HTTP redirect. The UAA will establish an authenticated
server side session and expire the code. To generate the one time code, a POST against /autologin is required.</p>

<pre><code class="bash">$ curl &#39;http://localhost/autologin&#39; -i -u &#39;admin:adminsecret&#39; -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;{&quot;username&quot;:&quot;marissa&quot;,&quot;password&quot;:&quot;koala&quot;}&#39;
</code></pre>

<pre><code class="http">POST /autologin HTTP/1.1
Content-Type: application/json
Authorization: Basic YWRtaW46YWRtaW5zZWNyZXQ=
Accept: application/json
Host: localhost
Content-Length: 41

{&quot;username&quot;:&quot;marissa&quot;,&quot;password&quot;:&quot;koala&quot;}
</code></pre>

<pre><code class="http">HTTP/1.1 200 OK
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 58

{
  &quot;code&quot; : &quot;t5MoQH4yYn&quot;,
  &quot;path&quot; : &quot;/oauth/authorize&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Basic authorization header for the client making the autologin request</td>
</tr>
<tr>
<td><code>Content-Type</code></td>
<td>Set to application/json</td>
</tr>
<tr>
<td><code>Accept</code></td>
<td>Set to application/json</td>
</tr>
</tbody></table>

<p><em>Request Body</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>String</td>
<td>Required</td>
<td>The username for the autologin request</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>Required</td>
<td>The password for the autologin request</td>
</tr>
</tbody></table>

<p><em>Response Body</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>code</code></td>
<td><code>String</code></td>
<td>The code used to authenticate the user.</td>
</tr>
<tr>
<td><code>path</code></td>
<td><code>String</code></td>
<td>Not used. Hardcoded to /oauth/authorize</td>
</tr>
</tbody></table>
<h3 id='perform-login-95655'>Perform Login</h3>
<p>To exchange the code for an authenticated session, simply issue a redirect to /autologin using the code and client_id.
If successful the user will be redirected to the home page, unless the user had tried to access a protected URL
and the UAA remembers the URL that was accessed.</p>

<pre><code class="bash">$ curl &#39;http://localhost/autologin?code=2t6fPFl73r&amp;client_id=admin&#39; -i
</code></pre>

<pre><code class="http">GET /autologin?code=2t6fPFl73r&amp;client_id=admin HTTP/1.1
Host: localhost

</code></pre>

<pre><code class="http">HTTP/1.1 302 Found
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Location: home
Set-Cookie: Saved-Account-3ec59911-a07b-4580-8d1f-f03ef7a52f62=%7B%22userId%22%3A%223ec59911-a07b-4580-8d1f-f03ef7a52f62%22%2C%22username%22%3A%22marissa%22%2C%22origin%22%3A%22uaa%22%2C%22email%22%3A%22marissa%40test.org%22%7D;Max-Age=31536000;path=/login;HttpOnly
Set-Cookie: Current-User=%7B%22userId%22%3A%223ec59911-a07b-4580-8d1f-f03ef7a52f62%22%7D;Max-Age=31536000

</code></pre>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>String</td>
<td>Required</td>
<td>The code generated from the POST /autologin</td>
</tr>
<tr>
<td>client_id</td>
<td>String</td>
<td>Required</td>
<td>The client_id that generated the autologin code</td>
</tr>
</tbody></table>
<h1 id='external-login-server-13531'>External Login Server</h1>
<p>The UAA provides endpoints that facilitate the use of an external login server. A server that handles the UI
for browser based actions.</p>
<h2 id='change-password-flow-53914'>Change Password Flow</h2><h3 id='request-reset-password-code-43381'>Request Reset Password Code</h3>
<p>This endpoint returns an onetime code that can be used to change a user&#39;s password.
The actual password change can take place by invoking an API endpoint, <code>/password_change</code>, or by a UI flow through 
the <code>/reset_password</code> endpoint. </p>

<pre><code class="bash">$ curl &#39;http://localhost/password_resets?client_id=login&amp;redirect_uri=http%3A%2F%2Fgo.to.my.app%2Fafter%2Freset&#39; -i -X POST \
    -H &#39;Content-Type: application/json&#39; \
    -H &#39;Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiJmNWE0MjIwMjlhOTg0NjIyOGI0NDFmYmJlMDJkNTRkZSIsInN1YiI6ImxvZ2luIiwiYXV0aG9yaXRpZXMiOlsiY2xpZW50cy5yZWFkIiwiZW1haWxzLndyaXRlIiwic2NpbS51c2VyaWRzIiwicGFzc3dvcmQud3JpdGUiLCJpZHBzLndyaXRlIiwibm90aWZpY2F0aW9ucy53cml0ZSIsIm9hdXRoLmxvZ2luIiwic2NpbS53cml0ZSIsImNyaXRpY2FsX25vdGlmaWNhdGlvbnMud3JpdGUiXSwic2NvcGUiOlsib2F1dGgubG9naW4iXSwiY2xpZW50X2lkIjoibG9naW4iLCJjaWQiOiJsb2dpbiIsImF6cCI6ImxvZ2luIiwiZ3JhbnRfdHlwZSI6ImNsaWVudF9jcmVkZW50aWFscyIsInJldl9zaWciOiJjMTM1YTZiZiIsImlhdCI6MTUwMTI4NjE3OCwiZXhwIjoxNTAxMzI5Mzc4LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwiYXVkIjpbImxvZ2luIiwib2F1dGgiXX0.J-g3WCSd50l2XxaHkF44rIQCw0eIMN-dZkUDvAIB-14&#39; \
    -H &#39;Accept: application/json&#39; \
    -d &#39;user-izlqhx@test.org&#39;
</code></pre>

<pre><code class="http">POST /password_resets?client_id=login&amp;redirect_uri=http%3A%2F%2Fgo.to.my.app%2Fafter%2Freset HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiJmNWE0MjIwMjlhOTg0NjIyOGI0NDFmYmJlMDJkNTRkZSIsInN1YiI6ImxvZ2luIiwiYXV0aG9yaXRpZXMiOlsiY2xpZW50cy5yZWFkIiwiZW1haWxzLndyaXRlIiwic2NpbS51c2VyaWRzIiwicGFzc3dvcmQud3JpdGUiLCJpZHBzLndyaXRlIiwibm90aWZpY2F0aW9ucy53cml0ZSIsIm9hdXRoLmxvZ2luIiwic2NpbS53cml0ZSIsImNyaXRpY2FsX25vdGlmaWNhdGlvbnMud3JpdGUiXSwic2NvcGUiOlsib2F1dGgubG9naW4iXSwiY2xpZW50X2lkIjoibG9naW4iLCJjaWQiOiJsb2dpbiIsImF6cCI6ImxvZ2luIiwiZ3JhbnRfdHlwZSI6ImNsaWVudF9jcmVkZW50aWFscyIsInJldl9zaWciOiJjMTM1YTZiZiIsImlhdCI6MTUwMTI4NjE3OCwiZXhwIjoxNTAxMzI5Mzc4LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwiYXVkIjpbImxvZ2luIiwib2F1dGgiXX0.J-g3WCSd50l2XxaHkF44rIQCw0eIMN-dZkUDvAIB-14
Accept: application/json
Host: localhost
Content-Length: 20

user-izlqhx@test.org
</code></pre>

<pre><code class="http">HTTP/1.1 201 Created
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-XSS-Protection: 1; mode=block
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
Content-Type: application/json;charset=UTF-8
Content-Length: 81

{
  &quot;code&quot; : &quot;Z3s9CGFMvi&quot;,
  &quot;user_id&quot; : &quot;a80024b8-dea2-4957-9f93-7f607797579e&quot;
}
</code></pre>

<p><em>Request Headers</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Authorization</code></td>
<td>Bearer token with the scope <code>oauth.login</code> present.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Id</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a zone_id.</td>
</tr>
<tr>
<td><code>X-Identity-Zone-Subdomain</code></td>
<td>If using a `zones.<zoneId>.admin scope/token, indicates what zone this request goes to by supplying a subdomain.</td>
</tr>
</tbody></table>

<p><em>Request Parameters</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>String</td>
<td>Optional</td>
<td>Optional client_id</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>String</td>
<td>Optional</td>
<td>Optional redirect_uri to be used if the <code>/reset_password</code> flow is completed.</td>
</tr>
</tbody></table>

<p><em>Request Body</em></p>

<p>The required request body of this request is the user&#39;s username, typically an email address, in form of a JSON string.<br/></p>

<p><em>Response Body</em></p>

<table><thead>
<tr>
<th>Path</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>code</code></td>
<td><code>String</code></td>
<td>The code to used to invoke the <code>/password_change</code> endpoint with or to initiate the <code>/reset_password</code> flow.</td>
</tr>
<tr>
<td><code>user_id</code></td>
<td><code>String</code></td>
<td>The UUID identifying the user.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
